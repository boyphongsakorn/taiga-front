(l=>{function e(e){for(var t,n,r=e[0],i=e[1],o=e[2],a=0,s=[];a<r.length;a++)n=r[a],Object.prototype.hasOwnProperty.call(u,n)&&u[n]&&s.push(u[n][0]),u[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t]);for(d&&d(e);s.length;)s.shift()();return h.push.apply(h,o||[]),c()}function c(){for(var e,t=0;t<h.length;t++){for(var n=h[t],r=!0,i=1;i<n.length;i++)0!==u[n[i]]&&(r=!1);r&&(h.splice(t--,1),e=o(o.s=n[0]))}return e}var n={},u={0:0},h=[];function o(e){var t;return(n[e]||(t=n[e]={i:e,l:!1,exports:{}},l[e].call(t.exports,t,t.exports,o),t.l=!0,t)).exports}o.m=l,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),i=0;i<r.length;i++)e(r[i]);var d=t;c()})([]),(()=>{function ae(e,t){var n,r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=((e,t)=>{var n;if(e)return"string"==typeof e?s(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0})(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+2oP":function(e,t,n){var r=n("I+eb"),c=n("hh1v"),u=n("6LWA"),h=n("I8vh"),d=n("UMSQ"),f=n("/GqU"),p=n("hBjN"),i=n("tiKp"),o=n("Hd5f"),n=n("rkAj"),o=o("slice"),n=n("slice",{ACCESSORS:!0,0:0,1:2}),g=i("species"),v=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!o||!n},{slice:function(e,t){var n,r,i,o=f(this),a=d(o.length),s=h(e,a),l=h(void 0===t?a:t,a);if(u(o)&&((n="function"==typeof(n=o.constructor)&&(n===Array||u(n.prototype))||c(n)&&null===(n=n[g])?void 0:n)===Array||void 0===n))return v.call(o,s,l);for(r=new(void 0===n?Array:n)(m(l-s,0)),i=0;s<l;s++,i++)s in o&&p(r,i,o[s]);return r.length=i,r}})},"/5zm":function(e,t,n){var r=n("I+eb"),i=n("jrUv"),n=Math.cosh,o=Math.abs,a=Math.E;r({target:"Math",stat:!0,forced:!n||n(710)===1/0},{cosh:function(e){e=i(o(e)-1)+1;return(e+1/(e*a*a))*(a/2)}})},"/GqU":function(e,t,n){var r=n("RK3t"),i=n("HYAF");e.exports=function(e){return r(i(e))}},"/b8u":function(e,t,n){n=n("STAE");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"/byt":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"/qmn":function(e,t,n){n=n("2oRo");e.exports=n.Promise},"07d7":function(e,t,n){var r=n("AO7/"),i=n("busE"),n=n("sEFX");r||i(Object.prototype,"toString",n,{unsafe:!0})},"0BK2":function(e,t){e.exports={}},"0Dky":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"0GbY":function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var i=n("Qo9l"),o=n("2oRo");e.exports=function(e,t){return arguments.length<2?r(i[e])||r(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},"0eef":function(e,t,n){var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){e=i(this,e);return!!e&&e.enumerable}:r},"0oug":function(e,t,n){n("dG/n")("iterator")},"0rvr":function(e,t,n){var i=n("glrk"),o=n("O741");e.exports=Object.setPrototypeOf||("__proto__"in{}?(()=>{var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return i(e),o(t),r?n.call(e,t):e.__proto__=t,e}})():void 0)},"14Sl":function(e,t,n){n("rB9j");var c=n("busE"),u=n("0Dky"),h=n("tiKp"),d=n("kmMV"),f=n("kRJp"),p=h("species"),g=!u(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),v="$0"==="a".replace(/./,"$0"),n=h("replace"),m=!!/./[n]&&""===/./[n]("a","$0"),y=!u(function(){var e=/(?:)/,t=e.exec,e=(e.exec=function(){return t.apply(this,arguments)},"ab".split(e));return 2!==e.length||"a"!==e[0]||"b"!==e[1]});e.exports=function(n,e,t,r){var o,i,a=h(n),s=!u(function(){var e={};return e[a]=function(){return 7},7!=""[n](e)}),l=s&&!u(function(){var e=!1,t=/a/;return"split"===n&&((t={}).constructor={},t.constructor[p]=function(){return t},t.flags="",t[a]=/./[a]),t.exec=function(){return e=!0,null},t[a](""),!e});s&&l&&("replace"!==n||g&&v&&!m)&&("split"!==n||y)||(o=/./[a],l=t(a,""[n],function(e,t,n,r,i){return t.exec===d?s&&!i?{done:!0,value:o.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),i=l[1],c(String.prototype,n,l[0]),c(RegExp.prototype,a,2==e?function(e,t){return i.call(e,this,t)}:function(e){return i.call(e,this)})),r&&f(RegExp.prototype[a],"sham",!0)}},"1E5z":function(e,t,n){var r=n("m/L8").f,i=n("UTVS"),o=n("tiKp")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},"1Y/n":function(e,t,n){function r(c){return function(e,t,n,r){u(t);var i=h(e),o=d(i),a=f(i.length),s=c?a-1:0,l=c?-1:1;if(n<2)for(;;){if(s in o){r=o[s],s+=l;break}if(s+=l,c?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;c?0<=s:s<a;s+=l)s in o&&(r=t(r,o[s],s,i));return r}}var u=n("HAuM"),h=n("ewvW"),d=n("RK3t"),f=n("UMSQ");e.exports={left:r(!1),right:r(!0)}},2:function(e,t,n){n("mRIq"),n("R0gw"),e.exports=n("hN/g")},"2A+d":function(e,t,n){var r=n("I+eb"),a=n("/GqU"),s=n("UMSQ");r({target:"String",stat:!0},{raw:function(e){for(var t=a(e.raw),n=s(t.length),r=arguments.length,i=[],o=0;o<n;)i.push(String(t[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}})},"2B1R":function(e,t,n){var r=n("I+eb"),i=n("tycR").map,o=n("Hd5f"),n=n("rkAj"),o=o("map"),n=n("map");r({target:"Array",proto:!0,forced:!o||!n},{map:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},"2oRo":function(e,t){function n(e){return e&&e.Math==Math&&e}e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},"33Wh":function(e,t,n){var r=n("yoRg"),i=n("eDl+");e.exports=Object.keys||function(e){return r(e,i)}},"3I1R":function(e,t,n){n("dG/n")("hasInstance")},"3KgV":function(e,t,n){var r=n("I+eb"),i=n("uy83"),o=n("0Dky"),a=n("hh1v"),s=n("8YOa").onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:o(function(){l(1)}),sham:!i},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},"3bBZ":function(e,t,n){var r,i=n("2oRo"),o=n("/byt"),a=n("4mDm"),s=n("kRJp"),n=n("tiKp"),l=n("iterator"),c=n("toStringTag"),u=a.values;for(r in o){var h=i[r],d=h&&h.prototype;if(d){if(d[l]!==u)try{s(d,l,u)}catch(e){d[l]=u}if(d[c]||s(d,c,r),o[r])for(var f in a)if(d[f]!==a[f])try{s(d,f,a[f])}catch(e){d[f]=a[f]}}}},"4Brf":function(e,t,n){var r,i,o,a,s=n("I+eb"),l=n("g6v/"),c=n("2oRo"),u=n("UTVS"),h=n("hh1v"),d=n("m/L8").f,n=n("6JNq"),f=c.Symbol;!l||"function"!=typeof f||"description"in f.prototype&&void 0===f().description||(r={},n(c=function e(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof e?new f(t):void 0===t?f():f(t);return""===t&&(r[n]=!0),n},f),(l=c.prototype=f.prototype).constructor=c,i=l.toString,o="Symbol(test)"==String(f("test")),a=/^Symbol\((.*)\)[^)]+$/,d(l,"description",{configurable:!0,get:function(){var e=h(this)?this.valueOf():this,t=i.call(e);return u(r,e)?"":""===(e=o?t.slice(7,-1):t.replace(a,"$1"))?void 0:e}}),s({global:!0,forced:!0},{Symbol:c}))},"4WOD":function(e,t,n){var r=n("UTVS"),i=n("ewvW"),o=n("93I0"),n=n("4Xet"),a=o("IE_PROTO"),s=Object.prototype;e.exports=n?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"4Xet":function(e,t,n){n=n("0Dky");e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},"4h0Y":function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("hh1v"),a=Object.isFrozen;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isFrozen:function(e){return!o(e)||!!a&&a(e)}})},"4l63":function(e,t,n){var r=n("I+eb"),n=n("wg0c");r({global:!0,forced:parseInt!=n},{parseInt:n})},"4mDm":function(e,t,n){var r=n("/GqU"),i=n("RNIs"),o=n("P4y1"),a=n("afO8"),n=n("fdAy"),s=a.set,l=a.getterFor("Array Iterator");e.exports=n(Array,"Array",function(e,t){s(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"4oU/":function(e,t,n){var r=n("2oRo").isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},"4syw":function(e,t,n){var i=n("busE");e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},"5D5o":function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("hh1v"),a=Object.isSealed;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isSealed:function(e){return!o(e)||!!a&&a(e)}})},"5DmW":function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("/GqU"),a=n("Bs8V").f,n=n("g6v/"),i=i(function(){a(1)});r({target:"Object",stat:!0,forced:!n||i,sham:!n},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},"5Tg+":function(e,t,n){n=n("tiKp");t.f=n},"5Yz+":function(e,t,n){var i=n("/GqU"),o=n("ppGB"),a=n("UMSQ"),r=n("pkCn"),n=n("rkAj"),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,r=r("lastIndexOf"),n=n("indexOf",{ACCESSORS:!0,1:0});e.exports=!c&&r&&n?l:function(e){if(c)return l.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for((r=1<arguments.length?s(r,o(arguments[1])):r)<0&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}},"5mdu":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"5s+n":function(j,D,e){function F(n,r){f.call(l,function(){var e,t=r.value;if(M(r)&&(e=m(function(){P?E.emit("unhandledRejection",t,n):O("unhandledrejection",n,t)}),r.rejection=P||M(r)?2:1,e.error))throw e.value})}function V(e,t){f.call(l,function(){P?E.emit("rejectionHandled",e):O("rejectionhandled",e,t.value)})}function o(n,r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(n===e)throw x("Promise can't be resolved itself");var i=R(e);i?g(function(){var t={done:!1};try{i.call(e,N(o,n,t,r),N(L,n,t,r))}catch(e){L(n,t,e,r)}}):(r.value=e,r.state=1,I(n,r,!1))}catch(e){L(n,{done:!1},e,r)}}}var n,t,r,i,a=e("I+eb"),s=e("xDBR"),l=e("2oRo"),c=e("0GbY"),u=e("/qmn"),z=e("busE"),B=e("4syw"),H=e("1E5z"),U=e("JiZb"),q=e("hh1v"),h=e("HAuM"),W=e("GarU"),$=e("xrYK"),K=e("iSVu"),d=e("ImZN"),G=e("HH4o"),Z=e("SEBh"),f=e("LPSS").set,g=e("tXUg"),p=e("zfnd"),J=e("RN6c"),v=e("8GlL"),m=e("5mdu"),y=e("afO8"),Q=e("lMq5"),k=e("tiKp"),b=e("LQDL"),Y=k("species"),_="Promise",w=y.get,X=y.set,ee=y.getterFor(_),C=u,x=l.TypeError,S=l.document,E=l.process,T=c("fetch"),A=v.f,te=A,P="process"==$(E),ne=!!(S&&S.createEvent&&l.dispatchEvent),e=Q(_,function(){if(K(C)===String(C)){if(66===b)return!0;if(!P&&"function"!=typeof PromiseRejectionEvent)return!0}var e,t;return!(!s||C.prototype.finally)||!(51<=b&&/native code/.test(C)||(t=function(e){e(function(){},function(){})},((e=C.resolve(1)).constructor={})[Y]=t,e.then(function(){})instanceof t))}),k=e||!G(function(e){C.all(e).catch(function(){})}),R=function(e){var t;return!(!q(e)||"function"!=typeof(t=e.then))&&t},I=function(h,d,f){var p;d.notified||(d.notified=!0,p=d.reactions,g(function(){for(var e=d.value,t=1==d.state,n=0;p.length>n;){var r,i,o,a=p[n++],s=t?a.ok:a.fail,l=a.resolve,c=a.reject,u=a.domain;try{s?(t||(2===d.rejection&&V(h,d),d.rejection=1),!0===s?r=e:(u&&u.enter(),r=s(e),u&&(u.exit(),o=!0)),r===a.promise?c(x("Promise-chain cycle")):(i=R(r))?i.call(r,l,c):l(r)):c(e)}catch(e){u&&!o&&u.exit(),c(e)}}d.reactions=[],d.notified=!1,f&&!d.rejection&&F(h,d)}))},O=function(e,t,n){var r;ne?((r=S.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},(t=l["on"+e])?t(r):"unhandledrejection"===e&&J("Unhandled promise rejection",n)},M=function(e){return 1!==e.rejection&&!e.parent},N=function(t,n,r,i){return function(e){t(n,r,e,i)}},L=function(e,t,n,r){t.done||(t.done=!0,(t=r?r:t).value=n,t.state=2,I(e,t,!0))};e&&(C=function(e){W(this,C,_),h(e),n.call(this);var t=w(this);try{e(N(o,this,t),N(L,this,t))}catch(e){L(this,t,e)}},(n=function(e){X(this,{type:_,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=B(C.prototype,{then:function(e,t){var n=ee(this),r=A(Z(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=P?E.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&I(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),t=function(){var e=new n,t=w(e);this.promise=e,this.resolve=N(o,e,t),this.reject=N(L,e,t)},v.f=A=function(e){return e===C||e===r?new t:te(e)},s||"function"!=typeof u||(i=u.prototype.then,z(u.prototype,"then",function(e,t){var n=this;return new C(function(e,t){i.call(n,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof T&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return p(C,T.apply(l,arguments))}}))),a({global:!0,wrap:!0,forced:e},{Promise:C}),H(C,_,!1,!0),U(_),r=c(_),a({target:_,stat:!0,forced:e},{reject:function(e){var t=A(this);return t.reject.call(void 0,e),t.promise}}),a({target:_,stat:!0,forced:s||e},{resolve:function(e){return p(s&&this===r?C:this,e)}}),a({target:_,stat:!0,forced:k},{all:function(e){var s=this,t=A(s),l=t.resolve,c=t.reject,n=m(function(){var r=h(s.resolve),i=[],o=0,a=1;d(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(s,e).then(function(e){n||(n=!0,i[t]=e,--a)||l(i)},c)}),--a||l(i)});return n.error&&c(n.value),t.promise},race:function(e){var n=this,r=A(n),i=r.reject,t=m(function(){var t=h(n.resolve);d(e,function(e){t.call(n,e).then(r.resolve,i)})});return t.error&&i(t.value),r.promise}})},"5uH8":function(e,t,n){n("I+eb")({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},"6JNq":function(e,t,n){var s=n("UTVS"),l=n("Vu81"),c=n("Bs8V"),u=n("m/L8");e.exports=function(e,t){for(var n=l(t),r=u.f,i=c.f,o=0;o<n.length;o++){var a=n[o];s(e,a)||r(e,a,i(t,a))}}},"6LWA":function(e,t,n){var r=n("xrYK");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"6VoE":function(e,t,n){var r=n("tiKp"),i=n("P4y1"),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},"6hpn":function(e,t,n){n("Uydy"),n("eajv"),n("n/mU"),n("PqOI"),n("QNnp"),n("/5zm"),n("CsgD"),n("9mRW"),n("QFcT"),n("vAFs"),n("a5NK"),n("yiG3"),n("kNcU"),n("KvGi"),n("AmFO"),n("eJiR"),n("I9xj"),n("tl/u");n=n("Qo9l");e.exports=n.Math},"7+kd":function(e,t,n){n("dG/n")("isConcatSpreadable")},"7+zs":function(e,t,n){var r=n("kRJp"),i=n("UesL"),n=n("tiKp")("toPrimitive"),o=Date.prototype;n in o||r(o,n,i)},"7sbD":function(e,t,n){n("qePV"),n("NbN+"),n("8AyJ"),n("i6QF"),n("kSko"),n("WDsR"),n("r/Vq"),n("5uH8"),n("w1rZ"),n("JevA"),n("toAj"),n("VC3L");n=n("Qo9l");e.exports=n.Number},"8AyJ":function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isFinite:n("4oU/")})},"8GlL":function(e,t,n){function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}var i=n("HAuM");e.exports.f=function(e){return new r(e)}},"8YOa":function(e,t,n){function r(e){s(e,u,{value:{objectID:"O"+ ++h,weakData:{}}})}var i=n("0BK2"),o=n("hh1v"),a=n("UTVS"),s=n("m/L8").f,l=n("kOOl"),c=n("uy83"),u=l("meta"),h=0,d=Object.isExtensible||function(){return!0},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!d(e))return"F";if(!t)return"E";r(e)}return e[u].objectID},getWeakData:function(e,t){if(!a(e,u)){if(!d(e))return!0;if(!t)return!1;r(e)}return e[u].weakData},onFreeze:function(e){return c&&f.REQUIRED&&d(e)&&!a(e,u)&&r(e),e}};i[u]=!0},"90hW":function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},"93I0":function(e,t,n){var r=n("VpIT"),i=n("kOOl"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},"9LPj":function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("ewvW"),a=n("wE6v");r({target:"Date",proto:!0,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(e){var t=o(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},"9N29":function(e,t,n){var r=n("I+eb"),i=n("1Y/n").right,o=n("pkCn"),n=n("rkAj"),o=o("reduceRight"),n=n("reduce",{1:0});r({target:"Array",proto:!0,forced:!o||!n},{reduceRight:function(e){return i(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}})},"9bJ7":function(e,t,n){var r=n("I+eb"),i=n("ZUd8").codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},"9d/t":function(e,t,n){var r=n("AO7/"),i=n("xrYK"),o=n("tiKp")("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=((e,t)=>{try{return e[t]}catch(e){}})(e=Object(e),o))?t:a?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},"9mRW":function(e,t,n){n("I+eb")({target:"Math",stat:!0},{fround:n("vo4V")})},"9tb/":function(e,t,n){var r=n("I+eb"),o=n("I8vh"),a=String.fromCharCode,n=String.fromCodePoint;r({target:"String",stat:!0,forced:!!n&&1!=n.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;i<r;){if(t=+arguments[i++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},A2ZE:function(e,t,n){var o=n("HAuM");e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 0:return function(){return r.call(i)};case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},"AO7/":function(e,t,n){var r={};r[n("tiKp")("toStringTag")]="z",e.exports="[object z]"===String(r)},AmFO:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("jrUv"),a=Math.abs,s=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:i(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(e){return a(e=+e)<1?(o(e)-o(-e))/2:(s(e-1)-s(-e-1))*(l/2)}})},BNMt:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("blink")},{blink:function(){return i(this,"blink","","")}})},BTho:function(e,t,n){var r=n("HAuM"),i=n("hh1v"),u=[].slice,h={};e.exports=Function.bind||function(a){function s(){var e=c.concat(u.call(arguments));if(this instanceof s){var t=l,n=e.length,r=e;if(!(n in h)){for(var i=[],o=0;o<n;o++)i[o]="a["+o+"]";h[n]=Function("C,a","return new C("+i.join(",")+")")}return h[n](t,r)}return l.apply(a,e)}var l=r(this),c=u.call(arguments,1);return i(l.prototype)&&(s.prototype=l.prototype),s}},"BX/b":function(e,t,n){var r=n("/GqU"),i=n("JBy8").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){if(!a||"[object Window]"!=o.call(e))return i(r(e));try{return i(e)}catch(e){return a.slice()}}},Bs8V:function(e,t,n){var r=n("g6v/"),i=n("0eef"),o=n("XGwC"),a=n("/GqU"),s=n("wE6v"),l=n("UTVS"),c=n("DPsx"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},CsgD:function(e,t,n){var r=n("I+eb"),n=n("jrUv");r({target:"Math",stat:!0,forced:n!=Math.expm1},{expm1:n})},DEfu:function(e,t,n){var r=n("2oRo");n("1E5z")(r.JSON,"JSON",!0)},DMt2:function(e,t,n){function r(i){return function(e,t,n){var e=String(s(e)),r=e.length,n=void 0===n?" ":String(n),t=o(t);return t<=r||""==n?e:((r=a.call(n,l((t=t-r)/n.length))).length>t&&(r=r.slice(0,t)),i?e+r:r+e)}}var o=n("UMSQ"),a=n("EUja"),s=n("HYAF"),l=Math.ceil;e.exports={start:r(!1),end:r(!0)}},DPsx:function(e,t,n){var r=n("g6v/"),i=n("0Dky"),o=n("zBJ4");e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},DQNa:function(e,t,n){var n=n("busE"),r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(r,"toString",function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"})},E5NM:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("big")},{big:function(){return i(this,"big","","")}})},E9XD:function(e,t,n){var r=n("I+eb"),i=n("1Y/n").left,o=n("pkCn"),n=n("rkAj"),o=o("reduce"),n=n("reduce",{1:0});r({target:"Array",proto:!0,forced:!o||!n},{reduce:function(e){return i(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}})},ENF9:function(e,t,n){function r(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}var i,o,a,s,l,c=n("2oRo"),u=n("4syw"),h=n("8YOa"),d=n("bWFh"),f=n("rKzb"),p=n("hh1v"),g=n("afO8").enforce,n=n("f5p1"),c=!c.ActiveXObject&&"ActiveXObject"in c,v=Object.isExtensible,e=e.exports=d("WeakMap",r,f);n&&c&&(i=f.getConstructor(r,"WeakMap",!0),h.REQUIRED=!0,d=e.prototype,o=d.delete,a=d.has,s=d.get,l=d.set,u(d,{delete:function(e){var t;return p(e)&&!v(e)?((t=g(this)).frozen||(t.frozen=new i),o.call(this,e)||t.frozen.delete(e)):o.call(this,e)},has:function(e){var t;return p(e)&&!v(e)?((t=g(this)).frozen||(t.frozen=new i),a.call(this,e)||t.frozen.has(e)):a.call(this,e)},get:function(e){var t;return!p(e)||v(e)||((t=g(this)).frozen||(t.frozen=new i),a.call(this,e))?s.call(this,e):t.frozen.get(e)},set:function(e,t){var n;return!p(e)||v(e)||((n=g(this)).frozen||(n.frozen=new i),a.call(this,e))?l.call(this,e,t):n.frozen.set(e,t),this}}))},EUja:function(e,t,n){var i=n("ppGB"),o=n("HYAF");e.exports="".repeat||function(e){var t=String(o(this)),n="",r=i(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},EnZy:function(e,t,n){var r=n("14Sl"),u=n("ROdP"),v=n("glrk"),h=n("HYAF"),m=n("SEBh"),y=n("iqWW"),k=n("UMSQ"),b=n("FMNM"),d=n("kmMV"),n=n("0Dky"),_=[].push,w=Math.min,C=!n(function(){return!RegExp(4294967295,"y")});r("split",2,function(i,f,p){var g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var n=String(h(this)),r=void 0===t?4294967295:t>>>0;if(0==r)return[];if(void 0===e)return[n];if(!u(e))return f.call(n,e,r);for(var i,o,a,s=[],l=0,c=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(i=d.call(c,n))&&!((o=c.lastIndex)>l&&(s.push(n.slice(l,i.index)),1<i.length&&i.index<n.length&&_.apply(s,i.slice(1)),a=i[0].length,l=o,r<=s.length));)c.lastIndex===i.index&&c.lastIndex++;return l===n.length?!a&&c.test("")||s.push(""):s.push(n.slice(l)),r<s.length?s.slice(0,r):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:f.call(this,e,t)}:f;return[function(e,t){var n=h(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):g.call(String(n),e,t)},function(e,t){var n=p(g,e,this,t,g!==f);if(n.done)return n.value;var n=v(e),r=String(this),e=m(n,RegExp),i=n.unicode,o=new e(C?n:"^(?:"+n.source+")",(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(C?"y":"g")),a=void 0===t?4294967295:t>>>0;if(0==a)return[];if(0===r.length)return null===b(o,r)?[r]:[];for(var s=0,l=0,c=[];l<r.length;){o.lastIndex=C?l:0;var u,h=b(o,C?r:r.slice(l));if(null===h||(u=w(k(o.lastIndex+(C?0:l)),r.length))===s)l=y(r,l,i);else{if(c.push(r.slice(s,l)),c.length===a)return c;for(var d=1;d<=h.length-1;d++)if(c.push(h[d]),c.length===a)return c;l=s=u}}return c.push(r.slice(s)),c}]},!C)},Ep9I:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},ExoC:function(e,t,n){n("I+eb")({target:"Object",stat:!0},{setPrototypeOf:n("0rvr")})},F8JR:function(e,t,n){var r=n("tycR").forEach,i=n("pkCn"),n=n("rkAj"),i=i("forEach"),n=n("forEach");e.exports=i&&n?[].forEach:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}},FF6l:function(e,t,n){var l=n("ewvW"),c=n("I8vh"),u=n("UMSQ"),h=Math.min;e.exports=[].copyWithin||function(e,t){var n=l(this),r=u(n.length),i=c(e,r),o=c(t,r),e=2<arguments.length?arguments[2]:void 0,a=h((void 0===e?r:c(e,r))-o,r-i),s=1;for(o<i&&i<o+a&&(s=-1,o+=a-1,i+=a-1);0<a--;)o in n?n[i]=n[o]:delete n[i],i+=s,o+=s;return n}},FMNM:function(e,t,n){var r=n("xrYK"),i=n("kmMV");e.exports=function(e,t){var n=e.exec;if("function"==typeof n){n=n.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},FZtP:function(e,t,n){var r,i=n("2oRo"),o=n("/byt"),a=n("F8JR"),s=n("kRJp");for(r in o){var l=i[r],l=l&&l.prototype;if(l&&l.forEach!==a)try{s(l,"forEach",a)}catch(e){l.forEach=a}}},"G+Rx":function(e,t,n){n=n("0GbY");e.exports=n("document","documentElement")},GKVU:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},GRPF:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},GXvd:function(e,t,n){n("dG/n")("species")},GarU:function(e,t){e.exports=function(e,t,n){if(e instanceof t)return e;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}},H0pb:function(e,t,n){n("ma9I"),n("07d7"),n("pNMO"),n("tjZM"),n("4Brf"),n("3I1R"),n("7+kd"),n("0oug"),n("KhsS"),n("jt2F"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("gbiT"),n("I9xj"),n("DEfu");n=n("Qo9l");e.exports=n.Symbol},HAuM:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},HH4o:function(e,t,n){var i=n("tiKp")("iterator"),o=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},HNyW:function(e,t,n){n=n("NC/Y");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},HRxU:function(e,t,n){var r=n("I+eb"),i=n("g6v/");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n("N+g0")})},HYAF:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},Hd5f:function(e,t,n){var r=n("0Dky"),i=n("tiKp"),o=n("LQDL"),a=i("species");e.exports=function(t){return 51<=o||!r(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},HsHA:function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:n(1+e)}},"I+eb":function(e,t,n){var c=n("2oRo"),u=n("Bs8V").f,h=n("kRJp"),d=n("busE"),f=n("zk60"),p=n("6JNq"),g=n("lMq5");e.exports=function(e,t){var n,r,i,o,a=e.target,s=e.global,l=e.stat;if(n=s?c:l?c[a]||f(a,{}):(c[a]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(o=u(n,r))&&o.value:n[r],!g(s?r:a+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;p(i,o)}(e.sham||o&&o.sham)&&h(i,"sham",!0),d(n,r,i,e)}}},I1Gw:function(e,t,n){n("dG/n")("split")},I8vh:function(e,t,n){var r=n("ppGB"),i=Math.max,o=Math.min;e.exports=function(e,t){e=r(e);return e<0?i(e+t,0):o(e,t)}},I9xj:function(e,t,n){n("1E5z")(Math,"Math",!0)},ImZN:function(e,t,n){function d(e,t){this.stopped=e,this.result=t}var f=n("glrk"),p=n("6VoE"),g=n("UMSQ"),v=n("A2ZE"),m=n("NaFW"),y=n("m92n");(e.exports=function(e,t,n,r,i){var o,a,s,l,c,u,h=v(t,n,r?2:1);if(i)o=e;else{if("function"!=typeof(t=m(e)))throw TypeError("Target is not iterable");if(p(t)){for(a=0,s=g(e.length);a<s;a++)if((l=r?h(f(u=e[a])[0],u[1]):h(e[a]))&&l instanceof d)return l;return new d(!1)}o=t.call(e)}for(c=o.next;!(u=c.call(o)).done;)if("object"==typeof(l=y(o,h,u.value,r))&&l&&l instanceof d)return l;return new d(!1)}).stop=function(e){return new d(!0,e)}},IxXR:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("strike")},{strike:function(){return i(this,"strike","","")}})},J30X:function(e,t,n){n("I+eb")({target:"Array",stat:!0},{isArray:n("6LWA")})},JBy8:function(e,t,n){var r=n("yoRg"),i=n("eDl+").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},JTJg:function(e,t,n){var r=n("I+eb"),i=n("WjRb"),o=n("HYAF");r({target:"String",proto:!0,forced:!n("qxPZ")("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),1<arguments.length?arguments[1]:void 0)}})},JevA:function(e,t,n){var r=n("I+eb"),n=n("wg0c");r({target:"Number",stat:!0,forced:Number.parseInt!=n},{parseInt:n})},JfAA:function(e,t,n){var r=n("busE"),i=n("glrk"),o=n("0Dky"),a=n("rW0t"),s=RegExp.prototype,l=s.toString;!o(function(){return"/a/b"!=l.call({source:"a",flags:"b"})})&&"toString"==l.name||r(RegExp.prototype,"toString",function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)},{unsafe:!0})},JiZb:function(e,t,n){var r=n("0GbY"),i=n("m/L8"),o=n("tiKp"),a=n("g6v/"),s=o("species");e.exports=function(e){e=r(e);a&&e&&!e[s]&&(0,i.f)(e,s,{configurable:!0,get:function(){return this}})}},KJ4T:function(j,D){var n=window,e=void 0;function F(){var e=h.splice(0,h.length);for(et=0;e.length;)e.shift().call(null,e.shift())}function V(e,t){for(var n=0,r=e.length;n<r;n++)J(e[n],t)}function z(t){return function(e){ze(e)&&(J(e,t),C.length)&&V(e.querySelectorAll(C),t)}}function B(e){var t=We.call(e,"is"),e=e.nodeName.toUpperCase(),n=S.call(_,t?ke+t.toUpperCase():b+e);return t&&-1<n&&!H(e,t)?-1:n}function H(e,t){return-1<C.indexOf(e+'[is="'+t+'"]')}function U(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target,o=e[ge]||2,a=e[ve]||3;!at||i&&i!==t||!t[m]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==o&&n!==a)||t[m](r,n===o?null:e.prevValue,n===a?null:e.newValue)}function q(e){var t=z(e);return function(e){h.push(t,e.target),et&&clearTimeout(et),et=setTimeout(F,1)}}function W(e){if(ot&&(ot=!1,e.currentTarget.removeEventListener(me,W)),C.length&&V((e.target||u).querySelectorAll(C),e.detail===g?g:p),N)for(var t,n=0,r=L.length;n<r;n++)x.contains(t=L[n])||(r--,L.splice(n--,1),J(t,g))}function $(e,t){Ge.call(this,e,t),ie.call(this,{target:this})}function K(e,t,n){t=t.apply(e,n),e=B(t);if(-1<e&&le(t,w[e]),n.pop()&&C.length)for(var r=t.querySelectorAll(C),i,o=0,a=r.length;o<a;o++)le(i=r[o],w[B(i)]);return t}function G(e,t){De(e,t),d?d.observe(e,Ye):(it&&(e.setAttribute=$,e[a]=oe(e),e[f](ye,ie)),e[f](k,U)),e[y]&&at&&(e.created=!0,e[y](),e.created=!1)}function Z(e){throw new Error("A "+e+" type is already registered")}function J(e,t){var n,r=B(e);-1<r&&!Ue.call(e,"TEMPLATE")&&(se(e,w[r]),r=0,t!==p||e[p]?t!==g||e[g]||(e[p]=!1,e[g]=!0,n="disconnected",r=1):(e[g]=!1,e[p]=!0,n="connected",r=1,N&&S.call(L,e)<0&&L.push(e)),r)&&(r=e[t+l]||e[n+l])&&r.call(e)}function r(){}function Q(e,t,n){var n=n&&n[v]||"",r=t.prototype,i=je(r),o=t.observedAttributes||Se,a={prototype:i};Ve(i,y,{value:function(){var e;Me?Me=!1:!this[T]&&(this[T]=!0,new t(this),r[y]&&r[y].call(this),e=R[Ne.get(t)],!P||1<e.create.length)&&ee(this)}}),Ve(i,m,{value:function(e){-1<S.call(o,e)&&r[m]&&r[m].apply(this,arguments)}}),r[de]&&Ve(i,he,{value:r[de]}),r[fe]&&Ve(i,pe,{value:r[fe]}),n&&(a[v]=n),e=e.toUpperCase(),R[e]={constructor:t,create:n?[n,Le(e)]:[e]},Ne.set(t,e),u[s](e.toLowerCase(),a),te(e),I[e].r()}function Y(e){e=R[e.toUpperCase()];return e&&e.constructor}function X(e){return"string"==typeof e?e:e&&e.is||""}function ee(e){for(var t,n=e[m],r=n?e.attributes:Se,i=r.length;i--;)n.call(e,(t=r[i]).name||t.nodeName,null,t.value||t.nodeValue)}function te(t){return(t=t.toUpperCase())in I||(I[t]={},I[t].p=new Oe(function(e){I[t].r=e})),I[t].p}function ne(){A&&delete n.customElements,E(n,"customElements",{configurable:!0,value:new r}),E(n,"CustomElementRegistry",{configurable:!0,value:r});for(var e=re.get(/^HTML[A-Z]*[a-z]/),t=e.length;t--;(t=>{var r=n[t];if(r){n[t]=function(e){var t,n;return(e=e||this)[T]||(Me=!0,t=R[Ne.get(e.constructor)],(e=(n=P&&1===t.create.length)?Reflect.construct(r,Se,t.constructor):u.createElement.apply(u,t.create))[T]=!0,Me=!1,n)||ee(e),e},n[t].prototype=r.prototype;try{r.prototype.constructor=n[t]}catch(e){E(r,T,{value:n[t]})}}})(e[t]));u.createElement=function(e,t){t=X(t);return t?Qe.call(this,e,Le(t)):Qe.call(this,e)},tt||(rt=!0,u[s](""))}var u=n.document,c=n.Object,re=(e=>{function n(e,t){(t=t.toLowerCase())in s||(s[e]=(s[e]||[]).concat(t),s[t]=s[t.toUpperCase()]=e)}var t,r,i,o,a=/^[A-Z]+[a-z]/,s=(c.create||c)(null),l={};for(r in e)for(o in e[r])for(s[o]=i=e[r][o],t=0;t<i.length;t++)s[i[t].toLowerCase()]=s[i[t].toUpperCase()]=o;return l.get=function(e){if("string"==typeof e)return s[e]||(a.test(e)?[]:"");var t,n=e,r=[];for(t in s)n.test(t)&&r.push(t);return r},l.set=function(e,t){return a.test(e)?n(e,t):n(t,e),l},l})({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof e&&(e={type:e||"auto"});var h,ie,o,oe,d,ae,se,le,i,ce,s="registerElement",ue=1e5*n.Math.random()>>0,a="__"+s+ue,f="addEventListener",p="attached",l="Callback",g="detached",v="extends",m="attributeChanged"+l,he=p+l,de="connected"+l,fe="disconnected"+l,y="created"+l,pe=g+l,ge="ADDITION",ve="REMOVAL",k="DOMAttrModified",me="DOMContentLoaded",ye="DOMSubtreeModified",b="<",ke="=",be=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,_e=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],_=[],w=[],C="",x=u.documentElement,S=_.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},we=c.prototype,Ce=we.hasOwnProperty,xe=we.isPrototypeOf,E=c.defineProperty,Se=[],Ee=c.getOwnPropertyDescriptor,Te=c.getOwnPropertyNames,Ae=c.getPrototypeOf,Pe=c.setPrototypeOf,Re=!!c.__proto__,T="__dreCEv1",A=n.customElements,P=!/^force/.test(e.type)&&!!(A&&A.define&&A.get&&A.whenDefined),t=c.create||c,Ie=n.Map||function(){var n,r=[],i=[];return{get:function(e){return i[S.call(r,e)]},set:function(e,t){(n=S.call(r,e))<0?i[r.push(e)-1]=t:i[n]=t}}},Oe=n.Promise||function(e){function t(e){for(r=!0;n.length;)n.shift()(e)}var n=[],r=!1,i={catch:function(){return i},then:function(e){return n.push(e),r&&setTimeout(t,1),i}};return e(t),i},Me=!1,R=t(null),I=t(null),Ne=new Ie,Le=function(e){return e.toLowerCase()},je=c.create||function e(t){return t?(e.prototype=t,new e):this},De=Pe||(Re?function(e,t){return e.__proto__=t,e}:Te&&Ee?function(e,t){do{s=a=o=n=i=r=void 0;for(var n,r=e,i=t,o=Te(i),a=0,s=o.length;a<s;a++)Ce.call(r,n=o[a])||E(r,n,Ee(i,n))}while((t=Ae(t))&&!xe.call(t,e));return e}:function(e,t){for(var n in t)e[n]=t[n];return e}),O=n.MutationObserver||n.WebKitMutationObserver,Fe=n.HTMLAnchorElement,M=(n.HTMLElement||n.Element||n.Node).prototype,N=!xe.call(M,x),Ve=N?function(e,t,n){return e[t]=n.value,e}:E,ze=N?function(e){return 1===e.nodeType}:function(e){return xe.call(M,e)},L=N&&[],Be=M.attachShadow,He=M.cloneNode,Ue=M.closest||function(e){for(var t=this;t&&t.nodeName!==e;)t=t.parentNode;return t},qe=M.dispatchEvent,We=M.getAttribute,$e=M.hasAttribute,Ke=M.removeAttribute,Ge=M.setAttribute,Ze=u.createElement,Je=u.importNode,Qe=Ze,Ye=O&&{attributes:!0,characterData:!0,attributeOldValue:!0},Xe=O||function(e){it=!1,x.removeEventListener(k,Xe)},et=0,tt=s in u&&!/^force-all/.test(e.type),nt=!0,rt=!1,it=!0,ot=!0,at=!0;if(O&&((i=u.createElement("div")).innerHTML="<div><div></div></div>",new O(function(e,t){var n;e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length&&(n=(i=Ee(M,"innerHTML"))&&i.set)&&E(M,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}}),t.disconnect(),i=null}).observe(i,{childList:!0,subtree:!0}),i.innerHTML=""),tt||(le=Pe||Re?(se=function(e,t){xe.call(t,e)||G(e,t)},G):se=function(e,t){e[a]||(e[a]=c(!0),G(e,t))},N?(it=!1,t=Ee(M,f),ce=t.value,t.value=function(e,t,n){e===k&&this[m]&&this.setAttribute!==dt&&(this[a]={className:{name:"class",value:this.className}},this.setAttribute=dt,this.removeAttribute=ht,ce.call(this,"propertychange",ft)),ce.call(this,e,t,n)},E(M,f,t)):O||(x[f](k,Xe),x.setAttribute(a,1),x.removeAttribute(a),it&&(ie=function(e){var t,n,r,i=this;if(i===e.target){for(r in t=i[a],i[a]=n=oe(i),n){if(!(r in t))return o(0,i,r,t[r],n[r],ge);if(n[r]!==t[r])return o(1,i,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return o(2,i,r,t[r],n[r],ve)}},o=function(e,t,n,r,i,o){t={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};t[o]=e,U(t)},oe=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)"setAttribute"!==(n=(t=i[o]).name)&&(r[n]=t.value);return r})),u[s]=function(e,t){if(r=e.toUpperCase(),nt&&(nt=!1,O?(s=z(p),l=z(g),d=new O(function(e){for(var t,n,r,i=0,o=e.length;i<o;i++)"childList"===(t=e[i]).type?(a(t.addedNodes,s),a(t.removedNodes,l)):(n=t.target,at&&n[m]&&"style"!==t.attributeName&&(r=We.call(n,t.attributeName))!==t.oldValue&&n[m](t.attributeName,t.oldValue,r))}),(ae=function(e){return d.observe(e,{childList:!0,subtree:!0}),e})(u),Be&&(M.attachShadow=function(){return ae(Be.apply(this,arguments))})):(h=[],u[f]("DOMNodeInserted",q(p)),u[f]("DOMNodeRemoved",q(g))),u[f](me,W),u[f]("readystatechange",W),u.importNode=function(e,t){switch(e.nodeType){case 1:return K(u,Je,[e,!!t]);case 11:for(var n=u.createDocumentFragment(),r=e.childNodes,i=r.length,o=0;o<i;o++)n.appendChild(u.importNode(r[o],!!t));return n;default:return He.call(e,!!t)}},M.cloneNode=function(e){return K(this,He,[!!e])}),rt)return rt=!1;function a(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}var s,l;if(-2<S.call(_,ke+r)+S.call(_,b+r)&&Z(e),!be.test(r)||-1<S.call(_e,r))throw new Error("The type "+e+" is invalid");function n(){return o?u.createElement(c,r):u.createElement(c)}var r,i=t||we,o=Ce.call(i,v),c=o?t[v].toUpperCase():r;return o&&-1<S.call(_,b+c)&&Z(c),t=_.push((o?ke:b)+r)-1,C=C.concat(C.length?",":"",o?c+'[is="'+e.toLowerCase()+'"]':c),n.prototype=w[t]=Ce.call(i,"prototype")?i.prototype:je(M),C.length&&V(u.querySelectorAll(C),p),n},u.createElement=Qe=function(e,t){var t=X(t),n=t?Ze.call(u,e,Le(t)):Ze.call(u,e),e=""+e,r=S.call(_,(t?ke:b)+(t||e).toUpperCase()),i=-1<r;return t&&(n.setAttribute("is",t=t.toLowerCase()),i=i&&H(e.toUpperCase(),t)),at=!u.createElement.innerHTMLHelper,i&&le(n,w[r]),n}),addEventListener("beforeunload",function(){delete u.createElement,delete u.importNode,delete u[s]},!1),r.prototype={constructor:r,define:P?function(e,t,n){n?Q(e,t,n):(n=e.toUpperCase(),R[n]={constructor:t,create:[n]},Ne.set(t,n),A.define(e,t))}:Q,get:P?function(e){return A.get(e)||Y(e)}:Y,whenDefined:P?function(e){return Oe.race([A.whenDefined(e),te(e)])}:te},!A||/^force/.test(e.type))ne();else if(!e.noBuiltIn)try{var st=function e(){return Reflect.construct(Fe,[],e)},lt={},ct="document-register-element-a"+ue,ut=new RegExp("^<a\\s+is=('|\")"+ct+"\\1></a>$");if(lt[v]="a",(st.prototype=je(Fe.prototype)).constructor=st,n.customElements.define(ct,st,lt),!ut.test(u.createElement("a",{is:ct}).outerHTML)||!ut.test((new st).outerHTML))throw lt}catch(e){ne()}function ht(e){var t=new CustomEvent(k,{bubbles:!0});t.attrName=e,t.prevValue=We.call(this,e),t.newValue=null,t[ve]=t.attrChange=2,Ke.call(this,e),qe.call(this,t)}function dt(e,t){var n=$e.call(this,e),r=n&&We.call(this,e),i=new CustomEvent(k,{bubbles:!0});Ge.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i.MODIFICATION=i.attrChange=1:i[ge]=i.attrChange=0,qe.call(this,i)}function ft(e){var t,n=e.currentTarget,r=n[a],e=e.propertyName;r.hasOwnProperty(e)&&(r=r[e],(t=new CustomEvent(k,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[e]||null,null==t.prevValue?t[ge]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,qe.call(n,t))}if(!e.noBuiltIn)try{if(Ze.call(u,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(e){Le=function(e){return{is:e.toLowerCase()}}}},KhsS:function(e,t,n){n("dG/n")("match")},KvGi:function(e,t,n){n("I+eb")({target:"Math",stat:!0},{sign:n("90hW")})},Kxld:function(e,t,n){n("I+eb")({target:"Object",stat:!0},{is:n("Ep9I")})},LKBx:function(e,t,n){var r=n("I+eb"),i=n("Bs8V").f,o=n("UMSQ"),a=n("WjRb"),s=n("HYAF"),l=n("qxPZ"),n=n("xDBR"),c="".startsWith,u=Math.min,l=l("startsWith");r({target:"String",proto:!0,forced:!(!n&&!l&&(r=i(String.prototype,"startsWith"))&&!r.writable||l)},{startsWith:function(e){var t=String(s(this)),n=(a(e),o(u(1<arguments.length?arguments[1]:void 0,t.length))),e=String(e);return c?c.call(t,e,n):t.slice(n,n+e.length)===e}})},LPSS:function(e,t,n){function r(e){return function(){_(e)}}function i(e){_(e.data)}function o(e){s.postMessage(e+"",f.protocol+"//"+f.host)}var a,s=n("2oRo"),l=n("0Dky"),c=n("xrYK"),u=n("A2ZE"),h=n("G+Rx"),d=n("zBJ4"),n=n("HNyW"),f=s.location,p=s.setImmediate,g=s.clearImmediate,v=s.process,m=s.MessageChannel,y=s.Dispatch,k=0,b={},_=function(e){var t;b.hasOwnProperty(e)&&(t=b[e],delete b[e],t())};p&&g||(p=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return b[++k]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},a(k),k},g=function(e){delete b[e]},"process"==c(v)?a=function(e){v.nextTick(r(e))}:y&&y.now?a=function(e){y.now(r(e))}:m&&!n?(n=(c=new m).port2,c.port1.onmessage=i,a=u(n.postMessage,n,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||l(o)?a="onreadystatechange"in d("script")?function(e){h.appendChild(d("script")).onreadystatechange=function(){h.removeChild(this),_(e)}}:function(e){setTimeout(r(e),0)}:(a=o,s.addEventListener("message",i,!1))),e.exports={set:p,clear:g}},LQDL:function(e,t,n){var r,i,o=n("2oRo"),n=n("NC/Y"),o=o.process,o=o&&o.versions,o=o&&o.v8;o?i=(r=o.split("."))[0]+r[1]:n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},"N+g0":function(e,t,n){var r=n("g6v/"),a=n("m/L8"),s=n("glrk"),l=n("33Wh");e.exports=r?Object.defineProperties:function(e,t){s(e);for(var n,r=l(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},NBAS:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("ewvW"),a=n("4WOD"),n=n("4Xet");r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!n},{getPrototypeOf:function(e){return a(o(e))}})},"NC/Y":function(e,t,n){n=n("0GbY");e.exports=n("navigator","userAgent")||""},NaFW:function(e,t,n){var r=n("9d/t"),i=n("P4y1"),o=n("tiKp")("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},"NbN+":function(e,t,n){n("I+eb")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},O741:function(e,t,n){var r=n("hh1v");e.exports=function(e){if(r(e)||null===e)return e;throw TypeError("Can't set "+String(e)+" as a prototype")}},OM9Z:function(e,t,n){n("I+eb")({target:"String",proto:!0},{repeat:n("EUja")})},P4y1:function(e,t){e.exports={}},PKPk:function(e,t,n){var r=n("ZUd8").charAt,i=n("afO8"),n=n("fdAy"),o=i.set,a=i.getterFor("String Iterator");n(String,"String",function(e){o(this,{type:"String Iterator",string:String(e),index:0})},function(){var e=a(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(t=r(t,n),e.index+=t.length,{value:t,done:!1})})},PqOI:function(e,t,n){var r=n("I+eb"),i=n("90hW"),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){return i(e=+e)*a(o(e),1/3)}})},QFcT:function(e,t,n){var n=n("I+eb"),r=Math.hypot,l=Math.abs,c=Math.sqrt;n({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=l(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=0<n?(r=n/s)*r:n;return s===1/0?1/0:s*c(i)}})},QIpd:function(e,t,n){var r=n("xrYK");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},QNnp:function(e,t,n){var n=n("I+eb"),r=Math.floor,i=Math.log,o=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-r(i(e+.5)*o):32}})},QWBl:function(e,t,n){var r=n("I+eb"),n=n("F8JR");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},Qo9l:function(e,t,n){n=n("2oRo");e.exports=n},R0gw:function(e,t,n){var r;void 0!==(n="function"==typeof(r=function(){var r,o,i,a,s,t;function l(e,t,n){var r=n.configurable;return h(e,t,n=u(e,t,n),r)}function c(e,t){return e&&e[s]&&e[s][t]}function u(e,t,n){return Object.isFrozen(n)||(n.configurable=!0),n.configurable||(e[s]||Object.isFrozen(e)||o(e,s,{writable:!0,value:{}}),e[s]&&(e[s][t]=!0)),n}function h(t,n,r,i){try{return o(t,n,r)}catch(e){if(!r.configurable)throw e;void 0===i?delete r.configurable:r.configurable=i;try{return o(t,n,r)}catch(e){i=null;try{i=JSON.stringify(r)}catch(e){i=r.toString()}console.log("Attempting to configure '"+n+"' with descriptor '"+i+"' on object '"+t+"' and got error, giving up: "+e)}}}function P(e,t){var n=e.getGlobalObjects();if((!n.isNode||n.isMix)&&!((e,t)=>{var n,r,i;if(((a=e.getGlobalObjects()).isBrowser||a.isMix)&&!e.ObjectGetOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var o,a=e.ObjectGetOwnPropertyDescriptor(Element.prototype,"onclick");if(a&&!a.configurable)return;if(a)return e.ObjectDefineProperty(Element.prototype,"onclick",{enumerable:!0,configurable:!0,get:function(){return!0}}),o=!!document.createElement("div").onclick,e.ObjectDefineProperty(Element.prototype,"onclick",a),o}if(a=t.XMLHttpRequest)return t=a.prototype,(i=e.ObjectGetOwnPropertyDescriptor(t,"onreadystatechange"))?(e.ObjectDefineProperty(t,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}}),o=!!(r=new a).onreadystatechange,e.ObjectDefineProperty(t,"onreadystatechange",i||{})):(n=e.symbol("fake"),e.ObjectDefineProperty(t,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return this[n]},set:function(e){this[n]=e}}),(r=new a).onreadystatechange=i=function(){},o=r[n]===i,r.onreadystatechange=null),o})(e,t)){for(var n="undefined"!=typeof WebSocket,o=e,r=o.getGlobalObjects().eventNames,a=o.symbol("unbound"),i=0;i<r.length;i++)(e=>{var i="on"+(e=r[e]);self.addEventListener(e,function(e){for(var t,n=e.target,r=n?n.constructor.name+"."+i:"unknown."+i;n;)n[i]&&!n[i][a]&&((t=o.wrapWithCurrentZone(n[i],r))[a]=n[i],n[i]=t),n=n.parentElement},!0)})(i);if(e.patchClass("XMLHttpRequest"),n){var s=e;n=t;var l,t=s.getGlobalObjects(),c=t.ADD_EVENT_LISTENER_STR,u=t.REMOVE_EVENT_LISTENER_STR,h=n.WebSocket,d=(n.EventTarget||s.patchEventTarget(n,[h.prototype]),n.WebSocket=function(e,t){var r,n,i=1<arguments.length?new h(e,t):new h(e),t=s.ObjectGetOwnPropertyDescriptor(i,"onmessage");return t&&!1===t.configurable?(r=s.ObjectCreate(i),n=i,[c,u,"send","close"].forEach(function(n){r[n]=function(){var e,t=s.ArraySlice.call(arguments);return n!==c&&n!==u||(e=0<t.length?t[0]:void 0)&&(e=Zone.__symbol__("ON_PROPERTY"+e),i[e]=r[e]),i[n].apply(i,t)}})):r=i,s.patchOnProperties(r,["close","error","message","open"],n),r},n.WebSocket);for(l in h)d[l]=h[l]}Zone[e.symbol("patchEvents")]=!0}}(t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})[(t.__Zone_symbol_prefix||"__zone_symbol__")+"legacyPatch"]=function(){var e=t.Zone;e.__load_patch("defineProperty",function(e,t,n){n._redefineProperty=l,r=Zone.__symbol__,o=Object[r("defineProperty")]=Object.defineProperty,i=Object[r("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,a=Object.create,s=r("unconfigurables"),Object.defineProperty=function(e,t,n){if(c(e,t))throw new TypeError("Cannot assign to read only property '"+t+"' of "+e);var r=n.configurable;return h(e,t,n="prototype"!==t?u(e,t,n):n,r)},Object.defineProperties=function(t,n){return Object.keys(n).forEach(function(e){Object.defineProperty(t,e,n[e])}),t},Object.create=function(t,n){return"object"!=typeof n||Object.isFrozen(n)||Object.keys(n).forEach(function(e){n[e]=u(t,e,n[e])}),a(t,n)},Object.getOwnPropertyDescriptor=function(e,t){var n=i(e,t);return n&&c(e,t)&&(n.configurable=!1),n}}),e.__load_patch("registerElement",function(e,t,n){var r;e=e,((r=(n=n).getGlobalObjects()).isBrowser||r.isMix)&&"registerElement"in e.document&&n.patchCallbacks(n,document,"Document","registerElement",["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"])}),e.__load_patch("EventTargetLegacy",function(e,t,n){var r=e,i=n,o=(h=i.getGlobalObjects()).eventNames,a=h.globalSources,s=h.zoneSymbolEventNames,l=h.TRUE_STR,c=h.FALSE_STR,u=h.ZONE_SYMBOL_PREFIX,h="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),d=[],f=r.wtf,p="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video".split(",");f?d=p.map(function(e){return"HTML"+e+"Element"}).concat(h):r.EventTarget?d.push("EventTarget"):d=h;for(var g,v=r.__Zone_disable_IE_check||!1,m=r.__Zone_enable_cross_context_check||!1,y=i.isIEOrEdge(),k="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",b={MSPointerCancel:"pointercancel",MSPointerDown:"pointerdown",MSPointerEnter:"pointerenter",MSPointerHover:"pointerhover",MSPointerLeave:"pointerleave",MSPointerMove:"pointermove",MSPointerOut:"pointerout",MSPointerOver:"pointerover",MSPointerUp:"pointerup"},_=0;_<o.length;_++){var w=u+((g=o[_])+c),C=u+(g+l);s[g]={},s[g][c]=w,s[g][l]=C}for(_=0;_<p.length;_++)for(var x=p[_],S=a[x]={},E=0;E<o.length;E++)S[g=o[E]]=x+".addEventListener:"+g;for(var T=[],_=0;_<d.length;_++){var A=r[d[_]];T.push(A&&A.prototype)}i.patchEventTarget(r,T,{vh:function(t,e,n,r){if(!v&&y){if(m)try{var i;if("[object FunctionWrapper]"===(i=e.toString())||i==k)return t.apply(n,r),!1}catch(e){return t.apply(n,r),!1}else if("[object FunctionWrapper]"===(i=e.toString())||i==k)return t.apply(n,r),!1}else if(m)try{e.toString()}catch(e){return t.apply(n,r),!1}return!0},transferEventName:function(e){return b[e]||e}}),Zone[i.symbol("patchEventTarget")]=!!r.EventTarget,P(n,e)})}})?r.call(t,n,t,e):r)&&(e.exports=n)},RK3t:function(e,t,n){var r=n("0Dky"),i=n("xrYK"),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},RN6c:function(e,t,n){var r=n("2oRo");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},RNIs:function(e,t,n){var r=n("tiKp"),i=n("fHMY"),n=n("m/L8"),o=r("unscopables"),a=Array.prototype;null==a[o]&&n.f(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},ROdP:function(e,t,n){var r=n("hh1v"),i=n("xrYK"),o=n("tiKp")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},Rfxz:function(e,t,n){var r=n("I+eb"),i=n("tycR").some,o=n("pkCn"),n=n("rkAj"),o=o("some"),n=n("some");r({target:"Array",proto:!0,forced:!o||!n},{some:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},Rm1S:function(e,t,n){var r=n("14Sl"),u=n("glrk"),h=n("UMSQ"),i=n("HYAF"),d=n("iqWW"),f=n("FMNM");r("match",1,function(r,l,c){return[function(e){var t=i(this),n=null==e?void 0:e[r];return void 0!==n?n.call(e,t):new RegExp(e)[r](String(t))},function(e){var t=c(l,e,this);if(t.done)return t.value;var n=u(e),r=String(this);if(!n.global)return f(n,r);for(var i=n.unicode,o=[],a=n.lastIndex=0;null!==(s=f(n,r));){var s=String(s[0]);""===(o[a]=s)&&(n.lastIndex=d(r,h(n.lastIndex),i)),a++}return 0===a?null:o}]})},SEBh:function(e,t,n){var r=n("glrk"),i=n("HAuM"),o=n("tiKp")("species");e.exports=function(e,t){var e=r(e).constructor;return void 0===e||null==(e=r(e)[o])?t:i(e)}},STAE:function(e,t,n){n=n("0Dky");e.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},SYor:function(e,t,n){var r=n("I+eb"),i=n("WKiH").trim;r({target:"String",proto:!0,forced:n("yNLB")("trim")},{trim:function(){return i(this)}})},TFPT:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("sub")},{sub:function(){return i(this,"sub","","")}})},TWNs:function(e,t,n){var r=n("g6v/"),i=n("2oRo"),o=n("lMq5"),s=n("cVYH"),a=n("m/L8").f,l=n("JBy8").f,c=n("ROdP"),u=n("rW0t"),h=n("n3/R"),d=n("busE"),f=n("0Dky"),p=n("afO8").set,g=n("JiZb"),v=n("tiKp")("match"),m=i.RegExp,y=m.prototype,k=/a/g,b=/a/g,_=new m(k)!==k,w=h.UNSUPPORTED_Y;if(r&&o("RegExp",!_||w||f(function(){return b[v]=!1,m(k)!=k||m(b)==b||"/a/i"!=m(k,"i")}))){for(var C=function e(t,n){var r,i=this instanceof e,o=c(t),a=void 0===n;if(!i&&o&&t.constructor===e&&a)return t;_?o&&!a&&(t=t.source):t instanceof e&&(a&&(n=u.call(t)),t=t.source),w&&(r=!!n&&-1<n.indexOf("y"))&&(n=n.replace(/y/g,""));o=s(_?new m(t,n):m(t,n),i?this:y,e);return w&&r&&p(o,{sticky:r}),o},x=l(m),S=0;x.length>S;)(t=>{t in C||a(C,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})})(x[S++]);(y.constructor=C).prototype=y,d(i,"RegExp",C)}g("RegExp")},TWQb:function(e,t,n){function r(s){return function(e,t,n){var r,i=l(e),o=c(i.length),a=u(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}var l=n("/GqU"),c=n("UMSQ"),u=n("I8vh");e.exports={includes:r(!0),indexOf:r(!1)}},TeQF:function(e,t,n){var r=n("I+eb"),i=n("tycR").filter,o=n("Hd5f"),n=n("rkAj"),o=o("filter"),n=n("filter");r({target:"Array",proto:!0,forced:!o||!n},{filter:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},TfTi:function(e,t,n){var f=n("A2ZE"),p=n("ewvW"),g=n("m92n"),v=n("6VoE"),m=n("UMSQ"),y=n("hBjN"),k=n("NaFW");e.exports=function(e){var t,n,r,i,o,a,s=p(e),e="function"==typeof this?this:Array,l=arguments.length,c=1<l?arguments[1]:void 0,u=void 0!==c,h=k(s),d=0;if(u&&(c=f(c,2<l?arguments[2]:void 0,2)),null==h||e==Array&&v(h))for(n=new e(t=m(s.length));d<t;d++)a=u?c(s[d],d):s[d],y(n,d,a);else for(o=(i=h.call(s)).next,n=new e;!(r=o.call(i)).done;d++)a=u?g(i,c,[r.value,d],!0):r.value,y(n,d,a);return n.length=d,n}},ToJy:function(e,t,n){var r=n("I+eb"),i=n("HAuM"),o=n("ewvW"),a=n("0Dky"),n=n("pkCn"),s=[],l=s.sort,c=a(function(){s.sort(void 0)}),a=a(function(){s.sort(null)}),n=n("sort");r({target:"Array",proto:!0,forced:c||!a||!n},{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),i(e))}})},Tskq:function(e,t,n){var r=n("bWFh"),n=n("ZWaQ");e.exports=r("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n)},U3f4:function(e,t,n){var r=n("g6v/"),i=n("m/L8"),o=n("rW0t"),n=n("n3/R").UNSUPPORTED_Y;r&&("g"!=/./g.flags||n)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},UMSQ:function(e,t,n){var r=n("ppGB"),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},UTVS:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},UesL:function(e,t,n){var r=n("glrk"),i=n("wE6v");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},UxlC:function(e,t,n){var r=n("14Sl"),S=n("glrk"),E=n("ewvW"),T=n("UMSQ"),A=n("ppGB"),o=n("HYAF"),P=n("iqWW"),R=n("FMNM"),I=Math.max,O=Math.min,M=Math.floor,N=/\$([$&'`]|\d\d?|<[^>]*>)/g,L=/\$([$&'`]|\d\d?)/g;r("replace",2,function(i,b,_,e){var w=e.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=e.REPLACE_KEEPS_$0,x=w?"$":"$0";return[function(e,t){var n=o(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):b.call(String(n),e,t)},function(e,t){if(!w&&C||"string"==typeof t&&-1===t.indexOf(x)){var n=_(b,e,this,t);if(n.done)return n.value}var r,i=S(e),o=String(this),a="function"==typeof t,s=(a||(t=String(t)),i.global);s&&(r=i.unicode,i.lastIndex=0);for(var l=[];;){var c=R(i,o);if(null===c)break;if(l.push(c),!s)break;""===String(c[0])&&(i.lastIndex=P(o,T(i.lastIndex),r))}for(var u,h="",d=0,f=0;f<l.length;f++){for(var c=l[f],p=String(c[0]),g=I(O(A(c.index),o.length),0),v=[],m=1;m<c.length;m++)v.push(void 0===(u=c[m])?u:String(u));var y=c.groups,k=a?(k=[p].concat(v,g,o),void 0!==y&&k.push(y),String(t.apply(void 0,k))):((o,a,s,l,c,e)=>{var u=s+o.length,h=l.length,t=L;return void 0!==c&&(c=E(c),t=N),b.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,s);case"'":return a.slice(u);case"<":n=c[t.slice(1,-1)];break;default:var r,i=+t;if(0==i)return e;if(h<i)return 0!==(r=M(i/10))&&r<=h?void 0===l[r-1]?t.charAt(1):l[r-1]+t.charAt(1):e;n=l[i-1]}return void 0===n?"":n})})(p,o,g,v,y,t);d<=g&&(h+=o.slice(d,g)+k,d=g+p.length)}return h+o.slice(d)}]})},Uydy:function(e,t,n){var r=n("I+eb"),i=n("HsHA"),n=Math.acosh,o=Math.log,a=Math.sqrt,s=Math.LN2;r({target:"Math",stat:!0,forced:!n||710!=Math.floor(n(Number.MAX_VALUE))||n(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?o(e)+s:i(e-1+a(e-1)*a(e+1))}})},VC3L:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("QIpd"),a=1..toPrecision;r({target:"Number",proto:!0,forced:i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})},{toPrecision:function(e){return void 0===e?a.call(o(this)):a.call(o(this),e)}})},VpIT:function(e,t,n){var r=n("xDBR"),i=n("xs3f");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},Vu81:function(e,t,n){var r=n("0GbY"),i=n("JBy8"),o=n("dBg+"),a=n("glrk");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},WDsR:function(e,t,n){var r=n("I+eb"),i=n("Xol8"),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},WJkJ:function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},WKiH:function(e,t,n){function r(t){return function(e){e=String(i(e));return 1&t&&(e=e.replace(o,"")),e=2&t?e.replace(a,""):e}}var i=n("HYAF"),n="["+n("WJkJ")+"]",o=RegExp("^"+n+n+"*"),a=RegExp(n+n+"*$");e.exports={start:r(1),end:r(2),trim:r(3)}},WjRb:function(e,t,n){var r=n("ROdP");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},XGwC:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},Xe3L:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("hBjN");r({target:"Array",stat:!0,forced:i(function(){function e(){}return!(Array.of.call(e)instanceof e)})},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)o(n,e,arguments[e++]);return n.length=t,n}})},Xol8:function(e,t,n){var r=n("hh1v"),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},YGK4:function(e,t,n){var r=n("bWFh"),n=n("ZWaQ");e.exports=r("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n)},YNrV:function(e,t,n){var d=n("g6v/"),r=n("0Dky"),f=n("33Wh"),p=n("dBg+"),g=n("0eef"),v=n("ewvW"),m=n("RK3t"),i=Object.assign,o=Object.defineProperty;e.exports=!i||r(function(){var e,t,n;return!(!d||1===i({b:1},i(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(t={},(e={})[n=Symbol()]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=i({},e)[n])||"abcdefghijklmnopqrst"!=f(i({},t)).join("")})?function(e,t){for(var n=v(e),r=arguments.length,i=1,o=p.f,a=g.f;i<r;)for(var s,l=m(arguments[i++]),c=o?f(l).concat(o(l)):f(l),u=c.length,h=0;h<u;)s=c[h++],d&&!a.call(l,s)||(n[s]=l[s]);return n}:i},ZOXb:function(e,t,n){var r=n("0Dky"),i=n("DMt2").start,o=Math.abs,n=Date.prototype,a=n.getTime,s=n.toISOString;e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-50000000000001))})||!r(function(){s.call(new Date(NaN))})?function(){var e,t,n;if(isFinite(a.call(this)))return e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),(n=e<0?"-":9999<e?"+":"")+i(o(e),n?6:4,0)+"-"+i(this.getUTCMonth()+1,2,0)+"-"+i(this.getUTCDate(),2,0)+"T"+i(this.getUTCHours(),2,0)+":"+i(this.getUTCMinutes(),2,0)+":"+i(this.getUTCSeconds(),2,0)+"."+i(t,3,0)+"Z";throw RangeError("Invalid time value")}:s},ZUd8:function(e,t,n){function r(i){return function(e,t){var n,e=String(a(e)),t=o(t),r=e.length;return t<0||r<=t?i?"":void 0:(n=e.charCodeAt(t))<55296||56319<n||t+1===r||(r=e.charCodeAt(t+1))<56320||57343<r?i?e.charAt(t):n:i?e.slice(t,t+2):r-56320+(n-55296<<10)+65536}}var o=n("ppGB"),a=n("HYAF");e.exports={codeAt:r(!1),charAt:r(!0)}},ZWaQ:function(e,t,n){var c=n("m/L8").f,u=n("fHMY"),h=n("4syw"),d=n("A2ZE"),f=n("GarU"),p=n("ImZN"),a=n("fdAy"),s=n("JiZb"),g=n("g6v/"),v=n("8YOa").fastKey,n=n("afO8"),m=n.set,y=n.getterFor;e.exports={getConstructor:function(e,n,r,i){function o(e,t,n){var r,i=l(e),o=a(e,t);return o?o.value=n:(i.last=o={index:r=v(t,!0),key:t,value:n,previous:t=i.last,next:void 0,removed:!1},i.first||(i.first=o),t&&(t.next=o),g?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e}function a(e,t){var n,e=l(e),r=v(t);if("F"!==r)return e.index[r];for(n=e.first;n;n=n.next)if(n.key==t)return n}var s=e(function(e,t){f(e,s,n),m(e,{type:n,index:u(null),first:void 0,last:void 0,size:0}),g||(e.size=0),null!=t&&p(t,e[i],e,r)}),l=y(n);return h(s.prototype,{clear:function(){for(var e=l(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,g?e.size=0:this.size=0},delete:function(e){var t,n,r=l(this),e=a(this,e);return e&&(t=e.next,n=e.previous,delete r.index[e.index],e.removed=!0,n&&(n.next=t),t&&(t.previous=n),r.first==e&&(r.first=t),r.last==e&&(r.last=n),g?r.size--:this.size--),!!e},forEach:function(e){for(var t,n=l(this),r=d(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),h(s.prototype,r?{get:function(e){e=a(this,e);return e&&e.value},set:function(e,t){return o(this,0===e?0:e,t)}}:{add:function(e){return o(this,e=0===e?0:e,e)}}),g&&c(s.prototype,"size",{get:function(){return l(this).size}}),s},setStrong:function(e,t,n){var r=t+" Iterator",i=y(t),o=y(r);a(e,t,function(e,t){m(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}},n?"entries":"values",!n,!0),s(t)}}},ZfDv:function(e,t,n){var r=n("hh1v"),i=n("6LWA"),o=n("tiKp")("species");e.exports=function(e,t){var n;return new(void 0===(n=i(e)&&("function"==typeof(n=e.constructor)&&(n===Array||i(n.prototype))||r(n)&&null===(n=n[o]))?void 0:n)?Array:n)(0===t?0:t)}},Zk8X:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("sup")},{sup:function(){return i(this,"sup","","")}})},a57n:function(e,t,n){n("dG/n")("search")},a5NK:function(e,t,n){var n=n("I+eb"),r=Math.log,i=Math.LOG10E;n({target:"Math",stat:!0},{log10:function(e){return r(e)*i}})},afO8:function(e,t,n){var r,i,o,a,s,l,c,u,h=n("f5p1"),d=n("2oRo"),f=n("hh1v"),p=n("kRJp"),g=n("UTVS"),v=n("93I0"),n=n("0BK2");c=h?(r=new d.WeakMap,i=r.get,o=r.has,a=r.set,s=function(e,t){return a.call(r,e,t),t},l=function(e){return i.call(r,e)||{}},function(e){return o.call(r,e)}):(n[u=v("state")]=!0,s=function(e,t){return p(e,u,t),t},l=function(e){return g(e,u)?e[u]:{}},function(e){return g(e,u)}),e.exports={set:s,get:l,has:c,enforce:function(e){return c(e)?l(e):s(e,{})},getterFor:function(t){return function(e){if(f(e)&&(e=l(e)).type===t)return e;throw TypeError("Incompatible receiver, "+t+" required")}}}},bWFh:function(e,t,n){var v=n("I+eb"),m=n("2oRo"),y=n("lMq5"),k=n("busE"),b=n("8YOa"),_=n("ImZN"),w=n("GarU"),C=n("hh1v"),x=n("0Dky"),S=n("HH4o"),E=n("1E5z"),T=n("cVYH");e.exports=function(n,e,t){function r(e){var n=f[e];k(f,e,"add"==e?function(e){return n.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(u&&!C(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return u&&!C(e)?void 0:n.call(this,0===e?0:e)}:"has"==e?function(e){return!(u&&!C(e))&&n.call(this,0===e?0:e)}:function(e,t){return n.call(this,0===e?0:e,t),this})}var i,o,a,s,l,c=-1!==n.indexOf("Map"),u=-1!==n.indexOf("Weak"),h=c?"set":"add",d=m[n],f=d&&d.prototype,p=d,g={};return y(n,"function"!=typeof d||!(u||f.forEach&&!x(function(){(new d).entries().next()})))?(p=t.getConstructor(e,n,c,h),b.REQUIRED=!0):y(n,!0)&&(o=(i=new p)[h](u?{}:-0,1)!=i,a=x(function(){i.has(1)}),s=S(function(e){new d(e)}),l=!u&&x(function(){for(var e=new d,t=5;t--;)e[h](t,t);return!e.has(-0)}),s||(((p=e(function(e,t){w(e,p,n);e=T(new d,e,p);return null!=t&&_(t,e[h],e,c),e})).prototype=f).constructor=p),(a||l)&&(r("delete"),r("has"),c)&&r("get"),(l||o)&&r(h),u)&&f.clear&&delete f.clear,v({global:!0,forced:(g[n]=p)!=d},g),E(p,n),u||t.setStrong(p,n,c),p}},brp2:function(e,t,n){n("I+eb")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},busE:function(e,t,n){var a=n("2oRo"),s=n("kRJp"),l=n("UTVS"),c=n("zk60"),r=n("iSVu"),n=n("afO8"),i=n.get,u=n.enforce,h=String(String).split("String");(e.exports=function(e,t,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,r=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||l(n,"name")||s(n,"name",t),u(n).source=h.join("string"==typeof t?t:"")),e!==a?(i?!r&&e[t]&&(o=!0):delete e[t],o?e[t]=n:s(e,t,n)):o?e[t]=n:c(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||r(this)})},cDke:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),n=n("BX/b").f;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:n})},cVYH:function(e,t,n){var r=n("hh1v"),i=n("0rvr");e.exports=function(e,t,n){return i&&"function"==typeof(t=t.constructor)&&t!==n&&r(t=t.prototype)&&t!==n.prototype&&i(e,t),e}},"dBg+":function(e,t){t.f=Object.getOwnPropertySymbols},"dG/n":function(e,t,n){var r=n("Qo9l"),i=n("UTVS"),o=n("5Tg+"),a=n("m/L8").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},"eDl+":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},eJiR:function(e,t,n){var r=n("I+eb"),i=n("jrUv"),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},eajv:function(e,t,n){var n=n("I+eb"),r=Math.asinh,i=Math.log,o=Math.sqrt;n({target:"Math",stat:!0,forced:!(r&&0<1/r(0))},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):i(t+o(t*t+1)):t}})},eoL8:function(e,t,n){var r=n("I+eb"),i=n("g6v/");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n("m/L8").f})},ewvW:function(e,t,n){var r=n("HYAF");e.exports=function(e){return Object(r(e))}},f5p1:function(e,t,n){var r=n("2oRo"),n=n("iSVu"),r=r.WeakMap;e.exports="function"==typeof r&&/native code/.test(n(r))},fHMY:function(e,t,n){function r(){}function i(e){return"<script>"+e+"<\/script>"}var o,a=n("glrk"),s=n("N+g0"),l=n("eDl+"),c=n("0BK2"),u=n("G+Rx"),h=n("zBJ4"),d=n("93I0")("IE_PROTO"),f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=o?((e=o).write(i("")),e.close(),t=e.parentWindow.Object,e=null,t):((e=h("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(i("document.F=Object")),t.close(),t.F);for(var n=l.length;n--;)delete f.prototype[l[n]];return f()};c[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(r.prototype=a(e),n=new r,r.prototype=null,n[d]=e):n=f(),void 0===t?n:s(n,t)}},fbCW:function(e,t,n){var r=n("I+eb"),i=n("tycR").find,o=n("RNIs"),n=n("rkAj"),a=!0,n=n("find");"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a||!n},{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),o("find")},fdAy:function(e,t,n){function g(){return this}var v=n("I+eb"),m=n("ntOU"),y=n("4WOD"),k=n("0rvr"),b=n("1E5z"),_=n("kRJp"),w=n("busE"),r=n("tiKp"),C=n("xDBR"),x=n("P4y1"),n=n("rpNk"),S=n.IteratorPrototype,E=n.BUGGY_SAFARI_ITERATORS,T=r("iterator");e.exports=function(e,t,n,r,i,o,a){m(n,t,r);function s(e){if(e===i&&f)return f;if(!E&&e in h)return h[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}}var l,c,r=t+" Iterator",u=!1,h=e.prototype,d=h[T]||h["@@iterator"]||i&&h[i],f=!E&&d||s(i),p="Array"==t&&h.entries||d;if(p&&(p=y(p.call(new e)),S!==Object.prototype)&&p.next&&(C||y(p)===S||(k?k(p,S):"function"!=typeof p[T]&&_(p,T,g)),b(p,r,!0,!0),C)&&(x[r]=g),"values"==i&&d&&"values"!==d.name&&(u=!0,f=function(){return d.call(this)}),C&&!a||h[T]===f||_(h,T,f),x[t]=f,i)if(l={values:s("values"),keys:o?f:s("keys"),entries:s("entries")},a)for(c in l)!E&&!u&&c in h||w(h,c,l[c]);else v({target:t,proto:!0,forced:E||u},l);return l}},fhKU:function(e,t,n){var r=n("2oRo"),i=n("WKiH").trim,n=n("WJkJ"),o=r.parseFloat,r=1/o(n+"-0")!=-1/0;e.exports=r?function(e){var e=i(String(e)),t=o(e);return 0===t&&"-"==e.charAt(0)?-0:t}:o},ftKg:function(e,t,n){n("brp2"),n("9LPj"),n("rMz7"),n("DQNa"),n("7+zs");n=n("Qo9l");e.exports=n.Date},"g6v/":function(e,t,n){n=n("0Dky");e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},gOCb:function(e,t,n){n("dG/n")("replace")},gXIK:function(e,t,n){n("dG/n")("toPrimitive")},gbiT:function(e,t,n){n("dG/n")("unscopables")},gdVl:function(e,t,n){var a=n("ewvW"),s=n("I8vh"),l=n("UMSQ");e.exports=function(e){for(var t=a(this),n=l(t.length),r=arguments.length,i=s(1<r?arguments[1]:void 0,n),r=2<r?arguments[2]:void 0,o=void 0===r?n:s(r,n);i<o;)t[i++]=e;return t}},glrk:function(e,t,n){var r=n("hh1v");e.exports=function(e){if(r(e))return e;throw TypeError(String(e)+" is not an object")}},hBjN:function(e,t,n){var r=n("wE6v"),i=n("m/L8"),o=n("XGwC");e.exports=function(e,t,n){t=r(t);t in e?i.f(e,t,o(0,n)):e[t]=n}},hByQ:function(e,t,n){var r=n("14Sl"),a=n("glrk"),s=n("HYAF"),l=n("Ep9I"),c=n("FMNM");r("search",1,function(r,i,o){return[function(e){var t=s(this),n=null==e?void 0:e[r];return void 0!==n?n.call(e,t):new RegExp(e)[r](String(t))},function(e){var t,n=o(i,e,this);return n.done?n.value:(n=a(e),e=String(this),t=n.lastIndex,l(t,0)||(n.lastIndex=0),e=c(n,e),l(n.lastIndex,t)||(n.lastIndex=t),null===e?-1:e.index)}]})},"hN/g":function(e,t,n){n.r(t),n("pDpN"),n("KJ4T")},hXpO:function(e,t,n){var o=n("HYAF"),a=/"/g;e.exports=function(e,t,n,r){var e=String(o(e)),i="<"+t;return""!==n&&(i+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),i+">"+e+"</"+t+">"}},hh1v:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},i6QF:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isInteger:n("Xol8")})},iSVu:function(e,t,n){var n=n("xs3f"),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return r.call(e)}),e.exports=n.inspectSource},inlA:function(e,t,n){var r=n("I+eb"),i=n("Bs8V").f,o=n("UMSQ"),a=n("WjRb"),s=n("HYAF"),l=n("qxPZ"),n=n("xDBR"),c="".endsWith,u=Math.min,l=l("endsWith");r({target:"String",proto:!0,forced:!(!n&&!l&&(r=i(String.prototype,"endsWith"))&&!r.writable||l)},{endsWith:function(e){var t=String(s(this)),n=(a(e),1<arguments.length?arguments[1]:void 0),r=o(t.length),n=void 0===n?r:u(o(n),r),r=String(e);return c?c.call(t,r,n):t.slice(n-r.length,n)===r}})},iqWW:function(e,t,n){var r=n("ZUd8").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},jrUv:function(e,t){var n=Math.expm1,r=Math.exp;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:r(e)-1}:n},jt2F:function(e,t,n){n("dG/n")("matchAll")},kNcU:function(e,t,n){var n=n("I+eb"),r=Math.log,i=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return r(e)/i}})},kOOl:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},kRJp:function(e,t,n){var r=n("g6v/"),i=n("m/L8"),o=n("XGwC");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},kSko:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},kmMV:function(e,t,n){var r,i,h=n("rW0t"),n=n("n3/R"),d=RegExp.prototype.exec,f=String.prototype.replace,o=d,p=(i=/b*/g,d.call(r=/a/,"a"),d.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),g=n.UNSUPPORTED_Y||n.BROKEN_CARET,v=void 0!==/()??/.exec("")[1];e.exports=o=p||v||g?function(e){var t,n,r,i,o=this,a=g&&o.sticky,s=h.call(o),l=o.source,c=0,u=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(e).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||(o.multiline,"\n"!==e[o.lastIndex-1]))&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",s)),v&&(n=new RegExp("^"+l+"$(?!\\s)",s)),p&&(t=o.lastIndex),r=d.call(a?n:o,u),a?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:p&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),v&&r&&1<r.length&&f.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}:o},l2dK:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},lEou:function(e,t,n){n("dG/n")("toStringTag")},lMq5:function(e,t,n){function r(e,t){return(e=s[a(e)])==c||e!=l&&("function"==typeof t?i(t):!!t)}var i=n("0Dky"),o=/#|\.prototype\./,a=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=r.data={},l=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},ls82:function(t,e,n){a=t.exports,t=Object.prototype,l=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag",a.wrap=d,c={},(r={})[i]=function(){return this},(u=(u=Object.getPrototypeOf)&&u(u(w([]))))&&u!==t&&l.call(u,i)&&(r=u),h=v.prototype=p.prototype=Object.create(r),(g.prototype=h.constructor=v).constructor=g,v[s]=g.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(h),e},a.awrap=function(e){return{__await:e}},m(y.prototype),y.prototype[o]=function(){return this},a.AsyncIterator=y,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new y(d(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},m(h),h[s]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},a.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=w,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,b(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}};var a,l,r,i,o,s,c,u,h,t=a;function d(e,t,n,r){var i,o,a,s,t=Object.create((t&&t.prototype instanceof p?t:p).prototype),r=new _(r||[]);return t._invoke=(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return{value:void 0,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=t.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return c;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}r=f(r,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,c;r=r.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,c):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,c)}(n,a);if(n){if(n===c)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=f(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===c)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),t}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function p(){}function g(){}function v(){}function m(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function y(a,s){var t;this._invoke=function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=f(a[e],a,n);return"throw"!==e.type?(n=(o=e.arg).value)&&"object"==typeof n&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)}):void i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function w(t){if(t){var n,e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:C}}function C(){return{value:void 0,done:!0}}try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},"m/L8":function(e,t,n){var r=n("g6v/"),i=n("DPsx"),o=n("glrk"),a=n("wE6v"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},m92n:function(e,t,n){var i=n("glrk");e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){r=t.return;throw void 0!==r&&i(r.call(t)),e}}},mRH6:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("link")},{link:function(e){return i(this,"a","href",e)}})},mRIq:function(e,t,n){n.r(t),n("H0pb"),n("wLYn"),n("sMBO"),n("tW5y"),n("uL8W"),n("eoL8"),n("HRxU"),n("5DmW"),n("NBAS"),n("tkto"),n("cDke"),n("3KgV"),n("r5Og"),n("zuhW"),n("4h0Y"),n("5D5o"),n("yQYn"),n("zKZe"),n("Kxld"),n("ExoC"),n("07d7"),n("ma9I"),n("J30X"),n("pjDv"),n("Xe3L"),n("oVuX"),n("+2oP"),n("pDQq"),n("ToJy"),n("QWBl"),n("2B1R"),n("TeQF"),n("Rfxz"),n("piMb"),n("E9XD"),n("9N29"),n("yXV3"),n("uqXc"),n("qHT+"),n("yyme"),n("fbCW"),n("x0AG"),n("4mDm"),n("9tb/"),n("2A+d"),n("SYor"),n("PKPk"),n("9bJ7"),n("inlA"),n("JTJg"),n("OM9Z"),n("LKBx"),n("GKVU"),n("E5NM"),n("BNMt"),n("zHFu"),n("x83w"),n("l2dK"),n("GRPF"),n("xdBZ"),n("mRH6"),n("yWo2"),n("IxXR"),n("TFPT"),n("Zk8X"),n("Rm1S"),n("UxlC"),n("hByQ"),n("EnZy"),n("4l63"),n("rNhl"),n("7sbD"),n("6hpn"),n("ftKg"),n("TWNs"),n("JfAA"),n("U3f4"),n("Tskq"),n("ENF9"),n("YGK4"),n("FZtP"),n("3bBZ"),n("5s+n"),n("DEfu"),n("ls82")},ma9I:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),h=n("6LWA"),d=n("hh1v"),f=n("ewvW"),p=n("UMSQ"),g=n("hBjN"),v=n("ZfDv"),o=n("Hd5f"),a=n("tiKp"),n=n("LQDL"),m=a("isConcatSpreadable"),a=51<=n||!i(function(){var e=[];return e[m]=!1,e.concat()[0]!==e}),n=o("concat");r({target:"Array",proto:!0,forced:!a||!n},{concat:function(e){for(var t,n,r,i,o,a=f(this),s=v(a,0),l=0,c=-1,u=arguments.length;c<u;c++)if(i=r=-1===c?a:arguments[c],o=void 0,!d(i)||(void 0!==(o=i[m])?!o:!h(i))){if(9007199254740991<=l)throw TypeError("Maximum allowed index exceeded");g(s,l++,r)}else{if(9007199254740991<l+(n=p(r.length)))throw TypeError("Maximum allowed index exceeded");for(t=0;t<n;t++,l++)t in r&&g(s,l,r[t])}return s.length=l,s}})},"n/mU":function(e,t,n){var n=n("I+eb"),r=Math.atanh,i=Math.log;n({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:i((1+e)/(1-e))/2}})},"n3/R":function(e,t,n){n=n("0Dky");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n(function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),t.BROKEN_CARET=n(function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},ntOU:function(e,t,n){function r(){return this}var i=n("rpNk").IteratorPrototype,o=n("fHMY"),a=n("XGwC"),s=n("1E5z"),l=n("P4y1");e.exports=function(e,t,n){t+=" Iterator";return e.prototype=o(i,{next:a(1,n)}),s(e,t,!1,!0),l[t]=r,e}},oVuX:function(e,t,n){var r=n("I+eb"),i=n("RK3t"),o=n("/GqU"),n=n("pkCn"),a=[].join,i=i!=Object,n=n("join",",");r({target:"Array",proto:!0,forced:i||!n},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},pDQq:function(e,t,n){var r=n("I+eb"),h=n("I8vh"),d=n("ppGB"),f=n("UMSQ"),p=n("ewvW"),g=n("ZfDv"),v=n("hBjN"),i=n("Hd5f"),n=n("rkAj"),i=i("splice"),n=n("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,y=Math.min;r({target:"Array",proto:!0,forced:!i||!n},{splice:function(e,t){var n,r,i,o,a,s,l=p(this),c=f(l.length),u=h(e,c),e=arguments.length;if(0===e?n=r=0:r=1===e?(n=0,c-u):(n=e-2,y(m(d(t),0),c-u)),9007199254740991<c+n-r)throw TypeError("Maximum allowed length exceeded");for(i=g(l,r),o=0;o<r;o++)(a=u+o)in l&&v(i,o,l[a]);if(n<(i.length=r)){for(o=u;o<c-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=c;c-r+n<o;o--)delete l[o-1]}else if(r<n)for(o=c-r;u<o;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+u]=arguments[o+2];return l.length=c-r+n,i}})},pDpN:function(e,t,n){var r;void 0!==(n="function"==typeof(r=function(){(s=>{var n=s.performance;function r(e){n&&n.mark&&n.mark(e)}function i(e,t){n&&n.measure&&n.measure(e,t)}r("Zone");var t=s.__Zone_symbol_prefix||"__zone_symbol__";function e(e){return t+e}var o=!0===s[t+"forceDuplicateZoneCheck"];if(s.Zone){if(o||"function"!=typeof s.Zone.__symbol__)throw new Error("Zone already loaded.");return s.Zone}le(l,[{key:"get",value:function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]}},{key:"getZoneWith",value:function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}},{key:"fork",value:function(e){if(e)return this._zoneDelegate.fork(this,e);throw new Error("ZoneSpec required!")}},{key:"wrap",value:function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var n=this._zoneDelegate.intercept(this,e,t),r=this;return function(){return r.runGuarded(n,this,arguments,t)}}},{key:"run",value:function(e,t,n,r){O={parent:O,zone:this};try{return this._zoneDelegate.invoke(this,e,t,n,r)}finally{O=O.parent}}},{key:"runGuarded",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length?arguments[3]:void 0;O={parent:O,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,n,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{O=O.parent}}},{key:"runTask",value:function(e,t,n){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||b).name+"; Execution: "+this.name+")");if(e.state!==_||e.type!==P&&e.type!==A){var r=e.state!=x,i=(r&&e._transitionTo(x,C),e.runCount++,M);M=e,O={parent:O,zone:this};try{e.type==A&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==_&&e.state!==E&&(e.type==P||e.data&&e.data.isPeriodic?r&&e._transitionTo(C,x):(e.runCount=0,this._updateTaskCount(e,-1),r&&e._transitionTo(_,x,_))),O=O.parent,M=i}}}},{key:"scheduleTask",value:function(t){if(t.zone&&t.zone!==this)for(var e=this;e;){if(e===t.zone)throw Error("can not reschedule task to ".concat(this.name," which is descendants of the original zone ").concat(t.zone.name));e=e.parent}t._transitionTo(w,_);var n=[];t._zoneDelegates=n,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(e){throw t._transitionTo(E,w,_),this._zoneDelegate.handleError(this,e),e}return t._zoneDelegates===n&&this._updateTaskCount(t,1),t.state==w&&t._transitionTo(C,w),t}},{key:"scheduleMicroTask",value:function(e,t,n,r){return this.scheduleTask(new d(T,e,t,n,r,void 0))}},{key:"scheduleMacroTask",value:function(e,t,n,r,i){return this.scheduleTask(new d(A,e,t,n,r,i))}},{key:"scheduleEventTask",value:function(e,t,n,r,i){return this.scheduleTask(new d(P,e,t,n,r,i))}},{key:"cancelTask",value:function(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||b).name+"; Execution: "+this.name+")");t._transitionTo(S,C,x);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(E,S),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(_,S),t.runCount=0,t}},{key:"_updateTaskCount",value:function(e,t){var n=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(var r=0;r<n.length;r++)n[r]._updateTaskCount(e.type,t)}},{key:"parent",get:function(){return this._parent}},{key:"name",get:function(){return this._name}}],[{key:"assertZonePatched",value:function(){if(s.Promise!==R.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}},{key:"__load_patch",value:function(e,t){var n;if(R.hasOwnProperty(e)){if(o)throw Error("Already loaded patch: "+e)}else s["__Zone_disable_"+e]||(r(n="Zone:"+e),R[e]=t(s,l,I),i(n,n))}},{key:"root",get:function(){for(var e=l.current;e.parent;)e=e.parent;return e}},{key:"current",get:function(){return O.zone}},{key:"currentTask",get:function(){return M}}]);var a=l;function l(e,t){se(this,l),this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new h(this,this._parent&&this._parent._zoneDelegate,t)}a.__symbol__=e;var c,u={name:"",onHasTask:function(e,t,n,r){return e.hasTask(n,r)},onScheduleTask:function(e,t,n,r){return e.scheduleTask(n,r)},onInvokeTask:function(e,t,n,r,i,o){return e.invokeTask(n,r,i,o)},onCancelTask:function(e,t,n,r){return e.cancelTask(n,r)}},h=(le(m,[{key:"fork",value:function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new a(e,t)}},{key:"intercept",value:function(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,n):t}},{key:"invoke",value:function(e,t,n,r,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,n,r,i):t.apply(n,r)}},{key:"handleError",value:function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}},{key:"scheduleTask",value:function(e,t){var n=t;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=(n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t))||t;else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=T)throw new Error("Task is missing scheduleFn.");y(t)}return n}},{key:"invokeTask",value:function(e,t,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,n,r):t.callback.apply(n,r)}},{key:"cancelTask",value:function(e,t){var n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");n=t.cancelFn(t)}return n}},{key:"hasTask",value:function(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(e){this.handleError(t,e)}}},{key:"_updateTaskCount",value:function(e,t){var n=this._taskCounts,r=n[e],t=n[e]=r+t;if(t<0)throw new Error("More tasks executed then were scheduled.");0!=r&&0!=t||this.hasTask(this.zone,{microTask:0<n.microTask,macroTask:0<n.macroTask,eventTask:0<n.eventTask,change:e})}}]),m),d=(le(v,[{key:"cancelScheduleRequest",value:function(){this._transitionTo(_,w)}},{key:"_transitionTo",value:function(e,t,n){if(this._state!==t&&this._state!==n)throw new Error("".concat(this.type," '").concat(this.source,"': can not transition to '").concat(e,"', expecting state '").concat(t,"'").concat(n?" or '"+n+"'":"",", was '").concat(this._state,"'."));(this._state=e)==_&&(this._zoneDelegates=null)}},{key:"toString",value:function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}},{key:"toJSON",value:function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}},{key:"zone",get:function(){return this._zone}},{key:"state",get:function(){return this._state}}],[{key:"invokeTask",value:function(e,t,n){e=e||this,N++;try{return e.runCount++,e.zone.runTask(e,t,n)}finally{1==N&&k(),N--}}}]),v),j=t+"setTimeout",f=t+"Promise",D=t+"then",p=[],g=!1;function v(e,t,n,r,i,o){if(se(this,v),this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=t,this.data=r,this.scheduleFn=i,this.cancelFn=o,!n)throw new Error("callback is not defined");this.callback=n;var a=this;this.invoke=e===P&&r&&r.useG?v.invokeTask:function(){return v.invokeTask.call(s,a,this,arguments)}}function m(e,t,n){se(this,m),this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:t._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var r=n&&n.onHasTask;(r||t&&t._hasTaskZS)&&(this._hasTaskZS=r?n:u,this._hasTaskDlgt=t,(this._hasTaskDlgtOwner=this)._hasTaskCurrZone=e,n.onScheduleTask||(this._scheduleTaskZS=u,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=u,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=u,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}function y(e){0===N&&0===p.length&&(c||s[f]&&(c=s[f].resolve(0)),c?(c[D]||c.then).call(c,k):s[j](k,0)),e&&p.push(e)}function k(){if(!g){for(g=!0;p.length;){var e=p;p=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.zone.runTask(n,null,null)}catch(e){I.onUnhandledError(e)}}}I.microtaskDrainDone(),g=!1}}var b={name:"NO ZONE"},_="notScheduled",w="scheduling",C="scheduled",x="running",S="canceling",E="unknown",T="microTask",A="macroTask",P="eventTask",R={},I={symbol:e,currentZoneFrame:function(){return O},onUnhandledError:L,microtaskDrainDone:L,scheduleMicroTask:y,showUncaughtError:function(){return!a[t+"ignoreConsoleErrorUncaughtError"]},patchEventTarget:function(){return[]},patchOnProperties:L,patchMethod:function(){return L},bindArguments:function(){return[]},patchThen:function(){return L},patchMacroTask:function(){return L},setNativePromise:function(e){e&&"function"==typeof e.resolve&&(c=e.resolve(0))},patchEventPrototype:function(){return L},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return L},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return L},wrapWithCurrentZone:function(){return L},filterProperties:function(){return[]},attachOriginToPatched:function(){return L},_redefineProperty:function(){return L},patchCallbacks:function(){return L}},O={parent:null,zone:new a(null,null)},M=null,N=0;function L(){}i("Zone","Zone"),s.Zone=a})("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",function(t,c,u){var i=Object.getOwnPropertyDescriptor,h=Object.defineProperty,e=u.symbol,d=[],f=!0===t[e("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],n=e("Promise"),o=e("then"),r=(u.onUnhandledError=function(e){var t;u.showUncaughtError()&&((t=e&&e.rejection)?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e))},u.microtaskDrainDone=function(){for(;d.length;)(()=>{var e=d.shift();try{e.zone.runGuarded(function(){throw e})}catch(e){!function(e){u.onUnhandledError(e);try{var t=c[r];"function"==typeof t&&t.call(this,e)}catch(e){}}(e)}})()},e("unhandledPromiseRejectionHandler"));function p(e){return e&&e.then}function l(e){return e}function g(e){return E.reject(e)}var v=e("state"),m=e("value"),y=e("finally"),k=e("parentPromiseValue"),b=e("parentPromiseState");function _(t,n){return function(e){try{C(t,n,e)}catch(e){C(t,!1,e)}}}var w=e("currentTaskTrace");function C(t,e,n){function r(e){return function(){i||(i=!0,e.apply(null,arguments))}}var i,o;i=!1;if(t===n)throw new TypeError("Promise resolved with itself");if(null===t[v]){var a=null;try{"object"!=typeof n&&"function"!=typeof n||(a=n&&n.then)}catch(e){return r(function(){C(t,!1,e)})(),t}if(!1!==e&&n instanceof E&&n.hasOwnProperty(v)&&n.hasOwnProperty(m)&&null!==n[v])x(n),C(t,n[v],n[m]);else if(!1!==e&&"function"==typeof a)try{a.call(n,r(_(t,e)),r(_(t,!1)))}catch(e){r(function(){C(t,!1,e)})()}else{t[v]=e;var s=t[m];t[m]=n,t[y]===y&&!0===e&&(t[v]=t[b],t[m]=t[k]),!1===e&&n instanceof Error&&(a=c.currentTask&&c.currentTask.data&&c.currentTask.data.__creationTrace__)&&h(n,w,{configurable:!0,enumerable:!1,writable:!0,value:a});for(var l=0;l<s.length;)S(t,s[l++],s[l++],s[l++],s[l++]);if(0==s.length&&0==e){t[v]=0;a=n;if(!f)try{throw new Error("Uncaught (in promise): "+((o=n)&&o.toString===Object.prototype.toString?(o.constructor&&o.constructor.name||"")+": "+JSON.stringify(o):o?o.toString():Object.prototype.toString.call(o))+(n&&n.stack?"\n"+n.stack:""))}catch(e){a=e}a.rejection=n,a.promise=t,a.zone=c.current,a.task=c.currentTask,d.push(a),u.scheduleMicroTask()}}}return t}var a=e("rejectionHandledHandler");function x(e){if(0===e[v]){try{var t=c[a];t&&"function"==typeof t&&t.call(this,{rejection:e[m],promise:e})}catch(e){}e[v]=!1;for(var n=0;n<d.length;n++)e===d[n].promise&&d.splice(n,1)}}function S(r,i,o,e,t){x(r);var a=r[v],s=a?"function"==typeof e?e:l:"function"==typeof t?t:g;i.scheduleMicroTask("Promise.then",function(){try{var e=r[m],t=!!o&&y===o[y],n=(t&&(o[k]=e,o[b]=a),i.run(s,void 0,t&&s!==g&&s!==l?[]:[e]));C(o,!0,n)}catch(e){C(o,!1,e)}},o)}function s(){}le(T,null,[{key:"toString",value:function(){return"function ZoneAwarePromise() { [native code] }"}},{key:"resolve",value:function(e){return C(new this(null),!0,e)}},{key:"reject",value:function(e){return C(new this(null),!1,e)}},{key:"race",value:function(e){var n,r,t=new this(function(e,t){n=e,r=t});function i(e){n(e)}function o(e){r(e)}var a,s=ae(e);try{for(s.s();!(a=s.n()).done;){var l=a.value;(l=p(l)?l:this.resolve(l)).then(i,o)}}catch(e){s.e(e)}finally{s.f()}return t}},{key:"all",value:function(e){return T.allWithCallback(e)}},{key:"allSettled",value:function(e){return(this&&this.prototype instanceof T?this:T).allWithCallback(e,{thenCallback:function(e){return{status:"fulfilled",value:e}},errorCallback:function(e){return{status:"rejected",reason:e}}})}},{key:"allWithCallback",value:function(e,n){var r,i,o,a=this,t=new this(function(e,t){r=e,i=t}),s=2,l=0,c=[],u=ae(e);try{for(u.s();!(o=u.n()).done;)(()=>{var e=o.value,t=(p(e)||(e=a.resolve(e)),l);try{e.then(function(e){c[t]=n?n.thenCallback(e):e,0==--s&&r(c)},function(e){n?(c[t]=n.errorCallback(e),0==--s&&r(c)):i(e)})}catch(e){i(e)}s++,l++})()}catch(e){u.e(e)}finally{u.f()}return 0==(s-=2)&&r(c),t}}]),le(T,[{key:"then",value:function(e,t){var n=this.constructor[Symbol.species],n=new(n=n&&"function"==typeof n?n:this.constructor||T)(s),r=c.current;return null==this[v]?this[m].push(r,n,e,t):S(this,r,n,e,t),n}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){var t=this.constructor[Symbol.species],t=new(t=t&&"function"==typeof t?t:T)(s),n=(t[y]=y,c.current);return null==this[v]?this[m].push(n,t,e,e):S(this,n,t,e,e),t}},{key:Symbol.toStringTag,get:function(){return"Promise"}},{key:Symbol.species,get:function(){return T}}]);var E=T;function T(e){if(se(this,T),!(this instanceof T))throw new Error("Must be an instanceof Promise.");this[v]=null,this[m]=[];try{e&&e(_(this,!0),_(this,!1))}catch(e){C(this,!1,e)}}E.resolve=E.resolve,E.reject=E.reject,E.race=E.race,E.all=E.all;var A=t[n]=t.Promise,P=c.__symbol__("ZoneAwarePromise"),R=i(t,"Promise");R&&!R.configurable||(R&&delete R.writable,R&&delete R.value,(R=R||{configurable:!0,enumerable:!0}).get=function(){return t[P]||t[n]},R.set=function(e){e===E?t[P]=e:((t[n]=e).prototype[o]||M(e),u.setNativePromise(e))},h(t,"Promise",R)),t.Promise=E;var I,O=e("thenPatched");function M(e){var r,t=e.prototype,n=i(t,"then");(!n||!1!==n.writable&&n.configurable)&&(r=t.then,t[o]=r,e.prototype.then=function(e,t){var n=this;return new E(function(e,t){r.call(n,e,t)}).then(e,t)},e[O]=!0)}return u.patchThen=M,A&&(M(A),"function"==typeof(R=t.fetch))&&(t[u.symbol("fetch")]=R,t.fetch=(I=R,function(){var e,t=I.apply(this,arguments);return t instanceof E||(e=t.constructor)[O]||M(e),t})),Promise[c.__symbol__("uncaughtPromiseErrors")]=d,E});var c=Object.getOwnPropertyDescriptor,u=Object.defineProperty,y=Object.getPrototypeOf,I=Object.create,D=Array.prototype.slice,k=Zone.__symbol__("addEventListener"),b=Zone.__symbol__("removeEventListener"),_=Zone.__symbol__("");function o(e,t){return Zone.current.wrap(e,t)}function w(e,t,n,r,i){return Zone.current.scheduleMacroTask(e,t,n,r,i)}var O=Zone.__symbol__,e="undefined"!=typeof window,i=e?window:void 0,h=e&&i||"object"==typeof self&&self||global,F=[null];function s(e,t){for(var n=e.length-1;0<=n;n--)"function"==typeof e[n]&&(e[n]=o(e[n],t+"_"+n));return e}function l(e){return!e||!1!==e.writable&&("function"!=typeof e.get||void 0!==e.set)}var t="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,M=!("nw"in h)&&void 0!==h.process&&"[object process]"==={}.toString.call(h.process),a=!M&&!t&&!(!e||!i.HTMLElement),d=void 0!==h.process&&"[object process]"==={}.toString.call(h.process)&&!t&&!(!e||!i.HTMLElement),f={},p=function(e){var t,n,r;if(e=e||h.event)return n=(n=f[e.type])||(f[e.type]=O("ON_PROPERTY"+e.type)),n=(r=this||e.target||h)[n],a&&r===i&&"error"===e.type?(r=e,!0===(t=n&&n.call(this,r.message,r.filename,r.lineno,r.colno,r.error))&&e.preventDefault()):null==(t=n&&n.apply(this,arguments))||t||e.preventDefault(),t};function g(n,r,e){var i,o,a,s,l=c(n,r);(l=!l&&e&&c(e,r)?{enumerable:!0,configurable:!0}:l)&&l.configurable&&(e=O("on"+r+"patched"),n.hasOwnProperty(e)&&n[e]||(delete l.writable,delete l.value,i=l.get,o=l.set,a=r.substr(2),s=(s=f[a])||(f[a]=O("ON_PROPERTY"+a)),l.set=function(e){var t=this;(t=t||n!==h?t:h)&&(t[s]&&t.removeEventListener(a,p),o&&o.apply(t,F),"function"==typeof e?(t[s]=e,t.addEventListener(a,p,!1)):t[s]=null)},l.get=function(){var e=this;if(e=e||n!==h?e:h){var t=e[s];if(t)return t;if(i){t=i&&i.call(this);if(t)return l.set.call(this,t),"function"==typeof e.removeAttribute&&e.removeAttribute(r),t}}return null},u(n,r,l),n[e]=!0))}function v(e,t,n){if(t)for(var r=0;r<t.length;r++)g(e,"on"+t[r],n);else{var i,o=[];for(i in e)"on"==i.substr(0,2)&&o.push(i);for(var a=0;a<o.length;a++)g(e,o[a],n)}}var m=O("originalInstance");function C(n){var t=h[n];if(t){h[O(n)]=t,h[n]=function(){var e=s(arguments,n);switch(e.length){case 0:this[m]=new t;break;case 1:this[m]=new t(e[0]);break;case 2:this[m]=new t(e[0],e[1]);break;case 3:this[m]=new t(e[0],e[1],e[2]);break;case 4:this[m]=new t(e[0],e[1],e[2],e[3]);break;default:throw new Error("Arg list too long.")}},N(h[n],t);var e,r=new t(function(){});for(e in r)"XMLHttpRequest"===n&&"responseBlob"===e||(t=>{"function"==typeof r[t]?h[n].prototype[t]=function(){return this[m][t].apply(this[m],arguments)}:u(h[n].prototype,t,{set:function(e){"function"==typeof e?(this[m][t]=o(e,n+"."+t),N(this[m][t],e)):this[m][t]=e},get:function(){return this[m][t]}})})(e);for(e in t)"prototype"!==e&&t.hasOwnProperty(e)&&(h[n][e]=t[e])}}function x(e,t,n){for(var r=e;r&&!r.hasOwnProperty(t);)r=y(r);!r&&e[t]&&(r=e);var i,e=O(t),o=null;return r&&!(o=r[e])&&(o=r[e]=r[t],l(r&&c(r,t)))&&(i=n(o,e,t),r[t]=function(){return i(this,arguments)},N(r[t],o)),o}function V(e,t,i){var n=null;function o(e){var t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=x(e,t,function(r){return function(e,t){var n=i(e,t);return 0<=n.cbIdx&&"function"==typeof t[n.cbIdx]?w(n.name,t[n.cbIdx],n,o):r.apply(e,t)}})}function N(e,t){e[O("OriginalDelegate")]=t}var z=!1,B=!1;function H(){if(!z){z=!0;try{var e=i.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(B=!0)}catch(e){}}return B}Zone.__load_patch("toString",function(t){function e(){if("function"==typeof this){var e=this[r];if(e)return("function"==typeof e?n:Object.prototype.toString).call(e);if(this===Promise){e=t[i];if(e)return n.call(e)}if(this===Error){e=t[o];if(e)return n.call(e)}}return n.call(this)}var n=Function.prototype.toString,r=O("OriginalDelegate"),i=O("Promise"),o=O("Error"),a=(e[r]=n,Function.prototype.toString=e,Object.prototype.toString);Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":a.call(this)}});var L=!1;if("undefined"!=typeof window)try{var n=Object.defineProperty({},"passive",{get:function(){L=!0}});window.addEventListener("test",n,n),window.removeEventListener("test",n,n)}catch(e){L=!1}var U={useG:!0},j={},q={},W=new RegExp("^"+_+"(\\w+)(true|false)$"),S=O("propagationStopped");function $(e,t){var n=(t?t(e):e)+"false",t=(t?t(e):e)+"true",n=_+n,t=_+t;j[e]={},j[e].false=n,j[e].true=t}function K(I,e,t){function l(e){if(e=e||I.event){var t=this||e.target||I,n=t[j[e.type].false];if(n)if(1===n.length)o(n[0],t,e);else for(var r=n.slice(),i=0;i<r.length&&(!e||!0!==e[S]);i++)o(r[i],t,e)}}function u(e){if(e=e||I.event){var t=this||e.target||I,n=t[j[e.type].true];if(n)if(1===n.length)o(n[0],t,e);else for(var r=n.slice(),i=0;i<r.length&&(!e||!0!==e[S]);i++)o(r[i],t,e)}}var h=t&&t.add||"addEventListener",p=t&&t.rm||"removeEventListener",d=t&&t.listeners||"eventListeners",g=t&&t.rmAll||"removeAllListeners",v=O(h),m="."+h+":",o=function(e,t,n){var r,i;e.isRemoved||("object"==typeof(r=e.callback)&&r.handleEvent&&(e.callback=function(e){return r.handleEvent(e)},e.originalDelegate=r),e.invoke(e,t,[n]),(i=e.options)&&"object"==typeof i&&i.once&&t[p].call(t,n.type,e.originalDelegate||e.callback,i))};function n(e,w){if(!e)return!1;var C=!0,x=(w&&void 0!==w.useG&&(C=w.useG),w&&w.vh),S=!0,f=(w&&void 0!==w.chkDup&&(S=w.chkDup),!1);w&&void 0!==w.rt&&(f=w.rt);for(var t=e;t&&!t.hasOwnProperty(h);)t=y(t);if(!(t=!t&&e[h]?e:t))return!1;if(t[v])return!1;var n,E=w&&w.eventNameToString,T={},r=t[v]=t[h],c=t[O(p)]=t[p],e=t[O(d)]=t[d],i=t[O(g)]=t[g];w&&w.prepend&&(n=t[O(w.prepend)]=t[w.prepend]);function o(v,m,y,k){var b=4<arguments.length&&void 0!==arguments[4]&&arguments[4],_=5<arguments.length&&void 0!==arguments[5]&&arguments[5];return function(){var e=this||I,t=arguments[0],n=(w&&w.transferEventName&&(t=w.transferEventName(t)),arguments[1]);if(!n)return v.apply(this,arguments);if(M&&"uncaughtException"===t)return v.apply(this,arguments);var r=!1;if("function"!=typeof n){if(!n.handleEvent)return v.apply(this,arguments);r=!0}if(!x||x(v,n,e,arguments)){var i=L&&!!R&&-1!==R.indexOf(t),o=(l=arguments[2],s=i,!L&&"object"==typeof l&&l?!!l.capture:L&&s?"boolean"==typeof l?{capture:l,passive:!0}:l?"object"==typeof l&&!1!==l.passive?Object.assign(Object.assign({},l),{passive:!0}):l:{passive:!0}:l);if(P)for(var a=0;a<P.length;a++)if(t===P[a])return i?v.call(e,t,n,o):v.apply(this,arguments);var s=!!o&&("boolean"==typeof o||o.capture),l=!(!o||"object"!=typeof o)&&o.once,c=Zone.current,u=j[t];u||($(t,E),u=j[t]);var h,u=u[s?"true":"false"],d=e[u],f=!1;if(d){if(f=!0,S)for(var p=0;p<d.length;p++)if(A(d[p],n))return}else d=e[u]=[];var u=e.constructor.name,g=q[u],g=(h=(h=g?g[t]:h)||u+m+(E?E(t):t),T.options=o,l&&(T.options.once=!1),T.target=e,T.capture=s,T.eventName=t,T.isExisting=f,C?U:void 0),u=(g&&(g.taskData=T),c.scheduleEventTask(h,n,g,y,k));return T.target=null,g&&(g.taskData=null),l&&(o.once=!0),!L&&"boolean"==typeof u.options||(u.options=o),u.target=e,u.capture=s,u.eventName=t,r&&(u.originalDelegate=n),_?d.unshift(u):d.push(u),b?e:void 0}}}var a=C?function(e){if(!T.isExisting)return r.call(T.target,T.eventName,T.capture?u:l,T.options)}:function(e){return r.call(T.target,T.eventName,e.invoke,T.options)},s=C?function(e){if(!e.isRemoved){var t,n=j[e.eventName],r=(t=n?n[e.capture?"true":"false"]:t)&&e.target[t];if(r)for(var i=0;i<r.length;i++)if(r[i]===e){r.splice(i,1),e.isRemoved=!0,0===r.length&&(e.allRemoved=!0,e.target[t]=null);break}}if(e.allRemoved)return c.call(e.target,e.eventName,e.capture?u:l,e.options)}:function(e){return c.call(e.target,e.eventName,e.invoke,e.options)},A=w&&w.diff?w.diff:function(e,t){var n=typeof t;return"function"==n&&e.callback===t||"object"==n&&e.originalDelegate===t},P=Zone[O("BLACK_LISTED_EVENTS")],R=I[O("PASSIVE_EVENTS")];return t[h]=o(r,m,a,s,f),n&&(t.prependListener=o(n,".prependListener:",function(e){return n.call(T.target,T.eventName,e.invoke,T.options)},s,f,!0)),t[p]=function(){var e=this||I,t=arguments[0],n=(w&&w.transferEventName&&(t=w.transferEventName(t)),arguments[2]),n=!!n&&("boolean"==typeof n||n.capture),r=arguments[1];if(!r)return c.apply(this,arguments);if(!x||x(c,r,e,arguments)){var i,o=j[t],a=(i=o?o[n?"true":"false"]:i)&&e[i];if(a)for(var s=0;s<a.length;s++){var l=a[s];if(A(l,r))return a.splice(s,1),l.isRemoved=!0,0===a.length&&(l.allRemoved=!0,e[i]=null,"string"==typeof t)&&(e[_+"ON_PROPERTY"+t]=null),l.zone.cancelTask(l),f?e:void 0}return c.apply(this,arguments)}},t[d]=function(){var e=this||I,t=arguments[0];w&&w.transferEventName&&(t=w.transferEventName(t));for(var n=[],r=G(e,E?E(t):t),i=0;i<r.length;i++){var o=r[i];n.push(o.originalDelegate||o.callback)}return n},t[g]=function(){var e=this||I,t=arguments[0];if(t){w&&w.transferEventName&&(t=w.transferEventName(t));var n=j[t];if(n){var r=e[n.false],n=e[n.true];if(r)for(var i=r.slice(),o=0;o<i.length;o++){var a=i[o];this[p].call(this,t,a.originalDelegate||a.callback,a.options)}if(n)for(var s=n.slice(),l=0;l<s.length;l++){var c=s[l];this[p].call(this,t,c.originalDelegate||c.callback,c.options)}}}else{for(var u=Object.keys(e),h=0;h<u.length;h++){var d=W.exec(u[h]),d=d&&d[1];d&&"removeListener"!==d&&this[g].call(this,d)}this[g].call(this,"removeListener")}if(f)return this},N(t[h],r),N(t[p],c),i&&N(t[g],i),e&&N(t[d],e),!0}for(var r=[],i=0;i<e.length;i++)r[i]=n(e[i],t);return r}function G(e,t){var n,r;if(t)return(r=j[t])||($(t),r=j[t]),n=e[r.false],r=e[r.true],n?r?n.concat(r):n.slice():r?r.slice():[];var i,o=[];for(i in e){var a=W.exec(i),a=a&&a[1];if(a&&(!t||a===t)){var s=e[i];if(s)for(var l=0;l<s.length;l++)o.push(s[l])}}return o}function Z(e,t){e=e.Event;e&&e.prototype&&t.patchMethod(e.prototype,"stopImmediatePropagation",function(n){return function(e,t){e[S]=!0,n&&n.apply(e,t)}})}function J(o,n,a,s,r){var l,e=Zone.__symbol__(s);n[e]||(l=n[e]=n[s],n[s]=function(e,i,t){return i&&i.prototype&&r.forEach(function(e){var t,n="".concat(a,".").concat(s,"::")+e,r=i.prototype;r.hasOwnProperty(e)&&(t=o.ObjectGetOwnPropertyDescriptor(r,e))&&t.value?(t.value=o.wrapWithCurrentZone(t.value,n),o._redefineProperty(i.prototype,e,t)):r[e]&&(r[e]=o.wrapWithCurrentZone(r[e],n))}),l.call(n,e,i,t)},o.attachOriginToPatched(n[s],l))}var E=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],Q=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],Y=["load"],X=["blur","error","focus","load","resize","scroll","messageerror"],ee=["bounce","finish","start"],te=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],T=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],ne=["close","error","open","message"],re=["error","message"],A=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],E,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function ie(t,e,n){var r;return n&&0!==n.length&&(n=n.filter(function(e){return e.target===t}))&&0!==n.length?(r=n[0].ignoreProperties,e.filter(function(e){return-1===r.indexOf(e)})):e}function P(e,t,n,r){e&&v(e,ie(e,t,n),r)}function oe(e,t){var n,r,i;M&&!d||Zone[e.symbol("patchEvents")]||(e="undefined"!=typeof WebSocket,n=t.__Zone_ignore_on_properties,a&&(i=[{target:r=window,ignoreProperties:["error"]}],P(r,A.concat(["messageerror"]),n&&n.concat(i),y(r)),P(Document.prototype,A,n),void 0!==r.SVGElement&&P(r.SVGElement.prototype,A,n),P(Element.prototype,A,n),P(HTMLElement.prototype,A,n),P(HTMLMediaElement.prototype,Q,n),P(HTMLFrameSetElement.prototype,E.concat(X),n),P(HTMLBodyElement.prototype,E.concat(X),n),P(HTMLFrameElement.prototype,Y,n),P(HTMLIFrameElement.prototype,Y,n),(i=r.HTMLMarqueeElement)&&P(i.prototype,ee,n),i=r.Worker)&&P(i.prototype,re,n),(r=t.XMLHttpRequest)&&P(r.prototype,te,n),(i=t.XMLHttpRequestEventTarget)&&P(i&&i.prototype,te,n),"undefined"!=typeof IDBIndex&&(P(IDBIndex.prototype,T,n),P(IDBRequest.prototype,T,n),P(IDBOpenDBRequest.prototype,T,n),P(IDBDatabase.prototype,T,n),P(IDBTransaction.prototype,T,n),P(IDBCursor.prototype,T,n)),e&&P(WebSocket.prototype,ne,n))}Zone.__load_patch("util",function(e,t,n){n.patchOnProperties=v,n.patchMethod=x,n.bindArguments=s,n.patchMacroTask=V;var r=t.__symbol__("BLACK_LISTED_EVENTS"),i=t.__symbol__("UNPATCHED_EVENTS");e[i]&&(e[r]=e[i]),e[r]&&(t[r]=t[i]=e[r]),n.patchEventPrototype=Z,n.patchEventTarget=K,n.isIEOrEdge=H,n.ObjectDefineProperty=u,n.ObjectGetOwnPropertyDescriptor=c,n.ObjectCreate=I,n.ArraySlice=D,n.patchClass=C,n.wrapWithCurrentZone=o,n.filterProperties=ie,n.attachOriginToPatched=N,n._redefineProperty=Object.defineProperty,n.patchCallbacks=J,n.getGlobalObjects=function(){return{globalSources:q,zoneSymbolEventNames:j,eventNames:A,isBrowser:a,isMix:d,isNode:M,TRUE_STR:"true",FALSE_STR:"false",ZONE_SYMBOL_PREFIX:_,ADD_EVENT_LISTENER_STR:"addEventListener",REMOVE_EVENT_LISTENER_STR:"removeEventListener"}}});var R=O("zoneTask");function r(o,a,e,s){var n=null,t=null,l=(e+=s,{});function c(e){var t=e.data;return t.args[0]=function(){try{e.invoke.apply(this,arguments)}finally{e.data&&e.data.isPeriodic||("number"==typeof t.handleId?delete l[t.handleId]:t.handleId&&(t.handleId[R]=null))}},t.handleId=n.apply(o,t.args),e}function u(e){return t(e.data.handleId)}n=x(o,a+=s,function(i){return function(e,t){var n,r;return"function"==typeof t[0]?(n=w(a,t[0],{isPeriodic:"Interval"===s,delay:"Timeout"===s||"Interval"===s?t[1]||0:void 0,args:t},c,u))&&("number"==typeof(r=n.data.handleId)?l[r]=n:r&&(r[R]=n),r&&r.ref&&r.unref&&"function"==typeof r.ref&&"function"==typeof r.unref&&(n.ref=r.ref.bind(r),n.unref=r.unref.bind(r)),"number"==typeof r||r?r:n):i.apply(o,t)}}),t=x(o,e,function(i){return function(e,t){var n=t[0],r="number"==typeof n?l[n]:(r=n&&n[R])||n;r&&"string"==typeof r.type?"notScheduled"!==r.state&&(r.cancelFn&&r.data.isPeriodic||0===r.runCount)&&("number"==typeof n?delete l[n]:n&&(n[R]=null),r.zone.cancelTask(r)):i.apply(o,t)}})}Zone.__load_patch("legacy",function(e){e=e[Zone.__symbol__("legacyPatch")];e&&e()}),Zone.__load_patch("timers",function(e){r(e,"set","clear","Timeout"),r(e,"set","clear","Interval"),r(e,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",function(e){r(e,"request","cancel","AnimationFrame"),r(e,"mozRequest","mozCancel","AnimationFrame"),r(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",function(i,o){for(var e=["alert","prompt","confirm"],t=0;t<e.length;t++)x(i,e[t],function(n,e,r){return function(e,t){return o.current.run(n,i,t,r)}})}),Zone.__load_patch("EventTarget",function(e,t,n){n.patchEventPrototype(e,n);var r=e,i=n;if(!Zone[i.symbol("patchEventTarget")]){for(var o=i.getGlobalObjects(),a=o.eventNames,s=o.zoneSymbolEventNames,l=o.TRUE_STR,c=o.FALSE_STR,u=o.ZONE_SYMBOL_PREFIX,h=0;h<a.length;h++){var d=a[h],f=u+(d+c),p=u+(d+l);s[d]={},s[d][c]=f,s[d][l]=p}o=r.EventTarget;o&&o.prototype&&i.patchEventTarget(r,[o&&o.prototype])}i=e.XMLHttpRequestEventTarget;i&&i.prototype&&n.patchEventTarget(e,[i.prototype]),C("MutationObserver"),C("WebKitMutationObserver"),C("IntersectionObserver"),C("FileReader")}),Zone.__load_patch("on_property",function(e,t,n){oe(n,e)}),Zone.__load_patch("customElements",function(e,t,n){var r;e=e,((r=(n=n).getGlobalObjects()).isBrowser||r.isMix)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}),Zone.__load_patch("XHR",function(e,a){function r(r){var i=r.data,o=i.target,e=(o[v]=!1,o[y]=!1,o[g]),e=(t||(t=o[k],n=o[b]),e&&n.call(o,"readystatechange",e),o[g]=function(){var e,n;o.readyState===o.DONE&&(!i.aborted&&o[v]&&"scheduled"===r.state?(e=o[a.__symbol__("loadfalse")])&&0<e.length?(n=r.invoke,r.invoke=function(){for(var e=o[a.__symbol__("loadfalse")],t=0;t<e.length;t++)e[t]===r&&e.splice(t,1);i.aborted||"scheduled"!==r.state||n.call(r)},e.push(r)):r.invoke():i.aborted||!1!==o[v]||(o[y]=!0))});return t.call(o,"readystatechange",e),o[f]||(o[f]=r),u.apply(o,i.args),o[v]=!0,r}function i(){}function o(e){e=e.data;return e.aborted=!0,h.apply(e.target,e.args)}(d=e.XMLHttpRequest)&&(d=d.prototype,t=d[k],n=d[b],t||(e=e.XMLHttpRequestEventTarget)&&(e=e.prototype,t=e[k],n=e[b]),s=x(d,"open",function(){return function(e,t){return e[p]=0==t[2],e[m]=t[1],s.apply(e,t)}}),l=O("fetchTaskAborting"),c=O("fetchTaskScheduling"),u=x(d,"send",function(){return function(e,t){var n;return!0===a.current[c]||e[p]?u.apply(e,t):(n=w("XMLHttpRequest.send",i,t={target:e,url:e[m],isPeriodic:!1,args:t,aborted:!1},r,o),void(e&&!0===e[y]&&!t.aborted&&"scheduled"===n.state&&n.invoke()))}}),h=x(d,"abort",function(){return function(e,t){var n=e[f];if(n&&"string"==typeof n.type)null==n.cancelFn||n.data&&n.data.aborted||n.zone.cancelTask(n);else if(!0===a.current[l])return h.apply(e,t)}}));var t,n,s,l,c,u,h,d,f=O("xhrTask"),p=O("xhrSync"),g=O("xhrListener"),v=O("xhrScheduled"),m=O("xhrURL"),y=O("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",function(e){if(e.navigator&&e.navigator.geolocation)for(var i=e.navigator.geolocation,o=["getCurrentPosition","watchPosition"],a=i.constructor.name,t=0;t<o.length;t++)(e=>{var t,n=o[e];if(e=i[n]){if(!l(c(i,n)))return;i[n]=(N(r,t=e),r)}function r(){return t.apply(this,s(arguments,a+"."+n))}})(t)}),Zone.__load_patch("PromiseRejectionEvent",function(i,e){function t(r){return function(n){G(i,r).forEach(function(e){var t=i.PromiseRejectionEvent;t&&(t=new t(r,{promise:n.promise,reason:n.rejection}),e.invoke(t))})}}i.PromiseRejectionEvent&&(e[O("unhandledPromiseRejectionHandler")]=t("unhandledrejection"),e[O("rejectionHandledHandler")]=t("rejectionhandled"))})})?r.call(t,n,t,e):r)&&(e.exports=n)},pNMO:function(j,D,e){function t(e,t){var n=P[e]=y(E.prototype);return ie(n,{type:"Symbol",tag:e,description:t}),u||(n.description=t),n}function r(e,t,n){return e===S&&r(R,t,n),p(e),t=v(t,!0),p(n),(f(P,t)?(n.enumerable?(f(e,x)&&e[x][t]&&(e[x][t]=!1),n=y(n,{enumerable:m(0,!1)})):(f(e,x)||A(e,x,m(1,{})),e[x][t]=!0),N):A)(e,t,n)}function n(t,e){p(t);var n=g(e),e=q(n).concat(s(n));return C(e,function(e){u&&!i.call(n,e)||r(t,e,n[e])}),t}function i(e){var e=v(e,!0),t=le.call(this,e);return!(this===S&&f(P,e)&&!f(R,e))&&(!(t||!f(this,e)||!f(P,e)||f(this,x)&&this[x][e])||t)}function o(e,t){var n,e=g(e),t=v(t,!0);if(e!==S||!f(P,t)||f(R,t))return!(n=ae(e,t))||!f(P,t)||f(e,x)&&e[x][t]||(n.enumerable=!0),n}function a(e){var e=se(g(e)),t=[];return C(e,function(e){f(P,e)||f(Y,e)||t.push(e)}),t}function s(e){var t=e===S,e=se(t?R:g(e)),n=[];return C(e,function(e){!f(P,e)||t&&!f(S,e)||n.push(P[e])}),n}var l=e("I+eb"),c=e("2oRo"),F=e("0GbY"),V=e("xDBR"),u=e("g6v/"),h=e("STAE"),z=e("/b8u"),d=e("0Dky"),f=e("UTVS"),B=e("6LWA"),H=e("hh1v"),p=e("glrk"),U=e("ewvW"),g=e("/GqU"),v=e("wE6v"),m=e("XGwC"),y=e("fHMY"),q=e("33Wh"),W=e("JBy8"),$=e("BX/b"),k=e("dBg+"),K=e("Bs8V"),G=e("m/L8"),Z=e("0eef"),J=e("kRJp"),b=e("busE"),_=e("VpIT"),Q=e("93I0"),Y=e("0BK2"),X=e("kOOl"),ee=e("tiKp"),te=e("5Tg+"),ne=e("dG/n"),re=e("1E5z"),w=e("afO8"),C=e("tycR").forEach,x=Q("hidden"),e=ee("toPrimitive"),ie=w.set,oe=w.getterFor("Symbol"),S=Object.prototype,E=c.Symbol,T=F("JSON","stringify"),ae=K.f,A=G.f,se=$.f,le=Z.f,P=_("symbols"),R=_("op-symbols"),I=_("string-to-symbol-registry"),O=_("symbol-to-string-registry"),Q=_("wks"),w=c.QObject,M=!w||!w.prototype||!w.prototype.findChild,N=u&&d(function(){return 7!=y(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=ae(S,t);r&&delete S[t],A(e,t,n),r&&e!==S&&A(S,t,r)}:A,L=z?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof E};h||(b((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=X(e);return u&&M&&N(S,n,{configurable:!0,set:function e(t){this===S&&e.call(R,t),f(this,x)&&f(this[x],n)&&(this[x][n]=!1),N(this,n,m(1,t))}}),t(n,e)}).prototype,"toString",function(){return oe(this).tag}),b(E,"withoutSetter",function(e){return t(X(e),e)}),Z.f=i,G.f=r,K.f=o,W.f=$.f=a,k.f=s,te.f=function(e){return t(ee(e),e)},u&&(A(E.prototype,"description",{configurable:!0,get:function(){return oe(this).description}}),V||b(S,"propertyIsEnumerable",i,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:E}),C(q(Q),function(e){ne(e)}),l({target:"Symbol",stat:!0,forced:!h},{for:function(e){var t,e=String(e);return f(I,e)?I[e]:(t=E(e),I[e]=t,O[t]=e,t)},keyFor:function(e){if(!L(e))throw TypeError(e+" is not a symbol");if(f(O,e))return O[e]},useSetter:function(){M=!0},useSimple:function(){M=!1}}),l({target:"Object",stat:!0,forced:!h,sham:!u},{create:function(e,t){return void 0===t?y(e):n(y(e),t)},defineProperty:r,defineProperties:n,getOwnPropertyDescriptor:o}),l({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:a,getOwnPropertySymbols:s}),l({target:"Object",stat:!0,forced:d(function(){k.f(1)})},{getOwnPropertySymbols:function(e){return k.f(U(e))}}),T&&l({target:"JSON",stat:!0,forced:!h||d(function(){var e=E();return"[null]"!=T([e])||"{}"!=T({a:e})||"{}"!=T(Object(e))})},{stringify:function(e,t,n){for(var r,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if((H(r=t)||void 0!==e)&&!L(e))return B(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!L(t))return t}),i[1]=t,T.apply(null,i)}}),E.prototype[e]||J(E.prototype,e,E.prototype.valueOf),re(E,"Symbol"),Y[x]=!0},piMb:function(e,t,n){var r=n("I+eb"),i=n("tycR").every,o=n("pkCn"),n=n("rkAj"),o=o("every"),n=n("every");r({target:"Array",proto:!0,forced:!o||!n},{every:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},pjDv:function(e,t,n){var r=n("I+eb"),i=n("TfTi");r({target:"Array",stat:!0,forced:!n("HH4o")(function(e){Array.from(e)})},{from:i})},pkCn:function(e,t,n){var r=n("0Dky");e.exports=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){throw 1},1)})}},ppGB:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},"qHT+":function(e,t,n){var r=n("I+eb"),i=n("FF6l"),n=n("RNIs");r({target:"Array",proto:!0},{copyWithin:i}),n("copyWithin")},qePV:function(e,t,n){function r(e){var t,n,r,i,o,a,s,l=h(e,!1);if("string"==typeof l&&2<l.length)if(43===(e=(l=m(l)).charCodeAt(0))||45===e){if(88===(t=l.charCodeAt(2))||120===t)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(o=(i=l.slice(2)).length,a=0;a<o;a++)if((s=i.charCodeAt(a))<48||r<s)return NaN;return parseInt(i,n)}return+l}var i=n("g6v/"),o=n("2oRo"),a=n("lMq5"),s=n("busE"),l=n("UTVS"),c=n("xrYK"),u=n("cVYH"),h=n("wE6v"),d=n("0Dky"),f=n("fHMY"),p=n("JBy8").f,g=n("Bs8V").f,v=n("m/L8").f,m=n("WKiH").trim,y=o.Number,k=y.prototype,b="Number"==c(f(k));if(a("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _,w=function e(t){var t=arguments.length<1?0:t,n=this;return n instanceof e&&(b?d(function(){k.valueOf.call(n)}):"Number"!=c(n))?u(new y(r(t)),n,e):r(t)},C=i?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;C.length>x;x++)l(y,_=C[x])&&!l(w,_)&&v(w,_,g(y,_));s(o,"Number",(w.prototype=k).constructor=w)}},qxPZ:function(e,t,n){var r=n("tiKp")("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,"/./"[t](n)}catch(e){}}return!1}},"r/Vq":function(e,t,n){n("I+eb")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},r5Og:function(e,t,n){var r=n("I+eb"),i=n("hh1v"),o=n("8YOa").onFreeze,a=n("uy83"),n=n("0Dky"),s=Object.seal;r({target:"Object",stat:!0,forced:n(function(){s(1)}),sham:!a},{seal:function(e){return s&&i(e)?s(o(e)):e}})},rB9j:function(e,t,n){var r=n("I+eb"),n=n("kmMV");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},rKzb:function(e,t,n){function l(e){return e.frozen||(e.frozen=new r)}function r(){this.entries=[]}function i(e,t){return a(e.entries,function(e){return e[0]===t})}var c=n("4syw"),u=n("8YOa").getWeakData,h=n("glrk"),d=n("hh1v"),f=n("GarU"),p=n("ImZN"),o=n("tycR"),g=n("UTVS"),n=n("afO8"),v=n.set,m=n.getterFor,a=o.find,s=o.findIndex,y=0;r.prototype={get:function(e){e=i(this,e);if(e)return e[1]},has:function(e){return!!i(this,e)},set:function(e,t){var n=i(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(t){var e=s(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,i){function o(e,t,n){var r=s(e),i=u(h(t),!0);return!0===i?l(r).set(t,n):i[r.id]=n,e}var a=e(function(e,t){f(e,a,n),v(e,{type:n,id:y++,frozen:void 0}),null!=t&&p(t,e[i],e,r)}),s=m(n);return c(a.prototype,{delete:function(e){var t,n=s(this);return!!d(e)&&(!0===(t=u(e))?l(n).delete(e):t&&g(t,n.id)&&delete t[n.id])},has:function(e){var t,n=s(this);return!!d(e)&&(!0===(t=u(e))?l(n).has(e):t&&g(t,n.id))}}),c(a.prototype,r?{get:function(e){var t,n=s(this);if(d(e))return!0===(t=u(e))?l(n).get(e):t?t[n.id]:void 0},set:function(e,t){return o(this,e,t)}}:{add:function(e){return o(this,e,!0)}}),a}}},rMz7:function(e,t,n){var r=n("I+eb"),n=n("ZOXb");r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==n},{toISOString:n})},rNhl:function(e,t,n){var r=n("I+eb"),n=n("fhKU");r({global:!0,forced:parseFloat!=n},{parseFloat:n})},rW0t:function(e,t,n){var r=n("glrk");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},rkAj:function(e,t,n){function a(e){throw e}var s=n("g6v/"),l=n("0Dky"),c=n("UTVS"),u=Object.defineProperty,h={};e.exports=function(e,t){var n,r,i,o;return c(h,e)?h[e]:(n=[][e],r=!!c(t=t||{},"ACCESSORS")&&t.ACCESSORS,i=c(t,0)?t[0]:a,o=c(t,1)?t[1]:void 0,h[e]=!!n&&!l(function(){if(r&&!s)return!0;var e={length:-1};r?u(e,1,{enumerable:!0,get:a}):e[1]=1,n.call(e,i,o)}))}},rpNk:function(e,t,n){var r,i,o=n("4WOD"),a=n("kRJp"),s=n("UTVS"),l=n("tiKp"),n=n("xDBR"),l=l("iterator"),c=!1;[].keys&&("next"in(i=[].keys())?(o=o(o(i)))!==Object.prototype&&(r=o):c=!0),null==r&&(r={}),n||s(r,l)||a(r,l,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:c}},rwPt:function(e,t,n){var r=n("0Dky");e.exports=function(t){return r(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length})}},sEFX:function(e,t,n){var r=n("AO7/"),i=n("9d/t");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},sMBO:function(e,t,n){var r=n("g6v/"),n=n("m/L8").f,i=Function.prototype,o=i.toString,a=/^\s*function ([^ (]*)/;!r||"name"in i||n(i,"name",{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(e){return""}}})},tW5y:function(e,t,n){var r=n("hh1v"),i=n("m/L8"),o=n("4WOD"),n=n("tiKp")("hasInstance"),a=Function.prototype;n in a||i.f(a,n,{value:function(e){if("function"==typeof this&&r(e)){if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0}return!1}})},tXUg:function(e,t,n){var r,i,o,a,s,l,c,u,h=n("2oRo"),d=n("Bs8V").f,f=n("xrYK"),p=n("LPSS").set,n=n("HNyW"),g=h.MutationObserver||h.WebKitMutationObserver,v=h.process,m=h.Promise,y="process"==f(v),f=d(h,"queueMicrotask"),d=f&&f.value;d||(r=function(){var e,t;for(y&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},a=y?function(){v.nextTick(r)}:g&&!n?(s=!0,l=document.createTextNode(""),new g(r).observe(l,{characterData:!0}),function(){l.data=s=!s}):m&&m.resolve?(c=m.resolve(void 0),u=c.then,function(){u.call(c,r)}):function(){p.call(h,r)}),e.exports=d||function(e){e={fn:e,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},tiKp:function(e,t,n){var r=n("2oRo"),i=n("VpIT"),o=n("UTVS"),a=n("kOOl"),s=n("STAE"),n=n("/b8u"),l=i("wks"),c=r.Symbol,u=n?c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=s&&o(c,e)?c[e]:u("Symbol."+e)),l[e]}},tjZM:function(e,t,n){n("dG/n")("asyncIterator")},tkto:function(e,t,n){var r=n("I+eb"),i=n("ewvW"),o=n("33Wh");r({target:"Object",stat:!0,forced:n("0Dky")(function(){o(1)})},{keys:function(e){return o(i(e))}})},"tl/u":function(e,t,n){var n=n("I+eb"),r=Math.ceil,i=Math.floor;n({target:"Math",stat:!0},{trunc:function(e){return(0<e?i:r)(e)}})},toAj:function(e,t,n){function h(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)}var r=n("I+eb"),d=n("ppGB"),f=n("QIpd"),p=n("EUja"),n=n("0Dky"),i=1..toFixed,g=Math.floor;r({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(function(){i.call({})})},{toFixed:function(e){function t(e,t){for(var n=-1,r=t;++n<6;)l[n]=(r+=e*l[n])%1e7,r=g(r/1e7)}function n(e){for(var t=6,n=0;0<=--t;)l[t]=g((n+=l[t])/e),n=n%e*1e7}function r(){for(var e,t=6,n="";0<=--t;)""===n&&0!==t&&0===l[t]||(e=String(l[t]),n=""===n?e:n+p.call("0",7-e.length)+e);return n}var i,o,a,s=f(this),e=d(e),l=[0,0,0,0,0,0],c="",u="0";if(e<0||20<e)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||1e21<=s)return String(s);if(s<0&&(c="-",s=-s),1e-21<s)if(a=(i=(()=>{for(var e=0,t=s*h(2,69,1);4096<=t;)e+=12,t/=4096;for(;2<=t;)e+=1,t/=2;return e})()-69)<0?s*h(2,-i,1):s/h(2,i,1),a*=4503599627370496,0<(i=52-i)){for(t(0,a),o=e;7<=o;)t(1e7,0),o-=7;for(t(h(10,o,1),0),o=i-1;23<=o;)n(1<<23),o-=23;n(1<<o),t(1,1),n(2),u=r()}else t(0,a),t(1<<-i,0),u=r()+p.call("0",e);return 0<e?c+((a=u.length)<=e?"0."+p.call("0",e-a)+u:u.slice(0,a-e)+"."+u.slice(a-e)):c+u}})},tycR:function(e,t,n){function r(d){var f=1==d,p=2==d,g=3==d,v=4==d,m=6==d,y=5==d||m;return function(e,t,n,r){for(var i,o,a=_(e),s=b(a),l=k(t,n,3),c=w(s.length),u=0,t=r||C,h=f?t(e,c):p?t(e,0):void 0;u<c;u++)if((y||u in s)&&(o=l(i=s[u],u,a),d))if(f)h[u]=o;else if(o)switch(d){case 3:return!0;case 5:return i;case 6:return u;case 2:x.call(h,i)}else if(v)return!1;return m?-1:g||v?v:h}}var k=n("A2ZE"),b=n("RK3t"),_=n("ewvW"),w=n("UMSQ"),C=n("ZfDv"),x=[].push;e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},uL8W:function(e,t,n){n("I+eb")({target:"Object",stat:!0,sham:!n("g6v/")},{create:n("fHMY")})},uqXc:function(e,t,n){var r=n("I+eb"),n=n("5Yz+");r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},uy83:function(e,t,n){n=n("0Dky");e.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},vAFs:function(e,t,n){var r=n("I+eb"),n=n("0Dky"),i=Math.imul;r({target:"Math",stat:!0,forced:n(function(){return-5!=i(4294967295,5)||2!=i.length})},{imul:function(e,t){var e=+e,t=+t,n=65535&e,r=65535&t;return 0|n*r+((65535&e>>>16)*r+n*(65535&t>>>16)<<16>>>0)}})},vo4V:function(e,t,n){var r=n("90hW"),i=Math.abs,n=Math.pow,o=n(2,-52),a=n(2,-23),s=n(2,127)*(2-a),l=n(2,-126);e.exports=Math.fround||function(e){var t,n=i(e),e=r(e);return n<l?e*(n/l/a+1/o-1/o)*l*a:(t=(t=(1+a/o)*n)-(t-n))>s||t!=t?e*(1/0):e*t}},w1rZ:function(e,t,n){var r=n("I+eb"),n=n("fhKU");r({target:"Number",stat:!0,forced:Number.parseFloat!=n},{parseFloat:n})},wE6v:function(e,t,n){var i=n("hh1v");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!i(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},wLYn:function(e,t,n){n("I+eb")({target:"Function",proto:!0},{bind:n("BTho")})},wg0c:function(e,t,n){var r=n("2oRo"),i=n("WKiH").trim,n=n("WJkJ"),o=r.parseInt,a=/^[+-]?0[Xx]/,r=8!==o(n+"08")||22!==o(n+"0x16");e.exports=r?function(e,t){e=i(String(e));return o(e,t>>>0||(a.test(e)?16:10))}:o},x0AG:function(e,t,n){var r=n("I+eb"),i=n("tycR").findIndex,o=n("RNIs"),n=n("rkAj"),a=!0,n=n("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),r({target:"Array",proto:!0,forced:a||!n},{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),o("findIndex")},x83w:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("fixed")},{fixed:function(){return i(this,"tt","","")}})},xDBR:function(e,t){e.exports=!1},xdBZ:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("italics")},{italics:function(){return i(this,"i","","")}})},xrYK:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},xs3f:function(e,t,n){var r=n("2oRo"),n=n("zk60"),r=r["__core-js_shared__"]||n("__core-js_shared__",{});e.exports=r},yNLB:function(e,t,n){var r=n("0Dky"),i=n("WJkJ");e.exports=function(e){return r(function(){return!!i[e]()||""!=""[e]()||i[e].name!==e})}},yQYn:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("hh1v"),a=Object.isExtensible;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isExtensible:function(e){return!!o(e)&&(!a||a(e))}})},yWo2:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("small")},{small:function(){return i(this,"small","","")}})},yXV3:function(e,t,n){var r=n("I+eb"),i=n("TWQb").indexOf,o=n("pkCn"),n=n("rkAj"),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,o=o("indexOf"),n=n("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!o||!n},{indexOf:function(e){return s?a.apply(this,arguments)||0:i(this,e,1<arguments.length?arguments[1]:void 0)}})},yiG3:function(e,t,n){n("I+eb")({target:"Math",stat:!0},{log1p:n("HsHA")})},yoRg:function(e,t,n){var a=n("UTVS"),s=n("/GqU"),l=n("TWQb").indexOf,c=n("0BK2");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)!a(c,n)&&a(r,n)&&o.push(n);for(;t.length>i;)!a(r,n=t[i++])||~l(o,n)||o.push(n);return o}},yyme:function(e,t,n){var r=n("I+eb"),i=n("gdVl"),n=n("RNIs");r({target:"Array",proto:!0},{fill:i}),n("fill")},zBJ4:function(e,t,n){var r=n("2oRo"),n=n("hh1v"),i=r.document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},zHFu:function(e,t,n){var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("bold")},{bold:function(){return i(this,"b","","")}})},zKZe:function(e,t,n){var r=n("I+eb"),n=n("YNrV");r({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},zfnd:function(e,t,n){var r=n("glrk"),i=n("hh1v"),o=n("8GlL");e.exports=function(e,t){return r(e),i(t)&&t.constructor===e?t:((0,(e=o.f(e)).resolve)(t),e.promise)}},zk60:function(e,t,n){var r=n("2oRo"),i=n("kRJp");e.exports=function(t,n){try{i(r,t,n)}catch(e){r[t]=n}return n}},zuhW:function(e,t,n){var r=n("I+eb"),i=n("hh1v"),o=n("8YOa").onFreeze,a=n("uy83"),n=n("0Dky"),s=Object.preventExtensions;r({target:"Object",stat:!0,forced:n(function(){s(1)}),sham:!a},{preventExtensions:function(e){return s&&i(e)?s(o(e)):e}})}},[[2,0]]])})(),(()=>{function mE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yE(e,t,n){return(yE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var e=((e,t)=>{for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=RE(e)););return e})(e,t);if(e)return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(n):e.value})(e,t,n||e)}function kE(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}})(e,t)||s(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function bE(e,t){var n,r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function _E(e){return(e=>{if(Array.isArray(e))return r(e)})(e)||(e=>{if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||s(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function s(e,t){var n;if(e)return"string"==typeof e?r(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CE(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}function xE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function SE(n){var r=o();return function(){var e,t=RE(n);return EE(this,r?(e=RE(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function EE(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?TE(e):t}function TE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AE(e){var n="function"==typeof Map?new Map:void 0;return(AE=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return PE(e,arguments,RE(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)})(e)}function PE(e,t,n){return(PE=o()?Reflect.construct:function(e,t,n){var r=[null],t=(r.push.apply(r,t),new(Function.bind.apply(e,r)));return n&&a(t,n.prototype),t}).apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RE(e){return(RE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("BSTl")},1:function(e,t){},"2u/s":function(e,s,t){var n,r,i;function o(e){var t;return(i[e]||(t=i[e]={i:e,l:!1,exports:{}},r[e].call(t.exports,t,t.exports,o),t.l=!0,t)).exports}(n=(n=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})).en=n.en||{}).dictionary=Object.assign(n.dictionary||{},{"%0 of %1":"%0 of %1","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading","Choose language":"Choose language",Code:"Code",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Horizontal line":"Horizontal line","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent",Insert:"Insert","Insert code block":"Insert code block","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic",Justify:"Justify",Language:"Language","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph","Plain text":"Plain text",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove Format":"Remove Format","Remove language":"Remove language","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Strikethrough:"Strikethrough","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","This link has no URL":"This link has no URL","To-do List":"To-do List",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"}),window,e.exports=(r=[function(e,t,n){n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});xE(o,AE(Error)),r=SE(o),CE(o,[{key:"is",value:function(e){return"CKEditorError"===e}}],[{key:"rethrowUnexpectedError",value:function(e,t){if(e.is&&e.is("CKEditorError"))throw e;t=new o(e.message,t);throw t.stack=e.stack,t}}]);var r,i=o;function o(e,t,n){return wE(this,o),(e=r.call(this,"".concat(e).concat(n?" "+JSON.stringify(n):"").concat(s(e)))).name="CKEditorError",e.context=t,e.data=n,e}function a(e,t){var n;(n=console).warn.apply(n,_E((n=s(e),t?[e,t,n]:[e,n])))}function s(e){return"\nRead more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-"+e}},function(e,t,i){r={};var n,r,o=function(e){if(void 0===r[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}r[e]=t}return r[e]},c=[];function u(e){for(var t=-1,n=0;n<c.length;n++)if(c[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s=n[a]||0,l="".concat(a," ").concat(s),a=(n[a]=s+1,u(l)),s={css:o[1],media:o[2],sourceMap:o[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:((t,e)=>{var n,r,i,o;return i=e.singleton?(o=p++,n=f=f||h(e),r=d.bind(null,n,o,!1),d.bind(null,n,o,!0)):(n=h(e),r=function(e,t,n){var r=n.css,i=n.media,n=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n,e),function(){var e;null!==(e=n).parentNode&&e.parentNode.removeChild(e)}),r(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||r(t=e):i()}})(s,t),references:1}),r.push(l)}return r}function h(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce&&(r=i.nc)&&(n.nonce=r),Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])}),"function"==typeof e.insert)e.insert(t);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function d(e,t,n,r){var n=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;e.styleSheet?e.styleSheet.cssText=l(t,n):(r=document.createTextNode(n),(n=e.childNodes)[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r))}var f=null,p=0;e.exports=function(e,o){(o=o||{}).singleton||"boolean"==typeof o.singleton||(o.singleton=n=void 0===n?Boolean(window&&document&&document.all&&!window.atob):n);var a=s(e=e||[],o);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var n=u(a[t]);c[n].references--}for(var e=s(e,o),r=0;r<a.length;r++){var i=u(a[r]);0===c[i].references&&(c[i].updater(),c.splice(i,1))}a=e}}}},,function(e,t,n){var n=n(7),r="object"==typeof self&&self&&self.Object===Object&&self,n=n.a||r||Function("return this")();t.a=n},function(e,i,o){!function(e){var t=o(3),n=o(14),r=s&&!s.nodeType&&s,e=r&&"object"==typeof e&&e&&!e.nodeType&&e,e=e&&e.exports===r?t.a.Buffer:void 0;i.a=(e?e.isBuffer:void 0)||n.a}.call(this,o(9)(e))},function(e,o,a){!function(e){var t=a(7),n=s&&!s.nodeType&&s,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,i=r&&r.exports===n&&t.a.process,e=(()=>{try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}})();o.a=e}.call(this,a(9)(e))},function(e,t,n){!function(e){var t=n(0),e="object"==typeof window?window:e;if(e.CKEDITOR_VERSION)throw new t.a("ckeditor-duplicated-modules",null);e.CKEDITOR_VERSION="28.0.0"}.call(this,n(11))},function(e,t,n){!function(e){t.a="object"==typeof e&&e&&e.Object===Object&&e}.call(this,n(11))},function(e,i,o){!function(e){var t=o(3),n=s&&!s.nodeType&&s,e=n&&"object"==typeof e&&e&&!e.nodeType&&e,e=e&&e.exports===n?t.a.Buffer:void 0,r=e?e.allocUnsafe:void 0;i.a=function(e,t){return t?e.slice():(t=e.length,t=r?r(t):new e.constructor(t),e.copy(t),t)}}.call(this,o(9)(e))},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,n){var r=n(1),n=n(76);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1),n=n(71);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t,n){var r=n(1),n=n(117);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t,n){t.a=function(){return!1}},function(e,t,n){var r=n(1),n=n(16);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(e,t,n){var r=n(1),n=n(18);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(e,t,n){var r=n(1),n=n(20);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}'},function(e,t,n){var r=n(1),n=n(22);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(e,t,n){var r=n(1),n=n(24);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}"},function(e,t,n){var r=n(1),n=n(26);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(e,t,n){var r=n(1),n=n(28);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(e,t,n){var r=n(1),n=n(30);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(e,t,n){var r=n(1),n=n(32);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(e,t,n){var r=n(1),n=n(34);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(e,t,n){var r=n(1),n=n(36);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(e,t,n){var r=n(1),n=n(38);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var r=n(1),n=n(40);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(e,t,n){var r=n(1),n=n(42);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(e,t,n){var r=n(1),n=n(44);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}"},function(e,t,n){var r=n(1),n=n(46);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(e,t,n){var r=n(1),n=n(48);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(var(--ck-font-size-tiny)*0.5);line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*0.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*0.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}"},function(e,t,n){var r=n(1),n=n(50);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}'},function(e,t,n){var r=n(1),n=n(52);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(e,t,n){var r=n(1),n=n(54);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(e,t,n){var r=n(1),n=n(56);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var r=n(1),n=n(58);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}"},function(e,t,n){var r=n(1),n=n(60);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(e,t,n){var r=n(1),n=n(62);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(e,t,n){var r=n(1),n=n(64);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(e,t,n){var r=n(1),n=n(66);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness));top:0}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(e,t,n){var r=n(1),n=n(68);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-bottom:0 solid transparent;border-right:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}'},function(e,t,n){var r=n(1),n=n(70);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(e,t){e.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(e,t,n){var r=n(1),n=n(73);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}"},function(e,t,n){var r=n(1),n=n(75);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}"},function(e,t){e.exports='.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-text-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}'},function(e,t,n){var r=n(1),n=n(78);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:50px}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{position:static}"},function(e,t,n){var r=n(1),n=n(80);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(e,t,n){var r=n(1),n=n(82);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(e,t,n){var r=n(1),n=n(84);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(e,t,n){var r=n(1),n=n(86);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(e,t,n){var r=n(1),n=n(88);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}"},function(e,t,n){var r=n(1),n=n(90);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(e,t,n){var r=n(1),n=n(92);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}"},function(e,t,n){var r=n(1),n=n(94);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(e,t,n){var r=n(1),n=n(96);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(e,t,n){var r=n(1),n=n(98);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(e,t,n){var r=n(1),n=n(100);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(e,t,n){var r=n(1),n=n(102);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content pre{padding:1em;color:#353535;background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;text-align:left;direction:ltr;tab-size:4;white-space:pre-wrap;font-style:normal;min-width:200px}.ck-content pre code{background:unset;padding:0;border-radius:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{top:-1px;right:10px;background:var(--ck-color-code-block-label-background);font-size:10px;font-family:var(--ck-font-face);line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);color:#fff;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}"},function(e,t,n){var r=n(1),n=n(104);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-y:auto;overflow-x:hidden;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{overflow:hidden;flex-shrink:0}"},function(e,t,n){var r=n(1),n=n(106);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-mention-background:rgba(153,0,48,0.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}"},function(e,t,n){var r=n(1),n=n(108);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{margin:15px 0;height:4px;background:#dedede;border:0}"},function(e,t,n){var r=n(1),n=n(110);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;display:inline-block;position:relative;width:var(--ck-todo-list-checkmark-size);height:var(--ck-todo-list-checkmark-size);vertical-align:middle;border:0;left:-25px;margin-right:-15px;right:0;margin-left:0}.ck-content .todo-list .todo-list__label>input:before{display:block;position:absolute;box-sizing:border-box;content:"";width:100%;height:100%;border:1px solid #333;border-radius:2px;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out}.ck-content .todo-list .todo-list__label>input:after{display:block;position:absolute;box-sizing:content-box;pointer-events:none;content:"";left:calc(var(--ck-todo-list-checkmark-size)/3);top:calc(var(--ck-todo-list-checkmark-size)/5.3);width:calc(var(--ck-todo-list-checkmark-size)/5.3);height:calc(var(--ck-todo-list-checkmark-size)/2.6);border-left:0 solid transparent;border-bottom:calc(var(--ck-todo-list-checkmark-size)/8) solid transparent;border-right:calc(var(--ck-todo-list-checkmark-size)/8) solid transparent;border-top:0 solid transparent;transform:rotate(45deg)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-right:0;right:-25px;margin-left:-15px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}'},function(e,t,n){var r=n(1),n=n(112);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}"},function(e,t,n){var r=n(1),n=n(114);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{display:block;width:100%;margin:var(--ck-spacing-standard) auto;border:1px solid #ccc;border-radius:var(--ck-border-radius)}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{padding:0;margin:0;border:none}"},function(e,t,n){var r=n(1),n=n(116);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-link-image_icon{position:absolute;top:var(--ck-spacing-medium);right:var(--ck-spacing-medium);width:28px;height:28px;padding:4px;box-sizing:border-box;border-radius:var(--ck-border-radius)}.ck.ck-link-image_icon svg{fill:currentColor}.ck.ck-link-image_icon{color:#fff;background:rgba(0,0,0,.4)}"},function(e,t){e.exports=".ck-content code{background-color:hsla(0,0%,78%,.3);padding:.15em;border-radius:2px}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}"},function(e,t,n){var r=n(1),n=n(119);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content span[lang]{font-style:italic}"},function(j,D,e){function F(e,t){wE(this,F),this.source=e,this.name=t,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}}var V=regeneratorRuntime.mark(Sl),z=regeneratorRuntime.mark(El),B=regeneratorRuntime.mark(Pf),H=(e.r(D),e.d(D,"default",function(){return EC}),new Array(256).fill().map(function(e,t){return("0"+t.toString(16)).slice(-2)}));function U(){var e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+H[e>>0&255]+H[e>>8&255]+H[e>>16&255]+H[e>>24&255]+H[t>>0&255]+H[t>>8&255]+H[t>>16&255]+H[t>>24&255]+H[n>>0&255]+H[n>>8&255]+H[n>>16&255]+H[n>>24&255]+H[r>>0&255]+H[r>>8&255]+H[r>>16&255]+H[r>>24&255]}var q={get:function(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},A=(e(6),e(0)),W=Symbol("listeningTo"),$=Symbol("emitterId"),c={on:function(e,t){this.listenTo(this,e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})},once:function(e,i,t){var o=!1;this.listenTo(this,e,function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o||(o=!0,e.off(),i.call.apply(i,[this,e].concat(n)))},t)},off:function(e,t){this.stopListening(this,e,t)},listenTo:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=(this[W]||(this[W]={}),this[W]),o=(G(e)||K(e),G(e)),a=(a=i[o])||(i[o]={emitter:e,callbacks:{}});(a.callbacks[t]||(a.callbacks[t]=[])).push(n),i=this,o=t,a=n,t=r,(n=e)._addEventListener?n._addEventListener(o,a,t):i._addEventListener.call(n,o,a,t)},stopListening:function(e,t,n){var r=this[W],i=e&&G(e),o=r&&i&&r[i],a=o&&t&&o.callbacks[t];if(!(!r||e&&!o||t&&!a))if(n)Y(this,e,t,n),-1!==a.indexOf(n)&&(1===a.length?delete o.callbacks[t]:Y(this,e,t,n));else if(a){for(;n=a.pop();)Y(this,e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete r[i]}else{for(i in r)this.stopListening(r[i].emitter);delete this[W]}},fire:function(e){try{for(var t,n,r=e instanceof F?e:new F(this,e),i=r.name,o=function e(t,n){var r;return t._events&&(r=t._events[n])&&r.callbacks.length?r.callbacks:-1<n.indexOf(":")?e(t,n.substr(0,n.lastIndexOf(":"))):null}(this,i),a=arguments.length,s=new Array(1<a?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];if(r.path.push(this),o)for(var c=[r].concat(s),o=Array.from(o),u=0;u<o.length&&(o[u].callback.apply(this,c),r.off.called&&(delete r.off.called,this._removeEventListener(i,o[u].callback)),!r.stop.called);u++);return this._delegations&&(t=this._delegations.get(i),n=this._delegations.get("*"),t&&Q(t,r,s),n)&&Q(n,r,s),r.return}catch(e){A.a.rethrowUnexpectedError(e,this)}},delegate:function(){for(var i=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{to:function(n,r){i._delegations||(i._delegations=new Map),t.forEach(function(e){var t=i._delegations.get(e);t?t.set(n,r):i._delegations.set(e,new Map([[n,r]]))})}}},stopDelegating:function(e,t){var n;this._delegations&&(e?t?(n=this._delegations.get(e))&&n.delete(t):this._delegations.delete(e):this._delegations.clear())},_addEventListener:function(e,t,n){var r=e,i=Z(this);if(!i[r]){for(var o=r,a=null,s=[];""!==o&&!i[o];)i[o]={callbacks:[],childEvents:[]},s.push(i[o]),a&&i[o].childEvents.push(a),o=(a=o).substr(0,o.lastIndexOf(":"));if(""!==o){var l,c=bE(s);try{for(c.s();!(l=c.n()).done;)l.value.callbacks=i[o].callbacks.slice()}catch(e){c.e(e)}finally{c.f()}i[o].childEvents.push(a)}}var u,r=J(this,e),h=q.get(n.priority),d={callback:t,priority:h},f=bE(r);try{for(f.s();!(u=f.n()).done;){for(var p=u.value,g=!1,v=0;v<p.length;v++)if(p[v].priority<h){p.splice(v,0,d),g=!0;break}g||p.push(d)}}catch(e){f.e(e)}finally{f.f()}},_removeEventListener:function(e,t){var n,r=bE(J(this,e));try{for(r.s();!(n=r.n()).done;)for(var i=n.value,o=0;o<i.length;o++)i[o].callback==t&&(i.splice(o,1),o--)}catch(e){r.e(e)}finally{r.f()}}};function K(e,t){e[$]||(e[$]=t||U())}function G(e){return e[$]}function Z(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function J(e,t){var n=Z(e)[t];if(!n)return[];for(var r=[n.callbacks],i=0;i<n.childEvents.length;i++)var o=J(e,n.childEvents[i]),r=r.concat(o);return r}function Q(e,t,n){var r,i=bE(e);try{for(i.s();!(r=i.n()).done;){var o=kE(r.value,2),a=o[0],s=o[1],l=(s?"function"==typeof s&&(s=s(t.name)):s=t.name,new F(t.source,s));l.path=_E(t.path),a.fire.apply(a,[l].concat(_E(n)))}}catch(e){i.e(e)}finally{i.f()}}function Y(e,t,n,r){t._removeEventListener?t._removeEventListener(n,r):e._removeEventListener.call(t,n,r)}function X(e){if(null!=e){try{return me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ee(e,t){return e=null==e?void 0:e[t],!R(t=e)||ve&&ve in t||!(ge(t)?ke:ye).test(X(t))?void 0:e}function te(e){return e}function ne(s){return Ae((u=te,c=Ee((l=e=function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:void 0,o=2<r?t[2]:void 0,i=3<s.length&&"function"==typeof i?(r--,i):void 0;for(o&&((e,t,n)=>{var r;if(R(n))return("number"==(r=typeof t)?Re(n)&&Oe(t,n.length):"string"==r&&t in n)&&we(n[t],e)})(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&s(e,a,n,i)}return e}).length-1,0),function(){for(var e=arguments,t=-1,n=Ee(e.length-c,0),r=Array(n);++t<n;)r[t]=e[c+t];for(var t=-1,i=Array(c+1);++t<c;)i[t]=e[t];i[c]=u(r);var o=l,a=this,s=i;switch(s.length){case 0:return o.call(a);case 1:return o.call(a,s[0]);case 2:return o.call(a,s[0],s[1]);case 3:return o.call(a,s[0],s[1],s[2])}return o.apply(a,s)}),e+"");var e,l,c,u}function re(e){return Me(e)&&"[object Arguments]"==pe(e)}function ie(t){return function(e){return t(e)}}var oe,ae,se,R=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},le=e(3),D=le.a.Symbol,t=Object.prototype,ce=t.hasOwnProperty,ue=t.toString,he=D?D.toStringTag:void 0,de=Object.prototype.toString,fe=D?D.toStringTag:void 0,pe=function(e){{if(null==e)return void 0===e?"[object Undefined]":"[object Null]";if(fe&&fe in Object(e)){var t=e,n=ce.call(t,he),r=t[he];try{var i=!(t[he]=void 0)}catch(t){}var o=ue.call(t);return i&&(n?t[he]=r:delete t[he]),o}return de.call(e)}},ge=function(e){return!!R(e)&&("[object Function]"==(e=pe(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},t=le.a["__core-js_shared__"],ve=(t=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",me=Function.prototype.toString,ye=/^\[object .+?Constructor\]$/,ke=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=(()=>{try{var e=ee(Object,"defineProperty");return e({},"",{}),e}catch(e){}})(),_e=function(e,t,n){"__proto__"==t&&be?be(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},we=function(e,t){return e===t||e!=e&&t!=t},Ce=Object.prototype.hasOwnProperty,xe=function(e,t,n){var r=e[t];Ce.call(e,t)&&we(r,n)&&(void 0!==n||t in e)||_e(e,t,n)},Se=function(e,t,n,r){var i=!n;n=n||{};for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),(i?_e:xe)(n,s,l)}return n},Ee=Math.max,Te=Date.now,Ae=(oe=be?function(e,t){return be(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:te,se=ae=0,function(){var e=Te(),t=16-(e-se);if(se=e,0<t){if(800<=++ae)return arguments[0]}else ae=0;return oe.apply(void 0,arguments)}),Pe=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},Re=function(e){return null!=e&&Pe(e.length)&&!ge(e)},Ie=/^(?:0|[1-9]\d*)$/,Oe=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ie.test(e))&&-1<e&&e%1==0&&e<t},Me=function(e){return null!=e&&"object"==typeof e},t=Object.prototype,Ne=t.hasOwnProperty,Le=t.propertyIsEnumerable,je=re(function(){return arguments}())?re:function(e){return Me(e)&&Ne.call(e,"callee")&&!Le.call(e,"callee")},De=Array.isArray,Fe=e(4),n={},t=(n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,e(5)),r=t.a&&t.a.isTypedArray,Ve=r?ie(r):function(e){return Me(e)&&Pe(e.length)&&!!n[pe(e)]},ze=Object.prototype.hasOwnProperty,Be=function(e,t){var n,r=De(e),i=!r&&je(e),o=!r&&!i&&Object(Fe.a)(e),a=!r&&!i&&!o&&Ve(e),s=r||i||o||a,l=s?((e,t)=>{for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r})(e.length,String):[],c=l.length;for(n in e)!t&&!ze.call(e,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Oe(n,c))||l.push(n);return l},He=Object.prototype,Ue=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||He)},qe=Object.prototype.hasOwnProperty,We=function(e){if(Re(e))return Be(e,!0);var t=e;if(R(t)){var n,r=Ue(t),i=[];for(n in t)("constructor"!=n||!r&&qe.call(t,n))&&i.push(n);return i}var o=[];if(null!=t)for(var a in Object(t))o.push(a);return o},$e=ne(function(e,t){Se(t,We(t),e)}),Ke=Symbol("observableProperties"),Ge=Symbol("boundObservables"),Ze=Symbol("boundProperties"),Je=Symbol("decoratedMethods"),Qe=Symbol("decoratedOriginal"),r={set:function(r,e){var t=this;if(R(r))Object.keys(r).forEach(function(e){t.set(e,r[e])},this);else{Ye(this);var i=this[Ke];if(r in this&&!i.has(r))throw new A.a("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get:function(){return i.get(r)},set:function(e){var t=i.get(r),n=this.fire("set:"+r,r,e,t);t===(n=void 0===n?e:n)&&i.has(r)||(i.set(r,n),this.fire("change:"+r,r,n,t))}}),this[r]=e}},bind:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length||!tt(n))throw new A.a("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new A.a("observable-bind-duplicate-properties",this);Ye(this);var i=this[Ze],o=(n.forEach(function(e){if(i.has(e))throw new A.a("observable-bind-rebind",t)}),new Map);return n.forEach(function(e){var t={property:e,to:[]};i.set(e,t),o.set(e,t)}),{to:Xe,toMany:et,_observable:this,_bindProperties:n,_to:[],_bindings:o}},unbind:function(){var a=this;if(this[Ke]){for(var s=this[Ze],l=this[Ge],e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){if(!tt(t))throw new A.a("observable-unbind-wrong-properties",this);t.forEach(function(e){var t,n,r,i,o=s.get(e);o&&(o.to.forEach(function(e){t=e[0],n=e[1],r=l.get(t),(i=r[n]).delete(o),i.size||delete r[n],Object.keys(r).length||(l.delete(t),a.stopListening(t,"change"))}),s.delete(e))})}else l.forEach(function(e,t){a.stopListening(t,"change")}),l.clear(),s.clear()}},decorate:function(r){var n=this,i=this[r];if(!i)throw new A.a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:r});this.on(r,function(e,t){e.return=i.apply(n,t)}),this[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.fire(r,t)},this[r][Qe]=i,this[Je]||(this[Je]=[]),this[Je].push(r)}},i=($e(r,c),r.stopListening=function(e,t,n){if(!e&&this[Je]){var r,i=bE(this[Je]);try{for(i.s();!(r=i.n()).done;){var o=r.value;this[o]=this[o][Qe]}}catch(e){i.e(e)}finally{i.f()}delete this[Je]}c.stopListening.call(this,e,t,n)},r);function Ye(e){e[Ke]||(Object.defineProperty(e,Ke,{value:new Map}),Object.defineProperty(e,Ge,{value:new Map}),Object.defineProperty(e,Ze,{value:new Map}))}function Xe(){var o,l,c,t=this,e=function(){for(var t,n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(r.length)return n={to:[]},"function"==typeof r[r.length-1]&&(n.callback=r.pop()),r.forEach(function(e){if("string"==typeof e)t.properties.push(e);else{if("object"!=typeof e)throw new A.a("observable-bind-to-parse-error",null);t={observable:e,properties:[]},n.to.push(t)}}),n;throw new A.a("observable-bind-to-parse-error",null)}.apply(void 0,arguments),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&1<e.to.length)throw new A.a("observable-bind-to-no-callback",this);if(1<r&&e.callback)throw new A.a("observable-bind-to-extra-callback",this);e.to.forEach(function(e){if(e.properties.length&&e.properties.length!==r)throw new A.a("observable-bind-to-properties-length",t);e.properties.length||(e.properties=t._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),o=this._observable,this._to.forEach(function(n){var r,i=o[Ge];i.get(n.observable)||o.listenTo(n.observable,"change",function(e,t){(r=i.get(n.observable)[t])&&r.forEach(function(e){nt(o,e.property)})})}),(l=this)._bindings.forEach(function(a,s){l._to.forEach(function(e){var t,n,r,i,o;c=e.properties[a.callback?0:l._bindProperties.indexOf(s)],a.to.push([e.observable,c]),t=l._observable,n=a,e=e.observable,r=c,t=t[Ge],i=t.get(e),(o=i||{})[r]||(o[r]=new Set),o[r].add(n),i||t.set(e,o)})}),this._bindProperties.forEach(function(e){nt(t._observable,e)})}function et(e,t,n){if(1<this._bindings.size)throw new A.a("observable-bind-to-many-not-one-binding",this);var r;this.to.apply(this,_E((r=t,t=e.map(function(e){return[e,r]}),Array.prototype.concat.apply([],t))).concat([n]))}function tt(e){return e.every(function(e){return"string"==typeof e})}function nt(e,t){var n=e[Ze].get(t),r=n.callback?n.callback.apply(e,n.to.map(function(e){return e[0][e[1]]})):(r=n.to[0])[0][r[1]];Object.prototype.hasOwnProperty.call(e,t)?e[t]=r:e.set(t,r)}function o(r){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];t.forEach(function(n){Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)).forEach(function(e){var t;e in r.prototype||((t=Object.getOwnPropertyDescriptor(n,e)).enumerable=!1,Object.defineProperty(r.prototype,e,t))})})}CE(rt,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",it,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",it),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]);r=rt;function rt(e){wE(this,rt),this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}function it(e){e.return=!1,e.stop()}o(r,i);CE(ot,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",at,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",at),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]);var a=ot;function ot(e){var r=this;wE(this,ot),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",function(){r.refresh()}),this.on("execute",function(e){r.isEnabled||e.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",function(e,t,n){n?r.forceDisabled("readOnlyMode"):r.clearForceDisabled("readOnlyMode")})}function at(e){e.return=!1,e.stop()}o(a,i);function st(t,n){return function(e){return t(n(e))}}function lt(e){return!(!Me(e)||"[object Object]"!=pe(e))&&(null===(e=dt(e))||"function"==typeof(e=pt.call(e,"constructor")&&e.constructor)&&e instanceof e&&ft.call(e)==gt)}function ct(e,t){for(var n=e.length;n--;)if(we(e[n][0],t))return n;return-1}xE(mt,a),ut=SE(mt),CE(mt,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var e=this._getFirstEnabledCommand(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=e&&e.execute(n)}},{key:"registerChildCommand",value:function(e){var t=this;this._childCommands.push(e),e.on("change:isEnabled",function(){return t._checkEnabled()}),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find(function(e){return e.isEnabled})}}]);var ut,ht=mt,dt=st(Object.getPrototypeOf,Object),ft=Function.prototype.toString,pt=Object.prototype.hasOwnProperty,gt=ft.call(Object),vt=Array.prototype.splice;function mt(e){return wE(this,mt),(e=ut.call(this,e))._childCommands=[],e}function yt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yt.prototype.clear=function(){this.__data__=[],this.size=0},yt.prototype.delete=function(e){var t=this.__data__,e=ct(t,e);return!(e<0||(e==t.length-1?t.pop():vt.call(t,e,1),--this.size,0))},yt.prototype.get=function(e){var t=this.__data__,e=ct(t,e);return e<0?void 0:t[e][1]},yt.prototype.has=function(e){return-1<ct(this.__data__,e)},yt.prototype.set=function(e,t){var n=this.__data__,r=ct(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var kt=yt,bt=ee(le.a,"Map"),_t=ee(Object,"create"),wt=Object.prototype.hasOwnProperty,Ct=Object.prototype.hasOwnProperty;function xt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xt.prototype.clear=function(){this.__data__=_t?_t(null):{},this.size=0},xt.prototype.delete=function(e){e=this.has(e)&&delete this.__data__[e];return this.size-=e?1:0,e},xt.prototype.get=function(e){var t,n=this.__data__;return _t?"__lodash_hash_undefined__"===(t=n[e])?void 0:t:wt.call(n,e)?n[e]:void 0},xt.prototype.has=function(e){var t=this.__data__;return _t?void 0!==t[e]:Ct.call(t,e)},xt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_t&&void 0===t?"__lodash_hash_undefined__":t,this};function St(e,t){var n,e=e.__data__;return("string"==(n=typeof t)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map}var Et=xt;function Tt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tt.prototype.clear=function(){this.size=0,this.__data__={hash:new Et,map:new(bt||kt),string:new Et}},Tt.prototype.delete=function(e){e=St(this,e).delete(e);return this.size-=e?1:0,e},Tt.prototype.get=function(e){return St(this,e).get(e)},Tt.prototype.has=function(e){return St(this,e).has(e)},Tt.prototype.set=function(e,t){var n=St(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var At=Tt;function Pt(e){e=this.__data__=new kt(e);this.size=e.size}Pt.prototype.clear=function(){this.__data__=new kt,this.size=0},Pt.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},Pt.prototype.get=function(e){return this.__data__.get(e)},Pt.prototype.has=function(e){return this.__data__.has(e)},Pt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof kt){var r=n.__data__;if(!bt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new At(r)}return n.set(e,t),this.size=n.size,this};function Rt(){return[]}var It=Pt,Ot=st(Object.keys,Object),Mt=Object.prototype.hasOwnProperty,Nt=function(e){return(Re(e)?Be:e=>{if(!Ue(e))return Ot(e);var t,n=[];for(t in Object(e))Mt.call(e,t)&&"constructor"!=t&&n.push(t);return n})(e)},Lt=e(8),jt=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t},Dt=Object.prototype.propertyIsEnumerable,Ft=Object.getOwnPropertySymbols,Vt=Ft?function(e){if(null==e)return[];e=Object(e);for(var t=Ft(e),n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];Dt.call(e,a)&&(o[i++]=a)}return o}:Rt,zt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Bt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)zt(t,Vt(e)),e=dt(e);return t}:Rt,Ht=function(e,t,n){t=t(e);return De(e)?t:zt(t,n(e))},Ut=function(e){return Ht(e,Nt,Vt)},qt=function(e){return Ht(e,We,Bt)},Wt=ee(le.a,"DataView"),$t=ee(le.a,"Promise"),Kt=ee(le.a,"Set"),Gt=ee(le.a,"WeakMap"),Zt=X(Wt),Jt=X(bt),Qt=X($t),Yt=X(Kt),Xt=X(Gt),s=pe,en=s=Wt&&"[object DataView]"!=s(new Wt(new ArrayBuffer(1)))||bt&&"[object Map]"!=s(new bt)||$t&&"[object Promise]"!=s($t.resolve())||Kt&&"[object Set]"!=s(new Kt)||Gt&&"[object WeakMap]"!=s(new Gt)?function(e){var t=pe(e),e="[object Object]"==t?e.constructor:void 0,e=e?X(e):"";if(e)switch(e){case Zt:return"[object DataView]";case Jt:return"[object Map]";case Qt:return"[object Promise]";case Yt:return"[object Set]";case Xt:return"[object WeakMap]"}return t}:s,tn=Object.prototype.hasOwnProperty,nn=le.a.Uint8Array,rn=function(e){var t=new e.constructor(e.byteLength);return new nn(t).set(new nn(e)),t},on=/\w*$/,Wt=D?D.prototype:void 0,an=Wt?Wt.valueOf:void 0,sn=function(e,t){t=t?rn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)},ln=Object.create,cn=function(e){if(!R(e))return{};if(ln)return ln(e);fn.prototype=e;e=new fn;return fn.prototype=void 0,e},un=function(e){return"function"!=typeof e.constructor||Ue(e)?{}:cn(dt(e))},$t=t.a&&t.a.isMap,hn=$t?ie($t):function(e){return Me(e)&&"[object Map]"==en(e)},Kt=t.a&&t.a.isSet,dn=Kt?ie(Kt):function(e){return Me(e)&&"[object Set]"==en(e)},C={};function fn(){}C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C["[object Function]"]=C["[object WeakMap]"]=!1;var pn=function n(r,i,o,e,t,a){var s,l=1&i,c=2&i,u=4&i;if(void 0===(s=o?t?o(r,e,t,a):o(r):s)){if(!R(r))return r;var h,d,f,e=De(r);if(e){if(g=(d=r).length,f=new d.constructor(g),g&&"string"==typeof d[0]&&tn.call(d,"index")&&(f.index=d.index,f.input=d.input),s=f,!l)return jt(r,s)}else{var p=en(r),g="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(Fe.a)(r))return Object(Lt.a)(r,l);if("[object Object]"==p||"[object Arguments]"==p||g&&!t){if(s=c||g?{}:un(r),!l)return c?(d=r,h=(f=s)&&Se(r,We(r),f),Se(d,Bt(d),h)):(h=r,v=(v=s)&&Se(r,Nt(r),v),Se(h,Vt(h),v))}else{if(!C[p])return t?r:{};s=((e,t)=>{var n,r,i=e.constructor;switch(p){case"[object ArrayBuffer]":return rn(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return n=e,r=t?rn(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return sn(e,t);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return(n=new(r=e).constructor(r.source,on.exec(r))).lastIndex=r.lastIndex,n;case"[object Set]":return new i;case"[object Symbol]":return an?Object(an.call(e)):{}}})(r,l)}}var v=(a=a||new It).get(r);if(v)return v;a.set(r,s),dn(r)?r.forEach(function(e){s.add(n(e,i,o,e,r,a))}):hn(r)&&r.forEach(function(e,t){s.set(t,n(e,i,o,t,r,a))});for(var m,y,k=e?void 0:(u?c?qt:Ut:c?We:Nt)(r),b=k||r,_=-1,w=null==b?0:b.length;++_<w&&!1!==(m=b[_],y=_,k&&(m=r[y=m]),void xe(s,y,n(m,i,o,y,r,a))););}return s},gn=function(e,t){return pn(e,5,t="function"==typeof t?t:void 0)},vn=function(e){return Me(e)&&1===e.nodeType&&!lt(e)},mn=(CE(yn,[{key:"set",value:function(e,t){this._setToTarget(this._config,e,t)}},{key:"define",value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.keys(this._config);case 1:if(t<n.length)return r=n[t],e.next=5,r;e.next=8;break;case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},e,this)})},{key:"_setToTarget",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(lt(t))this._setObjectToTarget(e,t,r);else{var i=t.split(".");t=i.pop();var o,a=bE(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;lt(e[s])||(e[s]={}),e=e[s]}}catch(e){a.e(e)}finally{a.f()}lt(n)?(lt(e[t])||(e[t]={}),this._setObjectToTarget(e=e[t],n,r)):r&&void 0!==e[t]||(e[t]=n)}}},{key:"_getFromSource",value:function(e,t){var n=t.split(".");t=n.pop();var r,i=bE(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!lt(e[o])){e=null;break}e=e[o]}}catch(e){i.e(e)}finally{i.f()}return e?kn(e[t]):void 0}},{key:"_setObjectToTarget",value:function(t,n,r){var i=this;Object.keys(n).forEach(function(e){i._setToTarget(t,e,n[e],r)})}}]),yn);function yn(e,t){wE(this,yn),this._config={},t&&this.define(kn(t)),e&&this._setObjectToTarget(this._config,e)}function kn(e){return gn(e,bn)}function bn(e){return vn(e)?e:void 0}function _n(e){return!(!e||!e[Symbol.iterator])}CE(Cn,[{key:"add",value:function(e,t){return this.addMany([e],t)}},{key:"addMany",value:function(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new A.a("collection-add-item-invalid-index",this);for(var n=0;n<e.length;n++){var r=e[n],i=this._getItemIdBeforeAdding(r),o=t+n;this._items.splice(o,0,r),this._itemMap.set(i,r),this.fire("add",r,o)}return this.fire("change",{added:e,removed:[],index:t}),this}},{key:"get",value:function(e){var t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new A.a("collection-get-invalid-arg",this);t=this._items[e]}return t||null}},{key:"has",value:function(e){return this._itemMap.has("string"==typeof e?e:e[this._idProperty])}},{key:"getIndex",value:function(e){e="string"==typeof e?this._itemMap.get(e):e;return this._items.indexOf(e)}},{key:"remove",value:function(e){var e=kE(this._remove(e),2),t=e[0];return this.fire("change",{added:[],removed:[t],index:e[1]}),t}},{key:"map",value:function(e,t){return this._items.map(e,t)}},{key:"find",value:function(e,t){return this._items.find(e,t)}},{key:"filter",value:function(e,t){return this._items.filter(e,t)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var e=Array.from(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}},{key:"bindTo",value:function(e){var n=this;if(this._bindToCollection)throw new A.a("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:function(t){n._setUpBindToBinding(function(e){return new t(e)})},using:function(t){n._setUpBindToBinding("function"==typeof t?function(e){return t(e)}:function(e){return e[t]})}}}},{key:"_setUpBindToBinding",value:function(h){function e(e,t,n){var r=f._bindToCollection==d,i=f._bindToInternalToExternalMap.get(t);if(r&&i)d._bindToExternalToInternalMap.set(t,i),d._bindToInternalToExternalMap.set(i,t);else{r=h(t);if(r){var o,a=n,s=bE(d._skippedIndexesFromExternal);try{for(s.s();!(o=s.n()).done;)o.value<n&&a--}catch(e){s.e(e)}finally{s.f()}var l,c=bE(f._skippedIndexesFromExternal);try{for(c.s();!(l=c.n()).done;)l.value<=a&&a++}catch(e){c.e(e)}finally{c.f()}d._bindToExternalToInternalMap.set(t,r),d._bindToInternalToExternalMap.set(r,t),d.add(r,a);for(var u=0;u<f._skippedIndexesFromExternal.length;u++)a<=f._skippedIndexesFromExternal[u]&&f._skippedIndexesFromExternal[u]++}else d._skippedIndexesFromExternal.push(n)}}var t,d=this,f=this._bindToCollection,n=bE(f);try{for(n.s();!(t=n.n()).done;){var r=t.value;e(0,r,f.getIndex(r))}}catch(e){n.e(e)}finally{n.f()}this.listenTo(f,"add",e),this.listenTo(f,"remove",function(e,t,n){t=d._bindToExternalToInternalMap.get(t);t&&d.remove(t),d._skippedIndexesFromExternal=d._skippedIndexesFromExternal.reduce(function(e,t){return n<t&&e.push(t-1),t<n&&e.push(t),e},[])})}},{key:"_getItemIdBeforeAdding",value:function(e){var t,n=this._idProperty;if(n in e){if("string"!=typeof(t=e[n]))throw new A.a("collection-add-invalid-id",this);if(this.get(t))throw new A.a("collection-add-item-already-exists",this)}else e[n]=t=U();return t}},{key:"_remove",value:function(e){var t,n,r,i=!1,o=this._idProperty;if("string"==typeof e?(i=!(r=this._itemMap.get(n=e)),r&&(t=this._items.indexOf(r))):"number"==typeof e?(i=!(r=this._items[t=e]),r&&(n=r[o])):(n=(r=e)[o],i=-1==(t=this._items.indexOf(r))||!this._itemMap.get(n)),i)throw new A.a("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);e=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(e),this.fire("remove",r,t),[r,t]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}}]);var wn=Cn;function Cn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(wE(this,Cn),_n(e));if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n){var r,i=bE(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}}catch(e){i.e(e)}finally{i.f()}}}o(wn,c);CE(Sn,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=bE(this._plugins),e.prev=1,t.s();case 3:if((n=t.n()).done)e.next=11;else{if(n=n.value,e.t0="function"==typeof n[0],e.t0)return e.next=9,n;e.next=9}break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])})},{key:"get",value:function(e){var t=this._plugins.get(e);if(t)return t;throw"function"==typeof(t=e)&&(t=e.pluginName||e.name),new A.a("plugincollection-plugin-not-loaded",this._context,{plugin:t})}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],l=this,i=this._context,e=(!function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Set;e.forEach(function(e){!o(e)||n.has(e)||(n.add(e),e.pluginName&&!l._availablePlugins.has(e.pluginName)&&l._availablePlugins.set(e.pluginName,e),e.requires&&t(e.requires,n))})}(e),h(e),_E(function n(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Set;return e.map(function(e){return o(e)?e:l._availablePlugins.get(e)}).reduce(function(t,e){return r.has(e)?t:(r.add(e),e.requires&&(h(e.requires,e),n(e.requires,r).forEach(function(e){return t.add(e)})),t.add(e))},new Set)}(e.filter(function(e){return!c(e,r)})))),t=((e=>{var t,n=bE(s);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("function"!=typeof r)throw new A.a("plugincollection-replace-plugin-invalid-type",null,{pluginItem:r});var i=r.pluginName;if(!i)throw new A.a("plugincollection-replace-plugin-missing-name",null,{pluginItem:r});if(r.requires&&r.requires.length)throw new A.a("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:i});var o=l._availablePlugins.get(i);if(!o)throw new A.a("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:i});var a=e.indexOf(o);if(-1===a){if(l._contextPlugins.has(o))return;throw new A.a("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:i})}if(o.requires&&o.requires.length)throw new A.a("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:i});e.splice(a,1,r),l._availablePlugins.set(i,r)}}catch(e){n.e(e)}finally{n.f()}})(e),e.map(function(e){var t=l._contextPlugins.get(e)||new e(i);return l._add(e,t),t}));return n(t,"init").then(function(){return n(t,"afterInit")}).then(function(){return t});function o(e){return"function"==typeof e}function a(e){return o(e)&&e.isContextPlugin}function c(t,e){return e.some(function(e){return e===t||u(t)===e||u(e)===t})}function u(e){return o(e)?e.pluginName||e.name:e}function h(e,t){var n=1<arguments.length&&void 0!==t?t:null;e.map(function(e){return!o(e)&&l._availablePlugins.get(e)||e}).forEach(function(e){var t=e;if(!o(t)){if(n)throw new A.a("plugincollection-soft-required",i,{missingPlugin:t,requiredBy:u(n)});throw new A.a("plugincollection-plugin-not-found",i,{plugin:t})}if(a(n)&&!a(e))throw new A.a("plugincollection-context-required",i,{plugin:u(e),requiredBy:u(n)});t=e,e=n;if(e&&c(t,r))throw new A.a("plugincollection-required",i,{plugin:u(t),requiredBy:u(e)})})}function n(e,n){return e.reduce(function(e,t){return!t[n]||l._contextPlugins.has(t)?e:e.then(t[n].bind(t))},Promise.resolve())}}},{key:"destroy",value:function(){var e,t=[],n=bE(this);try{for(n.s();!(e=n.n()).done;){var r=kE(e.value,2)[1];"function"!=typeof r.destroy||this._contextPlugins.has(r)||t.push(r.destroy())}}catch(e){n.e(e)}finally{n.f()}return Promise.all(t)}},{key:"_add",value:function(e,t){this._plugins.set(e,t);var n=e.pluginName;if(n){if(this._plugins.has(n))throw new A.a("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}]);var xn=Sn;function Sn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];wE(this,Sn),this._context=e,this._plugins=new Map,this._availablePlugins=new Map;var r,i=bE(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.pluginName&&this._availablePlugins.set(o.pluginName,o)}}catch(e){i.e(e)}finally{i.f()}this._contextPlugins=new Map;var a,s=bE(n);try{for(s.s();!(a=s.n()).done;){var l=kE(a.value,2),c=l[0],u=l[1];this._contextPlugins.set(c,u),this._contextPlugins.set(u,c),c.pluginName&&this._availablePlugins.set(c.pluginName,c)}}catch(e){s.e(e)}finally{s.f()}}function b(e){return Array.isArray(e)?e:[e]}o(xn,c),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var En=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Tn(e){return En.includes(e)?"rtl":"ltr"}CE(On,[{key:"_t",value:function(e){var n,t=b(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]);return e=function(e,t,n){n=2<arguments.length&&void 0!==n?n:1;if("number"!=typeof n)throw new A.a("translation-service-quantity-not-a-number",null,{quantity:n});var r=Object.keys(window.CKEDITOR_TRANSLATIONS).length,i=(1===r&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),t.id||t.string);return 0!==r&&(r=e,window.CKEDITOR_TRANSLATIONS[r])&&window.CKEDITOR_TRANSLATIONS[r].dictionary[i]?(r=window.CKEDITOR_TRANSLATIONS[e].dictionary,e=window.CKEDITOR_TRANSLATIONS[e].getPluralForm||function(e){return 1===e?0:1},"string"==typeof r[i]?r[i]:(e=Number(e(n)),r[i][e])):1!==n?t.plural:t.string}(this.uiLanguage,e="string"==typeof e?{string:e}:e,e.plural?t[0]:1),n=t,e.replace(/%(\d+)/g,function(e,t){return t<n.length?n[t]:e})}},{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}}]);var An=On,Pn=(CE(In,[{key:"initPlugins",value:function(){var e,t=this.config.get("plugins")||[],n=this.config.get("substitutePlugins")||[],r=bE(t.concat(n));try{for(r.s();!(e=r.n()).done;){var i=e.value;if("function"!=typeof i)throw new A.a("context-initplugins-constructor-only",null,{Plugin:i});if(!0!==i.isContextPlugin)throw new A.a("context-initplugins-invalid-plugin",null,{Plugin:i})}}catch(e){r.e(e)}finally{r.f()}return this.plugins.init(t,[],n)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,function(e){return e.destroy()})).then(function(){return e.plugins.destroy()})}},{key:"_addEditor",value:function(e,t){if(this._contextOwner)throw new A.a("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e,t={},n=bE(this.config.names());try{for(n.s();!(e=n.n()).done;){var r=e.value;["plugins","removePlugins","extraPlugins"].includes(r)||(t[r]=this.config.get(r))}}catch(e){n.e(e)}finally{n.f()}return t}}],[{key:"create",value:function(n){var r=this;return new Promise(function(e){var t=new r(n);e(t.initPlugins().then(function(){return t}))})}}]),In),Gt=(CE(Rn,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),Rn);function Rn(e){wE(this,Rn),this.context=e}function In(e){wE(this,In),this.config=new mn(e,this.constructor.defaultConfig);e=this.constructor.builtinPlugins,this.config.define("plugins",e),this.plugins=new xn(this,e),e=this.config.get("language")||{};this.locale=new An({uiLanguage:"string"==typeof e?e:e.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new wn,this._contextOwner=null}function On(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};wE(this,On),this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Tn(this.uiLanguage),this.contentLanguageDirection=Tn(this.contentLanguage),this.t=function(e,t){return n._t(e,t)}}function Mn(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e[r]!=t[r])return r;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}o(Gt,i);function Nn(e){return pn(e,4)}CE(jn,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),r=e.getAncestors(t),i=0;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),r=Mn(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}},{key:"toJSON",value:function(){var e=Nn(this);return delete e.parent,e}},{key:"is",value:function(e){return"node"===e||"view:node"===e}},{key:"index",get:function(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new A.a("view-node-not-found-in-parent",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]);var Ln=jn;function jn(e){wE(this,jn),this.document=e,this.parent=null}o(Ln,c);xE(zn,Ln),Dn=SE(zn),CE(zn,[{key:"is",value:function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return e instanceof zn&&(this===e||this.data===e.data)}},{key:"_clone",value:function(){return new zn(this.document,this.data)}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(e){this._fireChange("text",this),this._textData=e}}]);var Dn,u=zn,Fn=(CE(Vn,[{key:"is",value:function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e}},{key:"getAncestors",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this.textNode:this.parent;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}]),Vn);function Vn(e,t,n){if(wE(this,Vn),this.textNode=e,t<0||t>e.data.length)throw new A.a("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new A.a("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}function zn(e,t){return wE(this,zn),(e=Dn.call(this,e))._textData=t,e}function Bn(e){if(_n(e))return new Map(e);var t,n=e,r=new Map;for(t in n)r.set(t,n[t]);return r}CE(Un,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];(o="string"==typeof o||o instanceof RegExp?{name:o}:o).classes&&("string"==typeof o.classes||o.classes instanceof RegExp)&&(o.classes=[o.classes]),this._patterns.push(o)}}},{key:"match",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o,a=i[r],s=bE(this._patterns);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=qn(a,l);if(c)return{element:a,pattern:l,match:c}}}catch(e){s.e(e)}finally{s.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a,s=o[i],l=bE(this._patterns);try{for(l.s();!(a=l.n()).done;){var c=a.value,u=qn(s,c);u&&e.push({element:s,pattern:c,match:u})}}catch(e){l.e(e)}finally{l.f()}}return 0<e.length?e:null}},{key:"getElementName",value:function(){var e,t;return 1!==this._patterns.length||(t=(e=this._patterns[0]).name,"function"==typeof e)||!t||t instanceof RegExp?null:t}}]);var Hn=Un;function Un(){wE(this,Un),this._patterns=[],this.add.apply(this,arguments)}function qn(e,t){var n,r,i;return"function"==typeof t?t(e):(n={},t.name&&(n.name=(r=t.name,i=e.name,r instanceof RegExp?r.test(i):r===i),!n.name)||t.attributes&&(n.attributes=((e,t)=>{var n,r=[];for(n in e){var i=e[n];if(!t.hasAttribute(n))return null;var o=t.getAttribute(n);if(!0!==i)if(i instanceof RegExp){if(!i.test(o))return null}else if(o!==i)return null;r.push(n)}return r})(t.attributes,e),!n.attributes)?null:!(t.classes&&(n.classes=((e,t)=>{var n,r=[],i=bE(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o instanceof RegExp){var a,s=bE(t.getClassNames());try{for(s.s();!(a=s.n()).done;){var l=a.value;o.test(l)&&r.push(l)}}catch(e){s.e(e)}finally{s.f()}if(0===r.length)return null}else{if(!t.hasClass(o))return null;r.push(o)}}}catch(e){i.e(e)}finally{i.f()}return r})(t.classes,e),!n.classes))&&!(t.styles&&(n.styles=((e,t)=>{var n,r=[];for(n in e){var i=e[n];if(!t.hasStyle(n))return null;var o=t.getStyle(n);if(i instanceof RegExp){if(!i.test(o))return null}else if(o!==i)return null;r.push(n)}return r})(t.styles,e),!n.styles))&&n)}var Wn=function(e){return"symbol"==typeof e||Me(e)&&"[object Symbol]"==pe(e)},$n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kn=/^\w*$/;function Gn(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");function o(){var e=arguments,t=i?i.apply(this,e):e[0],n=o.cache;return n.has(t)?n.get(t):(e=r.apply(this,e),o.cache=n.set(t,e)||n,e)}return o.cache=new(Gn.Cache||At),o}Gn.Cache=At;function Zn(e){return null==e?"":function e(t){var n;return"string"==typeof t?t:De(t)?((e,t)=>{for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i})(t,e)+"":Wn(t)?sr?sr.call(t):"":"0"==(n=t+"")&&1/t==-1/0?"-0":n}(e)}function Jn(e,t){return De(e)?e:((e,t)=>{var n;if(!De(e))return"number"==(n=typeof e)||"symbol"==n||"boolean"==n||null==e||Wn(e)||Kn.test(e)||!$n.test(e)||null!=t&&e in Object(t)})(e,t)?[e]:ar(Zn(e))}function Qn(e){var t;return"string"==typeof e||Wn(e)?e:"0"==(t=e+"")&&1/e==-1/0?"-0":t}function Yn(e,t){for(var n=0,r=(t=Jn(t,e)).length;null!=e&&n<r;)e=e[Qn(t[n++])];return n&&n==r?e:void 0}function Xn(e,t,n){var r=-1,i=e.length;(n=i<n?i:n)<0&&(n+=i),i=n<(t=t<0?i<-t?0:i+t:t)?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function er(e,t,n){return void 0===(e=null==e?void 0:Yn(e,t))?n:e}function tr(e,t,n){(void 0===n||we(e[t],n))&&(void 0!==n||t in e)||_e(e,t,n)}function nr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var rr,ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,or=/\\(\\)?/g,ar=(rr=(s=Gn(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(ir,function(e,t,n,r){i.push(n?r.replace(or,"$1"):t||e)}),i},function(e){return 500===rr.size&&rr.clear(),e})).cache,s),Wt=D?D.prototype:void 0,sr=Wt?Wt.toString:void 0,lr=ne(function(e,t,n){!function e(t,n,r,i,o){if(t!==n)for(var a,s,l,c,u,h,d,f,p,g,v,m,y,k,b,_,w,C=n,x=We,S=-1,E=Object(C),T=x(C),A=T.length;A--;){var P=T[++S];a=E[P],P=P,w=_=b=k=y=m=v=g=p=f=d=h=u=c=l=s=void 0,o=o||new It,R(a)?(l=n,u=r,h=e,d=i,f=o,p=nr(s=t,c=P),g=nr(l,c),(v=f.get(g))?tr(s,c,v):(m=d?d(p,g,c+"",s,l,f):void 0,(y=void 0===m)&&(k=De(g),b=!k&&Object(Fe.a)(g),_=!k&&!b&&Ve(g),m=g,k||b||_?m=De(p)?p:(e=>Me(e)&&Re(e))(p)?jt(p):b?(y=!1,Object(Lt.a)(g,!0)):_?sn(g,!(y=!1)):[]:lt(g)||je(g)?je(m=p)?m=Se(p,We(p)):R(p)&&!ge(p)||(m=un(g)):y=!1),y&&(f.set(g,m),h(m,g,u,d,f),f.delete(g)),tr(s,c,m))):(w=i?i(nr(t,P),a,P+"",t,n,o):void 0,tr(t,P,w=void 0===w?a:w))}}(e,t,n)}),cr=(CE(dr,[{key:"setTo",value:function(e){this.clear();for(var t=0,n=Array.from((e=>{var t=null,n=0,r=0,i=null,o=new Map;if(""!==e){";"!=e.charAt(e.length-1)&&(e+=";");for(var a=0;a<e.length;a++){var s=e.charAt(a);if(null===t)switch(s){case":":i||(i=e.substr(n,a-n),r=a+1);break;case'"':case"'":t=s;break;case";":var l=e.substr(r,a-r);i&&o.set(i.trim(),l.trim()),i=null,n=a+1}else s===t&&(t=null)}}return o})(e).entries());t<n.length;t++){var r=kE(n[t],2),i=r[0];this._styleProcessor.toNormalizedForm(i,r[1],this._styles)}}},{key:"has",value:function(t){var e;return!this.isEmpty&&(e=this._styleProcessor.getReducedForm(t,this._styles).find(function(e){return kE(e,1)[0]===t}),Array.isArray(e))}},{key:"set",value:function(e,t){if(R(e))for(var n=0,r=Object.entries(e);n<r.length;n++){var i=kE(r[n],2),o=i[0];this._styleProcessor.toNormalizedForm(o,i[1],this._styles)}else this._styleProcessor.toNormalizedForm(e,t,this._styles)}},{key:"remove",value:function(e){var t,n,r,i=fr(e);t=this._styles,n=i,null!=t&&null!=(n=(r=Jn(n,t=n=t)).length<2?t:Yn(t,Xn(r,0,-1)))&&delete n[Qn((t=null==r?0:r.length)?r[t-1]:void 0)],delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map(function(e){return e.join(":")}).sort().join(";")+";"}},{key:"getAsString",value:function(t){var e;if(!this.isEmpty)return this._styles[t]&&!R(this._styles[t])?this._styles[t]:(e=this._styleProcessor.getReducedForm(t,this._styles).find(function(e){return kE(e,1)[0]===t}),Array.isArray(e)?e[1]:void 0)}},{key:"getStyleNames",value:function(){return this.isEmpty?[]:this._getStylesEntries().map(function(e){return kE(e,1)[0]})}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],t=0,n=Object.keys(this._styles);t<n.length;t++){var r=n[t];e.push.apply(e,_E(this._styleProcessor.getReducedForm(r,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var t,e=e.split(".");1<e.length&&(e=e.splice(0,e.length-1).join("."),t=er(this._styles,e))&&!Array.from(Object.keys(t)).length&&this.remove(e)}},{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}}]),dr),ur=(CE(hr,[{key:"toNormalizedForm",value:function(e,t,n){var r;R(t)?pr(n,fr(e),t):this._normalizers.has(e)?pr(n,(r=this._normalizers.get(e)(t)).path,r.value):pr(n,e,t)}},{key:"getNormalized",value:function(e,t){if(!e)return lr({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){var n=this._extractors.get(e);if("string"==typeof n)return er(t,n);n=n(e,t);if(n)return n}return er(t,fr(e))}},{key:"getReducedForm",value:function(e,t){t=this.getNormalized(e,t);return void 0===t?[]:this._reducers.has(e)?this._reducers.get(e)(t):[[e,t]]}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,t){this._normalizers.set(e,t)}},{key:"setExtractor",value:function(e,t){this._extractors.set(e,t)}},{key:"setReducer",value:function(e,t){this._reducers.set(e,t)}},{key:"setStyleRelation",value:function(e,t){this._mapStyleNames(e,t);var n,r=bE(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._mapStyleNames(i,[e])}}catch(e){r.e(e)}finally{r.f()}}},{key:"_mapStyleNames",value:function(e,t){this._consumables.has(e)||this._consumables.set(e,[]),(e=this._consumables.get(e)).push.apply(e,_E(t))}}]),hr);function hr(){wE(this,hr),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}function dr(e){wE(this,dr),this._styles={},this._styleProcessor=e}function fr(e){return e.replace("-",".")}function pr(e,t,n){var r=n,n=(R(n)&&(r=lr({},er(e,t),n)),e),e=t,t=r;if(null!=n){var i=e,o=t;if(R(n))for(var a=-1,s=(i=Jn(i,n)).length,l=s-1,c=n;null!=c&&++a<s;){var u,h=Qn(i[a]),d=o;if("__proto__"===h||"constructor"===h||"prototype"===h)return;a!=l&&(u=c[h],d=void 0,d=R(u)?u:Oe(i[a+1])?[]:{}),xe(c,h,d),c=c[h]}}}xE(mr,Ln),gr=SE(mr),CE(mr,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0<this._classes.size,e.t0)return e.next=4,"class";e.next=4;break;case 4:if(e.t1=this._styles.isEmpty,e.t1){e.next=8;break}return e.next=8,"style";case 8:return e.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return e.stop()}},e,this)})},{key:"getAttributes",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),"t0",1);case 1:if(e.t1=0<this._classes.size,e.t1)return e.next=5,["class",this.getAttribute("class")];e.next=5;break;case 5:if(e.t2=this._styles.isEmpty,e.t2){e.next=9;break}return e.next=9,["style",this.getAttribute("style")];case 9:case"end":return e.stop()}},e,this)})},{key:"getAttribute",value:function(e){var t;return"class"==e?0<this._classes.size?_E(this._classes).join(" "):void 0:"style"==e?""==(t=this._styles.toString())?void 0:t:this._attrs.get(e)}},{key:"hasAttribute",value:function(e){return"class"==e?0<this._classes.size:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}},{key:"isSimilar",value:function(e){if(!(e instanceof mr))return!1;if(this!==e){if(this.name!=e.name)return!1;if(this.isAllowedInsideAttributeElement!=e.isAllowedInsideAttributeElement)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var t,n=bE(this._attrs);try{for(n.s();!(t=n.n()).done;){var r=kE(t.value,2),i=r[0],o=r[1];if(!e._attrs.has(i)||e._attrs.get(i)!==o)return!1}}catch(e){n.e(e)}finally{n.f()}var a,s=bE(this._classes);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(!e._classes.has(l))return!1}}catch(e){s.e(e)}finally{s.f()}var c,u=bE(this._styles.getStyleNames());try{for(u.s();!(c=u.n()).done;){var h=c.value;if(!e._styles.has(h)||e._styles.getAsString(h)!==this._styles.getAsString(h))return!1}}catch(e){u.e(e)}finally{u.f()}}return!0}},{key:"hasClass",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(!this._classes.has(o))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(e){return this._styles.getAsString(e)}},{key:"getNormalizedStyle",value:function(e){return this._styles.getNormalized(e)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(!this._styles.has(o))return!1}return!0}},{key:"findAncestor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=PE(Hn,t),i=this.parent;i;){if(r.match(i))return i;i=i.parent}return null}},{key:"getCustomProperty",value:function(e){return this._customProperties.get(e)}},{key:"getCustomProperties",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"getIdentity",value:function(){var e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(function(e){return"".concat(e[0],'="').concat(e[1],'"')}).sort().join(" ");return this.name+(""==e?"":' class="'.concat(e,'"'))+(t?' style="'.concat(t,'"'):"")+(""==n?"":" "+n)}},{key:"_clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=[];if(e){var n,r=bE(this.getChildren());try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(i._clone(e))}}catch(e){r.e(e)}finally{r.f()}}var o=new this.constructor(this.document,this.name,this._attrs,t);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,o}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,r,i=0,o=bE((r=this.document,"string"==typeof(t=t)?[new u(r,t)]:(_n(t)||(t=[t]),Array.from(t).map(function(e){return"string"==typeof e?new u(r,e):e instanceof Fn?new u(r,e.data):e}))));try{for(o.s();!(n=o.n()).done;){var a=n.value;null!==a.parent&&a._remove(),a.parent=this,a.document=this.document,this._children.splice(e,0,a),e++,i++}}catch(e){o.e(e)}finally{o.f()}return i}},{key:"_removeChildren",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_setAttribute",value:function(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?yr(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}},{key:"_removeAttribute",value:function(e){return this._fireChange("attributes",this),"class"==e?0<this._classes.size&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:"_addClass",value:function(e){this._fireChange("attributes",this);var t,n=bE(b(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;this._classes.add(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_removeClass",value:function(e){this._fireChange("attributes",this);var t,n=bE(b(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;this._classes.delete(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_setStyle",value:function(e,t){this._fireChange("attributes",this),this._styles.set(e,t)}},{key:"_removeStyle",value:function(e){this._fireChange("attributes",this);var t,n=bE(b(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;this._styles.remove(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_setCustomProperty",value:function(e,t){this._customProperties.set(e,t)}},{key:"_removeCustomProperty",value:function(e){return this._customProperties.delete(e)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}},{key:"isAllowedInsideAttributeElement",get:function(){return this._isAllowedInsideAttributeElement}}]);var gr,vr=mr;function mr(e,t,n,r){return wE(this,mr),(e=gr.call(this,e)).name=t,e._attrs=(e=>{var t,n=bE(e=Bn(e));try{for(n.s();!(t=n.n()).done;){var r=kE(t.value,2),i=r[0],o=r[1];null===o?e.delete(i):"string"!=typeof o&&e.set(i,String(o))}}catch(e){n.e(e)}finally{n.f()}return e})(n),e._children=[],r&&e._insertChild(0,r),e._classes=new Set,e._attrs.has("class")&&(t=e._attrs.get("class"),yr(e._classes,t),e._attrs.delete("class")),e._styles=new cr(e.document.stylesProcessor),e._attrs.has("style")&&(e._styles.setTo(e._attrs.get("style")),e._attrs.delete("style")),e._customProperties=new Map,e._isAllowedInsideAttributeElement=!1,EE(e)}function yr(t,e){e=e.split(/\s+/);t.clear(),e.forEach(function(e){return t.add(e)})}xE(_r,vr),kr=SE(_r),CE(_r,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}}]);var kr,br=_r;function _r(e,t,n,r){return wE(this,_r),(e=kr.call(this,e,t,n,r)).getFillerOffset=wr,e}function wr(){var e=_E(this.getChildren()),t=e[this.childCount-1];if(!t||!t.is("element","br")){var n,r=bE(e);try{for(r.s();!(n=r.n()).done;)if(!n.value.is("uiElement"))return null}catch(e){r.e(e)}finally{r.f()}}return this.childCount}xE(Sr,br),Cr=SE(Sr),CE(Sr,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"destroy",value:function(){this.stopListening()}}]);var Cr,xr=Sr;function Sr(t,e,n,r){var i;return wE(this,Sr),(i=Cr.call(this,t,e,n,r)).set("isReadOnly",!1),i.set("isFocused",!1),i.bind("isReadOnly").to(t),i.bind("isFocused").to(t,"isFocused",function(e){return e&&t.selection.editableElement==TE(i)}),i.listenTo(t.selection,"change",function(){i.isFocused=t.isFocused&&t.selection.editableElement==TE(i)}),i}o(xr,i);var Er,Tr=Symbol("rootName"),Ar=(xE(Mr,xr),Er=SE(Mr),CE(Mr,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"rootName",get:function(){return this.getCustomProperty(Tr)},set:function(e){this._setCustomProperty(Tr,e)}},{key:"_name",set:function(e){this.name=e}}]),Mr),Pr=(CE(Or,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){do{var t=this.position,n=(r=this.next()).done,r=r.value}while(!n&&e(r));n||(this.position=t)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e,t,n,r=this.position.clone(),i=this.position,o=r.parent;if(null===o.parent&&r.offset===o.childCount)return{done:!0};if(o===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0};if(o instanceof u){if(r.isAtEnd)return this.position=p._createAfter(o),this._next();e=o.data[r.offset]}else e=o.getChild(r.offset);return e instanceof vr?(this.shallow?r.offset++:r=new p(e,0),this.position=r,this._formatReturnValue("elementStart",e,i,r,1)):e instanceof u?this.singleCharacters?(r=new p(e,0),this.position=r,this._next()):(n=e.data.length,e==this._boundaryEndParent?(n=this.boundaries.end.offset,t=new Fn(e,0,n),r=p._createAfter(t)):(t=new Fn(e,0,e.data.length),r.offset++),this.position=r,this._formatReturnValue("text",t,i,r,n)):"string"==typeof e?(t=this.singleCharacters?1:(o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length)-r.offset,n=new Fn(o,r.offset,t),r.offset+=t,this.position=r,this._formatReturnValue("text",n,i,r,t)):(r=p._createAfter(o),this.position=r,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",o,i,r))}},{key:"_previous",value:function(){var e,t,n,r=this.position.clone(),i=this.position,o=r.parent;if(null===o.parent&&0===r.offset)return{done:!0};if(o==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0};if(o instanceof u){if(r.isAtStart)return this.position=p._createBefore(o),this._previous();e=o.data[r.offset-1]}else e=o.getChild(r.offset-1);return e instanceof vr?this.shallow?(r.offset--,this.position=r,this._formatReturnValue("elementStart",e,i,r,1)):(r=new p(e,e.childCount),this.position=r,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",e,i,r)):e instanceof u?this.singleCharacters?(r=new p(e,e.data.length),this.position=r,this._previous()):(n=e.data.length,e==this._boundaryStartParent?(t=this.boundaries.start.offset,n=(t=new Fn(e,t,e.data.length-t)).data.length,r=p._createBefore(t)):(t=new Fn(e,0,e.data.length),r.offset--),this.position=r,this._formatReturnValue("text",t,i,r,n)):"string"==typeof e?(t=this.singleCharacters?1:r.offset-(o===this._boundaryStartParent?this.boundaries.start.offset:0),r.offset-=t,n=new Fn(o,r.offset,t),this.position=r,this._formatReturnValue("text",n,i,r,t)):(r=p._createBefore(o),this.position=r,this._formatReturnValue("elementStart",o,i,r,1))}},{key:"_formatReturnValue",value:function(e,t,n,r,i){return t instanceof Fn&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=p._createAfter(t.textNode):(r=p._createAfter(t.textNode),this.position=r)),0===t.offsetInText)&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=p._createBefore(t.textNode):(r=p._createBefore(t.textNode),this.position=r)),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}}]),Or),p=(CE(Ir,[{key:"getShiftedBy",value:function(e){var t=Ir._createAt(this),e=t.offset+e;return t.offset=e<0?0:e,t}},{key:"getLastMatchingPosition",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=(t.startPosition=this,new Pr(t));return t.skip(e),t.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),r=0;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}},{key:"is",value:function(e){return"position"===e||"view:position"===e}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[],r=(t.push(this.offset),n.push(e.offset),Mn(t,n));switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<n[r]?"before":"after"}}},{key:"getWalker",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.startPosition=this,new Pr(e)}},{key:"clone",value:function(){return new Ir(this.parent,this.offset)}},{key:"nodeAfter",get:function(){return!this.parent.is("$text")&&this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return!this.parent.is("$text")&&this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof xr);){if(!e.parent)return null;e=e.parent}return e}}],[{key:"_createAt",value:function(e,t){if(e instanceof Ir)return new this(e.parent,e.offset);if("end"==t)t=e.is("$text")?e.data.length:e.childCount;else{if("before"==t)return this._createBefore(e);if("after"==t)return this._createAfter(e);if(0!==t&&!t)throw new A.a("view-createpositionat-offset-required",e)}return new Ir(e,t)}},{key:"_createAfter",value:function(e){if(e.is("$textProxy"))return new Ir(e.textNode,e.offsetInText+e.data.length);if(e.parent)return new Ir(e.parent,e.index+1);throw new A.a("view-position-after-root",e,{root:e})}},{key:"_createBefore",value:function(e){if(e.is("$textProxy"))return new Ir(e.textNode,e.offsetInText);if(e.parent)return new Ir(e.parent,e.index);throw new A.a("view-position-before-root",e,{root:e})}}]),Ir),g=(CE(Rr,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Pr({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"getEnlarged",value:function(){var e=this.start.getLastMatchingPosition(Nr,{direction:"backward"}),t=this.end.getLastMatchingPosition(Nr);return new Rr(e=e.parent.is("$text")&&e.isAtStart?p._createBefore(e.parent):e,t=t.parent.is("$text")&&t.isAtEnd?p._createAfter(t.parent):t)}},{key:"getTrimmed",value:function(){var e,t,n,r=this.start.getLastMatchingPosition(Nr);return r.isAfter(this.end)||r.isEqual(this.end)?new Rr(r,r):(e=this.end.getLastMatchingPosition(Nr,{direction:"backward"}),t=r.nodeAfter,n=e.nodeBefore,new Rr(r=t&&t.is("$text")?new p(t,0):r,e=n&&n.is("$text")?new p(n,n.data.length):e))}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(e.isCollapsed&&(t=!1),this.containsPosition(e.start)||t&&this.start.isEqual(e.start)),t=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&t}},{key:"getDifference",value:function(e){var t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Rr(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Rr(e.end,this.end))):t.push(this.clone()),t}},{key:"getIntersection",value:function(e){var t,n;return this.isIntersecting(e)?(t=this.start,n=this.end,new Rr(t=this.containsPosition(e.start)?e.start:t,n=this.containsPosition(e.end)?e.end:n)):null}},{key:"getWalker",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Pr(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){var e,t;return!this.isCollapsed&&(e=this.start.nodeAfter,t=this.end.nodeBefore,this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e)&&e.is("element")&&e===t?e:null}},{key:"clone",value:function(){return new Rr(this.start,this.end)}},{key:"getItems",value:regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=0<r.length&&void 0!==r[0]?r[0]:{}).boundaries=this,t.ignoreElementEnd=!0,t=new Pr(t),t=bE(t),e.prev=4,t.s();case 6:if((n=t.n()).done){e.next=12;break}return n=n.value,e.next=10,n.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[4,14,17,20]])})},{key:"getPositions",value:regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<i.length&&void 0!==i[0]?i[0]:{}).boundaries=this,t=new Pr(t),e.next=5,t.position;case 5:n=bE(t),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=14;break}return r=r.value,e.next=12,r.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[6,16,19,22]])})},{key:"is",value:function(e){return"range"===e||"view:range"===e}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromParentsAndOffsets",value:function(e,t,n,r){return new this(new p(e,t),new p(n,r))}},{key:"_createFromPositionAndShift",value:function(e,t){var n=e,e=e.getShiftedBy(t);return 0<t?new this(n,e):new this(e,n)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(p._createBefore(e),t)}}]),Rr);function Rr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;wE(this,Rr),this.start=e.clone(),this.end=(t||e).clone()}function Ir(e,t){wE(this,Ir),this.parent=e,this.offset=t}function Or(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(wE(this,Or),!e.boundaries&&!e.startPosition)throw new A.a("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new A.a("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,this.position=p._createAt(e.startPosition||e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}function Mr(e,t){return wE(this,Mr),(e=Er.call(this,e,t)).rootName="main",e}function Nr(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}function Lr(e){var t=0,n=bE(e);try{for(n.s();!n.n().done;)t++}catch(e){n.e(e)}finally{n.f()}return t}CE(Dr,[{key:"getRanges",value:regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=bE(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return n=n.value,e.next=7,n.clone();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e,t=null,n=bE(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.start.isBefore(t.start)||(t=r)}}catch(e){n.e(e)}finally{n.f()}return t?t.clone():null}},{key:"getLastRange",value:function(){var e,t=null,n=bE(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.end.isAfter(t.end)||(t=r)}}catch(e){n.e(e)}finally{n.f()}return t?t.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0!==this.rangeCount){if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=bE(this._ranges);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=!1,a=bE(e._ranges);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(i.isEqual(s)){o=!0;break}}}catch(e){a.e(e)}finally{a.f()}if(!o)return!1}}catch(e){n.e(e)}finally{n.f()}}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var t=Lr(this.getRanges());if(t!=Lr(e.getRanges()))return!1;if(0!=t){var n,r=bE(this.getRanges());try{for(r.s();!(n=r.n()).done;){var i,o=(o=n.value).getTrimmed(),a=!1,s=bE(e.getRanges());try{for(s.s();!(i=s.n()).done;){var l=(l=i.value).getTrimmed();if(o.start.isEqual(l.start)&&o.end.isEqual(l.end)){a=!0;break}}}catch(e){s.e(e)}finally{s.f()}if(!a)return!1}}catch(e){r.e(e)}finally{r.f()}}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(e,t,n){if(null===e)this._setRanges([]),this._setFakeOptions(t);else if(e instanceof Dr||e instanceof Fr)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof g)this._setRanges([e],t&&t.backward),this._setFakeOptions(t);else if(e instanceof p)this._setRanges([new g(e)]),this._setFakeOptions(t);else if(e instanceof Ln){var r,i=!!n&&!!n.backward;if(void 0===t)throw new A.a("view-selection-setto-required-second-parameter",this);r="in"==t?g._createIn(e):"on"==t?g._createOn(e):new g(p._createAt(e,t)),this._setRanges([r],i),this._setFakeOptions(n)}else{if(!_n(e))throw new A.a("view-selection-setto-not-selectable",this);this._setRanges(e,t&&t.backward),this._setFakeOptions(t)}this.fire("change")}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new A.a("view-selection-setfocus-no-ranges",this);e=p._createAt(e,t);"same"!=e.compareWith(this.focus)&&(t=this.anchor,this._ranges.pop(),"before"==e.compareWith(t)?this._addRange(new g(e,t),!0):this._addRange(new g(t,e)),this.fire("change"))}},{key:"is",value:function(e){return"selection"===e||"view:selection"===e}},{key:"_setRanges",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e=Array.from(e),this._ranges=[];var n,r=bE(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._addRange(i)}}catch(e){r.e(e)}finally{r.f()}this._lastRangeBackward=!!t}},{key:"_setFakeOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof g))throw new A.a("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}},{key:"_pushRange",value:function(e){var t,n=bE(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.isIntersecting(r))throw new A.a("view-selection-range-intersects",this,{addedRange:e,intersectingRange:r})}}catch(e){n.e(e)}finally{n.f()}this._ranges.push(new g(e.start,e.end))}},{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){var e;return this._ranges.length?(e=this._ranges[this._ranges.length-1],(this._lastRangeBackward?e.end:e.start).clone()):null}},{key:"focus",get:function(){var e;return this._ranges.length?(e=this._ranges[this._ranges.length-1],(this._lastRangeBackward?e.start:e.end).clone()):null}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}}]);var jr=Dr;function Dr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;wE(this,Dr),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,t,n)}o(jr,c);CE(Vr,[{key:"getRanges",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"is",value:function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}}]);var Fr=Vr;function Vr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;wE(this,Vr),this._selection=new jr,this._selection.delegate("change").to(this),this._selection.setTo(e,t,n)}o(Fr,c);xE(Ur,F),zr=SE(Ur),CE(Ur,[{key:"eventPhase",get:function(){return this._eventPhase}},{key:"currentTarget",get:function(){return this._currentTarget}}]);var zr,Br=Ur,Hr=Symbol("bubbling contexts"),$t={fire:function(e){try{var t=e instanceof F?e:new F(this,e),n=Kr(this);if(n.size){for(var r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(qr(t,"capturing",this),!Wr.apply(void 0,[n,"$capture",t].concat(i))){var a=t.startRange||this.selection.getFirstRange(),s=a?a.getContainedElement():null,l=!!s&&Boolean($r(n,s)),c=s||(a?(u=a.start.parent,h=a.end.parent,d=u.getPath(),f=h.getPath(),d.length>f.length?u:h):null);if(qr(t,"atTarget",c),!l){if(Wr.apply(void 0,[n,"$text",t].concat(i)))return t.return;qr(t,"bubbling",c)}for(;c;){if(c.is("rootElement")){if(Wr.apply(void 0,[n,"$root",t].concat(i)))return t.return}else if(c.is("element")&&Wr.apply(void 0,[n,c.name,t].concat(i)))return t.return;if(Wr.apply(void 0,[n,c,t].concat(i)))return t.return;qr(t,"bubbling",c=c.parent)}qr(t,"bubbling",this),Wr.apply(void 0,[n,"$document",t].concat(i))}return t.return}}catch(e){A.a.rethrowUnexpectedError(e,this)}var u,h,d,f},_addEventListener:function(e,t,n){var r,i=b(n.context||"$document"),o=Kr(this),a=bE(i);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=o.get(s);l||(l=Object.create(c),o.set(s,l)),this.listenTo(l,e,t,n)}}catch(e){a.e(e)}finally{a.f()}},_removeEventListener:function(e,t){var n,r=bE(Kr(this).values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.stopListening(i,e,t)}}catch(e){r.e(e)}finally{r.f()}}};function Ur(e,t,n){return wE(this,Ur),(e=zr.call(this,e,t)).startRange=n,e._eventPhase="none",e._currentTarget=null,e}function qr(e,t,n){e instanceof Br&&(e._eventPhase=t,e._currentTarget=n)}function Wr(e,t,n){for(var e="string"==typeof t?e.get(t):$r(e,t),r=arguments.length,i=new Array(3<r?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return!!e&&(e.fire.apply(e,[n].concat(i)),n.stop.called)}function $r(e,t){var n,r=bE(e);try{for(r.s();!(n=r.n()).done;){var i=kE(n.value,2),o=i[0],a=i[1];if("function"==typeof o&&o(t))return a}}catch(e){r.e(e)}finally{r.f()}return null}function Kr(e){return e[Hr]||(e[Hr]=new Map),e[Hr]}CE(Zr,[{key:"getRoot",value:function(){return this.roots.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"main")}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map(function(e){return e.destroy()}),this.stopListening()}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,r=bE(this._postFixers);try{for(r.s();!(n=r.n()).done&&!(t=(0,n.value)(e)););}catch(e){r.e(e)}finally{r.f()}}while(t)}}]);var Gr=Zr;function Zr(e){wE(this,Zr),this.selection=new Fr,this.roots=new wn({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}o(Gr,$t),o(Gr,i);xE(Yr,vr),Jr=SE(Yr),CE(Yr,[{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new A.a("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}},{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return null!==this.id||null!==e.id?this.id===e.id:yE(RE(Yr.prototype),"isSimilar",this).call(this,e)&&this.priority==e.priority}},{key:"_clone",value:function(e){e=yE(RE(Yr.prototype),"_clone",this).call(this,e);return e._priority=this._priority,e._id=this._id,e}},{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}}]);var Jr,Qr=Yr;function Yr(e,t,n,r){return wE(this,Yr),(e=Jr.call(this,e,t,n,r)).getFillerOffset=Xr,e._priority=10,e._id=null,e._clonesGroup=null,e}function Xr(){if(ei(this))return null;for(var e=this.parent;e&&e.is("attributeElement");){if(1<ei(e))return null;e=e.parent}return!e||1<ei(e)?null:this.childCount}function ei(e){return Array.from(e.getChildren()).filter(function(e){return!e.is("uiElement")}).length}Qr.DEFAULT_PRIORITY=10;xE(ri,vr),ti=SE(ri),CE(ri,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof Ln||0<Array.from(t).length))throw new A.a("view-emptyelement-cannot-add",[this,t])}}]);var ti,ni=ri;function ri(e,t,n,r){return wE(this,ri),(e=ti.call(this,e,t,n,r))._isAllowedInsideAttributeElement=!0,e.getFillerOffset=ii,e}function ii(){return null}var t=navigator.userAgent.toLowerCase(),oi=-1<t.indexOf("macintosh"),ai=!!t.match(/gecko\/\d+/),si=-1<(Kt=t).indexOf(" applewebkit/")&&-1===Kt.indexOf("chrome"),li=-1<t.indexOf("android"),ci=-1<(s=t).indexOf("chrome/")&&s.indexOf("edge/")<0,ui=(()=>{var e=!1;try{e=0==="".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e})(),hi={ctrl:"",cmd:"",alt:"",shift:""},di={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},d=(()=>{for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896},t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(var n=48;n<=57;n++)e[n-48]=n;for(var r=112;r<=123;r++)e["f"+(r-111)]=r;return e})(),fi=Object.fromEntries(Object.entries(d).map(function(e){var e=kE(e,2),t=e[0];return[e[1],t.charAt(0).toUpperCase()+t.slice(1)]}));function pi(e){var t;if("string"==typeof e){if(!(t=d[e.toLowerCase()]))throw new A.a("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?d.alt:0)+(e.ctrlKey?d.ctrl:0)+(e.shiftKey?d.shift:0)+(e.metaKey?d.cmd:0);return t}function gi(e){return(e="string"==typeof e?e.split("+").map(function(e){return e.trim()}):e).map(function(e){return"string"==typeof e?(t=e).endsWith("!")?pi(t.slice(0,-1)):(t=pi(t),oi&&t==d.ctrl?d.cmd:t):e;var t}).reduce(function(e,t){return t+e},0)}function vi(e){var r=gi(e);return Object.entries(oi?hi:di).reduce(function(e,t){var t=kE(t,2),n=t[0];return 0!=(r&d[n])&&(r&=~d[n],e+=t[1]),e},"")+(r?fi[r]:"")}function mi(e,t){var n="ltr"===t;switch(e){case d.arrowleft:return n?"left":"right";case d.arrowright:return n?"right":"left";case d.arrowup:return"up";case d.arrowdown:return"down"}}function yi(e,t){e=mi(e,t);return"down"===e||"right"===e}xE(_i,vr),ki=SE(_i),CE(_i,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof Ln||0<Array.from(t).length))throw new A.a("view-uielement-cannot-add",this)}},{key:"render",value:function(e){return this.toDomElement(e)}},{key:"toDomElement",value:function(e){var t,n=e.createElement(this.name),r=bE(this.getAttributeKeys());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.setAttribute(i,this.getAttribute(i))}}catch(e){r.e(e)}finally{r.f()}return n}}]);var ki,bi=_i;function _i(e,t,n,r){return wE(this,_i),(e=ki.call(this,e,t,n,r))._isAllowedInsideAttributeElement=!0,e.getFillerOffset=wi,e}function wi(){return null}xE(Si,vr),Ci=SE(Si),CE(Si,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof Ln||0<Array.from(t).length))throw new A.a("view-rawelement-cannot-add",[this,t])}}]);var Ci,xi=Si;function Si(e,t,n,r){return wE(this,Si),(e=Ci.call(this,e,t,n,r))._isAllowedInsideAttributeElement=!0,e.getFillerOffset=Ei,e}function Ei(){return null}CE(Ai,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"is",value:function(e){return"documentFragment"===e||"view:documentFragment"===e}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,r,i=0,o=bE((r=this.document,"string"==typeof(t=t)?[new u(r,t)]:(_n(t)||(t=[t]),Array.from(t).map(function(e){return"string"==typeof e?new u(r,e):e instanceof Fn?new u(r,e.data):e}))));try{for(o.s();!(n=o.n()).done;){var a=n.value;null!==a.parent&&a._remove(),(a.parent=this)._children.splice(e,0,a),e++,i++}}catch(e){o.e(e)}finally{o.f()}return i}},{key:"_removeChildren",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}]);var Ti=Ai;function Ai(e,t){wE(this,Ai),this.document=e,this._children=[],t&&this._insertChild(0,t)}o(Ti,c);CE(Ri,[{key:"setSelection",value:function(e,t,n){this.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this.document.selection._setFocus(e,t)}},{key:"createDocumentFragment",value:function(e){return new Ti(this.document,e)}},{key:"createText",value:function(e){return new u(this.document,e)}},{key:"createAttributeElement",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=new Qr(this.document,e,t);return"number"==typeof n.priority&&(e._priority=n.priority),n.id&&(e._id=n.id),e}},{key:"createContainerElement",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=new br(this.document,e,t);return void 0!==n.isAllowedInsideAttributeElement&&(e._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),e}},{key:"createEditableElement",value:function(e,t){e=new xr(this.document,e,t);return e._document=this.document,e}},{key:"createEmptyElement",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=new ni(this.document,e,t);return void 0!==n.isAllowedInsideAttributeElement&&(e._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),e}},{key:"createUIElement",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},e=new bi(this.document,e,t);return n&&(e.render=n),void 0!==r.isAllowedInsideAttributeElement&&(e._isAllowedInsideAttributeElement=r.isAllowedInsideAttributeElement),e}},{key:"createRawElement",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},e=new xi(this.document,e,t);return e.render=n||function(){},void 0!==r.isAllowedInsideAttributeElement&&(e._isAllowedInsideAttributeElement=r.isAllowedInsideAttributeElement),e}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){(n=lt(e)&&void 0===n?t:n)._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof p?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var t,n=e.parent;if(!n.is("containerElement"))throw new A.a("view-writer-break-non-container-element",this.document);if(n.parent)return e.isAtStart?p._createBefore(n):(e.isAtEnd||(t=n._clone(!1),this.insert(p._createAfter(n),t),e=new g(e,p._createAt(n,"end")),t=new p(t,0),this.move(e,t)),p._createAfter(n));throw new A.a("view-writer-break-root",this.document)}},{key:"mergeAttributes",value:function(e){var t,n,r=e.offset,i=e.parent;return i.is("$text")?e:i.is("attributeElement")&&0===i.childCount?(t=i.parent,n=i.index,i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new p(t,n))):(t=i.getChild(r-1),n=i.getChild(r),t&&n?t.is("$text")&&n.is("$text")?Ni(t,n):t.is("attributeElement")&&n.is("attributeElement")&&t.isSimilar(n)?(i=t.childCount,t._appendChild(n.getChildren()),n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new p(t,i))):e:e)}},{key:"mergeContainers",value:function(e){var t,n=e.nodeBefore,e=e.nodeAfter;if(n&&e&&n.is("containerElement")&&e.is("containerElement"))return t=n.getChild(n.childCount-1),t=p._createAt(t instanceof u?t:n,"end"),this.move(g._createIn(e),p._createAt(n,"end")),this.remove(g._createOn(e)),t;throw new A.a("view-writer-merge-containers-invalid-position",this.document)}},{key:"insert",value:function(e,t){!function e(t,n){var r,i=bE(t);try{for(i.s();!(r=i.n()).done;)(()=>{var t=r.value;if(!Li.some(function(e){return t instanceof e}))throw new A.a("view-writer-insert-invalid-node-type",n);t.is("$text")||e(t.getChildren(),n)})()}catch(e){i.e(e)}finally{i.f()}}(t=_n(t)?_E(t):[t],this.document);var n,r=null,i=e,o=bE(t.reduce(function(e,t){var n=e[e.length-1],r=!(t.is("uiElement")&&t.isAllowedInsideAttributeElement);return n&&n.breakAttributes==r?n.nodes.push(t):e.push({breakAttributes:r,nodes:[t]}),e},[]));try{for(o.s();!(n=o.n()).done;)var a=n.value,s=a.nodes,l=a.breakAttributes,c=this._insertNodes(i,s,l),r=r||c.start,i=c.end}catch(e){o.e(e)}finally{o.f()}return r?new g(r,i):new g(e)}},{key:"remove",value:function(e){e=e instanceof g?e:g._createOn(e);if(Di(e,this.document),e.isCollapsed)return new Ti(this.document);var t,n=this._breakAttributesRange(e,!0),r=n.start,n=r.parent._removeChildren(r.offset,n.end.offset-r.offset),i=bE(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;this._removeFromClonedElementsGroup(o)}}catch(e){i.e(e)}finally{i.f()}r=this.mergeAttributes(r);return e.start=r,e.end=r.clone(),new Ti(this.document,n)}},{key:"clear",value:function(e,t){Di(e,this.document);var n,r=bE(e.getWalker({direction:"backward",ignoreElementEnd:!0}));try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=o.item,s=void 0;a.is("element")&&t.isSimilar(a)?s=g._createOn(a):!o.nextPosition.isAfter(e.start)&&a.is("$textProxy")&&(i=a.getAncestors().find(function(e){return e.is("element")&&t.isSimilar(e)}))&&(s=g._createIn(i)),s&&(s.end.isAfter(e.end)&&(s.end=e.end),s.start.isBefore(e.start)&&(s.start=e.start),this.remove(s))}}catch(e){r.e(e)}finally{r.f()}}},{key:"move",value:function(e,t){var n,r,i;return t.isAfter(e.end)?(i=(r=(t=this._breakAttributes(t,!0)).parent).childCount,e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=r.childCount-i):n=this.remove(e),this.insert(t,n)}},{key:"wrap",value:function(e,t){var n,r;if(t instanceof Qr)return Di(e,this.document),e.isCollapsed?((n=e.start).parent.is("element")&&!Array.from(n.parent.getChildren()).some(function(e){return!e.is("uiElement")})&&(n=n.getLastMatchingPosition(function(e){return e.item.is("uiElement")})),n=this._wrapPosition(n,t),(r=this.document.selection).isCollapsed&&r.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new g(n)):this._wrapRange(e,t);throw new A.a("view-writer-wrap-invalid-attribute",this.document)}},{key:"unwrap",value:function(e,t){var n;if(t instanceof Qr)return Di(e,this.document),e.isCollapsed?e:(n=(e=this._breakAttributesRange(e,!0)).start,n=this._unwrapChildren(n.parent,n.offset,e.end.offset,t),(e=this.mergeAttributes(n.start)).isEqual(n.start)||n.end.offset--,t=this.mergeAttributes(n.end),new g(e,t));throw new A.a("view-writer-unwrap-invalid-attribute",this.document)}},{key:"rename",value:function(e,t){e=new br(this.document,e,t.getAttributes());return this.insert(p._createAfter(t),e),this.move(g._createIn(t),p._createAt(e,0)),this.remove(g._createOn(t)),e}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,t){return p._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return p._createAfter(e)}},{key:"createPositionBefore",value:function(e){return p._createBefore(e)}},{key:"createRange",value:function(e,t){return new g(e,t)}},{key:"createRangeOn",value:function(e){return g._createOn(e)}},{key:"createRangeIn",value:function(e){return g._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new jr(e,t,n)}},{key:"_insertNodes",value:function(e,t,n){if(!(a=n?Ii(e):(e.parent.is("$text")?e.parent:e).parent))throw new A.a("view-writer-invalid-position-container",this.document);var r,n=n?this._breakAttributes(e,!0):e.parent.is("$text")?Mi(e):e,e=a._insertChild(n.offset,t),i=bE(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;this._addToClonedElementsGroup(o)}}catch(e){i.e(e)}finally{i.f()}var a=n.getShiftedBy(e),t=this.mergeAttributes(n),e=(t.isEqual(n)||a.offset--,this.mergeAttributes(a));return new g(t,e)}},{key:"_wrapChildren",value:function(e,t,n,r){for(var i=t,o=[];i<n;){var a=e.getChild(i),s=a.is("$text"),l=a.is("attributeElement"),c=a.isAllowedInsideAttributeElement;l&&this._wrapAttributeElement(r,a)?o.push(new p(e,i)):s||c||l&&(s=a,(c=r).priority<s.priority||!(c.priority>s.priority)&&c.getIdentity()<s.getIdentity())?(c=r._clone(),a._remove(),c._appendChild(a),e._insertChild(i,c),this._addToClonedElementsGroup(c),o.push(new p(e,i))):l&&this._wrapChildren(a,0,a.childCount,r),i++}for(var u=0,h=0,d=o;h<d.length;h++){var f=d[h];f.offset-=u,f.offset==t||this.mergeAttributes(f).isEqual(f)||(u++,n--)}return g._createFromParentsAndOffsets(e,t,e,n)}},{key:"_unwrapChildren",value:function(e,t,n,r){for(var i=t,o=[];i<n;){var a,s,l=e.getChild(i);l.is("attributeElement")?l.isSimilar(r)?(a=l.getChildren(),s=l.childCount,l._remove(),e._insertChild(i,a),this._removeFromClonedElementsGroup(l),o.push(new p(e,i),new p(e,i+s)),i+=s,n+=s-1):(this._unwrapAttributeElement(r,l)?o.push(new p(e,i),new p(e,i+1)):this._unwrapChildren(l,0,l.childCount,r),i++):i++}for(var c=0,u=0,h=o;u<h.length;u++){var d=h[u];d.offset-=c,d.offset==t||d.offset==n||this.mergeAttributes(d).isEqual(d)||(c++,n--)}return g._createFromParentsAndOffsets(e,t,e,n)}},{key:"_wrapRange",value:function(e,t){var e=this._breakAttributesRange(e,!0),n=e.start,n=this._wrapChildren(n.parent,n.offset,e.end.offset,t),e=this.mergeAttributes(n.start),t=(e.isEqual(n.start)||n.end.offset--,this.mergeAttributes(n.end));return new g(e,t)}},{key:"_wrapPosition",value:function(e,t){if(t.isSimilar(e.parent))return Oi(e.clone());e.parent.is("$text")&&(e=Mi(e));var n=this.createAttributeElement(),e=(n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},e.parent._insertChild(e.offset,n),new g(e,e.getShiftedBy(1))),e=(this.wrap(e,t),new p(n.parent,n.index)),t=(n._remove(),e.nodeBefore),n=e.nodeAfter;return t instanceof u&&n instanceof u?Ni(t,n):Oi(e)}},{key:"_wrapAttributeElement",value:function(e,t){if(!Fi(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,r=bE(e.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var i=n.value;if("class"!==i&&"style"!==i&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1}}catch(e){r.e(e)}finally{r.f()}var o,a=bE(e.getStyleNames());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(t.hasStyle(s)&&t.getStyle(s)!==e.getStyle(s))return!1}}catch(e){a.e(e)}finally{a.f()}var l,c=bE(e.getAttributeKeys());try{for(c.s();!(l=c.n()).done;){var u=l.value;"class"===u||"style"===u||t.hasAttribute(u)||this.setAttribute(u,e.getAttribute(u),t)}}catch(e){c.e(e)}finally{c.f()}var h,d=bE(e.getStyleNames());try{for(d.s();!(h=d.n()).done;){var f=h.value;t.hasStyle(f)||this.setStyle(f,e.getStyle(f),t)}}catch(e){d.e(e)}finally{d.f()}var p,g=bE(e.getClassNames());try{for(g.s();!(p=g.n()).done;){var v=p.value;t.hasClass(v)||this.addClass(v,t)}}catch(e){g.e(e)}finally{g.f()}return!0}},{key:"_unwrapAttributeElement",value:function(e,t){if(!Fi(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,r=bE(e.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var i=n.value;if("class"!==i&&"style"!==i&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1}}catch(e){r.e(e)}finally{r.f()}if(!t.hasClass.apply(t,_E(e.getClassNames())))return!1;var o,a=bE(e.getStyleNames());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!t.hasStyle(s)||t.getStyle(s)!==e.getStyle(s))return!1}}catch(e){a.e(e)}finally{a.f()}var l,c=bE(e.getAttributeKeys());try{for(c.s();!(l=c.n()).done;){var u=l.value;"class"!==u&&"style"!==u&&this.removeAttribute(u,t)}}catch(e){c.e(e)}finally{c.f()}return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}},{key:"_breakAttributesRange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.start,r=e.end;return Di(e,this.document),e.isCollapsed?(e=this._breakAttributes(e.start,t),new g(e,e)):(r=(e=this._breakAttributes(r,t)).parent.childCount,n=this._breakAttributes(n,t),e.offset+=e.parent.childCount-r,new g(n,e))}},{key:"_breakAttributes",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new A.a("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new A.a("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new A.a("view-writer-cannot-break-raw-element",this.document);return!n&&i.is("$text")&&ji(i.parent)||ji(i)?e.clone():i.is("$text")?this._breakAttributes(Mi(e),n):r==i.childCount?(e=new p(i.parent,i.index+1),this._breakAttributes(e,n)):0===r?(e=new p(i.parent,i.index),this._breakAttributes(e,n)):(e=i.index+1,t=i._clone(),i.parent._insertChild(e,t),this._addToClonedElementsGroup(t),r=i._removeChildren(r,i.childCount-r),t._appendChild(r),t=new p(i.parent,e),this._breakAttributes(t,n))}},{key:"_addToClonedElementsGroup",value:function(e){if(e.root.is("rootElement")){if(e.is("element")){var t,n=bE(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._addToClonedElementsGroup(r)}}catch(e){n.e(e)}finally{n.f()}}var i,o=e.id;o&&((i=this._cloneGroups.get(o))||(i=new Set,this._cloneGroups.set(o,i)),i.add(e),e._clonesGroup=i)}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var t,n=bE(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._removeFromClonedElementsGroup(r)}}catch(e){n.e(e)}finally{n.f()}}var i=e.id;i&&(i=this._cloneGroups.get(i))&&i.delete(e)}}]);var Pi=Ri;function Ri(e){wE(this,Ri),this.document=e,this._cloneGroups=new Map}function Ii(e){for(var t=e.parent;!ji(t);){if(!t)return;t=t.parent}return t}function Oi(e){var t=e.nodeBefore;return t&&t.is("$text")?new p(t,t.data.length):(t=e.nodeAfter)&&t.is("$text")?new p(t,0):e}function Mi(e){var t;return e.offset==e.parent.data.length?new p(e.parent.parent,e.parent.index+1):0===e.offset?new p(e.parent.parent,e.parent.index):(t=e.parent.data.slice(e.offset),e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new u(e.root.document,t)),new p(e.parent.parent,e.parent.index+1))}function Ni(e,t){var n=e.data.length;return e._data+=t.data,t._remove(),new p(e,n)}var Li=[u,Qr,br,ni,xi,bi];function ji(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function Di(e,t){var n=Ii(e.start),e=Ii(e.end);if(!n||!e||n!==e)throw new A.a("view-writer-invalid-range-container",t)}function Fi(e,t){return null===e.id&&null===t.id}function Vi(e){return"[object Text]"==Object.prototype.toString.call(e)}function zi(e){return e.createTextNode("")}function Bi(e){return(e=e.createElement("span")).dataset.ckeFiller=!0,e.innerHTML="",e}function Hi(e){return(e=e.createElement("br")).dataset.ckeFiller=!0,e}var Ui="".repeat(7);function qi(e){return Vi(e)&&e.data.substr(0,7)===Ui}function Wi(e){return 7==e.data.length&&qi(e)}function $i(e){return qi(e)?e.data.slice(7):e.data}function Ki(e,t){var n,r;t.keyCode==d.arrowleft&&1==(t=t.domTarget.ownerDocument.defaultView.getSelection()).rangeCount&&t.getRangeAt(0).collapsed&&(n=t.getRangeAt(0).startContainer,r=t.getRangeAt(0).startOffset,qi(n))&&r<=7&&t.collapse(n,0)}function Gi(e,t,n){var r,i,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=(n=n||function(e,t){return e===t},Array.isArray(e)||(e=Array.prototype.slice.call(e)),Array.isArray(t)||(t=Array.prototype.slice.call(t)),-1===(a=Zi(e=e,i=t,n=n))?{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1}:(n=Zi(Ji(e,a),Ji(i,a),n),{firstIndex:a,lastIndexOld:e.length-n,lastIndexNew:i.length-n}));return o?(e=t.length,i=a.lastIndexOld,n=a.lastIndexNew,-1===(o=a.firstIndex)?Array(e).fill("equal"):(r=[],0<o&&(r=r.concat(Array(o).fill("equal"))),0<n-o&&(r=r.concat(Array(n-o).fill("insert"))),0<i-o&&(r=r.concat(Array(i-o).fill("delete"))),n<e?r.concat(Array(e-n).fill("equal")):r)):(i=t,o=[],e=a.lastIndexOld,0<(n=a.lastIndexNew)-(r=a.firstIndex)&&o.push({index:r,type:"insert",values:i.slice(r,n)}),0<e-r&&o.push({index:r+(n-r),type:"delete",howMany:e-r}),o)}function Zi(e,t,n){for(var r=0;r<Math.max(e.length,t.length);r++)if(void 0===e[r]||void 0===t[r]||!n(e[r],t[r]))return r;return-1}function Ji(e,t){return e.slice(t).reverse()}function Qi(a,s,l){l=l||function(e,t){return e===t};var c,e=a.length,t=s.length;if(200<e||200<t||300<e+t)return Qi.fastDiff(a,s,l,!0);var u=t<e?(t=a,a=s,s=t,c="delete","insert"):(c="insert","delete"),h=a.length,d=s.length,n=d-h,f={},p={};function r(e){var t=(void 0!==p[e-1]?p[e-1]:-1)+1,n=void 0!==p[e+1]?p[e+1]:-1,r=n<t?-1:1;f[e+r]&&(f[e]=f[e+r].slice(0)),f[e]||(f[e]=[]),f[e].push(n<t?c:u);for(var i=Math.max(t,n),o=i-e;o<h&&i<d&&l(a[o],s[i]);)o++,i++,f[e].push("equal");return i}var i,o=0;do{for(i=-o;i<n;i++)p[i]=r(i);for(i=n+o;n<i;i--)p[i]=r(i)}while(p[n]=r(n),o++,p[n]!==d);return f[n].slice(1)}function Yi(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function Xi(e){var t=e.parentNode;t&&t.removeChild(e)}function eo(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}Qi.fastDiff=Gi;CE(no,[{key:"markToSync",value:function(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else if(this.domConverter.mapViewToDom(t))if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new A.a("view-renderer-unknown-type",this);this.markedChildren.add(t)}}},{key:"render",value:function(){var e,t,n=bE(this.markedChildren);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._updateChildrenMappings(r)}}catch(e){n.e(e)}finally{n.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var i,o=bE(this.markedAttributes);try{for(o.s();!(i=o.n()).done;){var a=i.value;this._updateAttrs(a)}}catch(e){o.e(e)}finally{o.f()}var s,l=bE(this.markedChildren);try{for(l.s();!(s=l.n()).done;){var c=s.value;this._updateChildren(c,{inlineFillerPosition:e})}}catch(e){l.e(e)}finally{l.f()}var u,h,d,f=bE(this.markedTexts);try{for(f.s();!(u=f.n()).done;){var p=u.value;!this.markedChildren.has(p.parent)&&this.domConverter.mapViewToDom(p.parent)&&this._updateText(p,{inlineFillerPosition:e})}}catch(e){f.e(e)}finally{f.f()}e?(d=(h=this.domConverter.viewPositionToDom(e)).parent.ownerDocument,this._inlineFiller=qi(h.parent)?h.parent:ro(d,h.parent,h.offset)):this._inlineFiller=null,this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n=Array.from(this.domConverter.mapViewToDom(e).childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:!1})),t=this._diffNodeLists(n,r),t=this._findReplaceActions(t,n,r);if(-1!==t.indexOf("replace")){var i,o={equal:0,insert:0,delete:0},a=bE(t);try{for(a.s();!(i=a.n()).done;){var s,l,c,u=i.value;"replace"===u?(s=o.equal+o.insert,l=o.equal+o.delete,!(c=e.getChild(s))||c.is("uiElement")||c.is("rawElement")||this._updateElementMappings(c,n[l]),Xi(r[s]),o.equal++):o[u]++}}catch(e){a.e(e)}finally{a.f()}}}}},{key:"_updateElementMappings",value:function(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("$text")?p._createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){var e;return!!(1==this.selection.rangeCount&&this.selection.isCollapsed&&(e=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(e))&&Vi(e.parent)&&qi(e.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!qi(e))throw new A.a("view-renderer-filler-was-lost",this);Wi(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){var e,t,n;return!(1!=this.selection.rangeCount||!this.selection.isCollapsed||(t=(e=this.selection.getFirstPosition()).parent,n=e.offset,!this.domConverter.mapViewToDom(t.root))||!t.is("element")||!(e=>{if("false"!=e.getAttribute("contenteditable"))return!(e=e.findAncestor(function(e){return e.hasAttribute("contenteditable")}))||"true"==e.getAttribute("contenteditable")})(t)||n===t.getFillerOffset()||e.nodeBefore instanceof u||e.nodeAfter instanceof u)}},{key:"_updateText",value:function(e,t){var n=this.domConverter.findCorrespondingDomText(e),r=this.domConverter.viewToDom(e,n.ownerDocument),i=n.data,r=r.data,t=t.inlineFillerPosition;if(i!=(r=t&&t.parent==e.parent&&t.offset==e.index?Ui+r:r)){var o,a=bE(Gi(i,r));try{for(a.s();!(o=a.n()).done;){var s=o.value;"insert"===s.type?n.insertData(s.index,s.values.join("")):n.deleteData(s.index,s.howMany)}}catch(e){a.e(e)}finally{a.f()}}}},{key:"_updateAttrs",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n,r=Array.from(t.attributes).map(function(e){return e.name}),i=bE(e.getAttributeKeys());try{for(i.s();!(n=i.n()).done;){var o=n.value;t.setAttribute(o,e.getAttribute(o))}}catch(e){i.e(e)}finally{i.f()}var a,s=bE(r);try{for(s.s();!(a=s.n()).done;){var l=a.value;e.hasAttribute(l)||t.removeAttribute(l)}}catch(e){s.e(e)}finally{s.f()}}}},{key:"_updateChildren",value:function(e,t){var n=this.domConverter.mapViewToDom(e);if(n){var t=t.inlineFillerPosition,r=this.domConverter.mapViewToDom(e).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{bind:!0,inlineFillerPosition:t}));t&&t.parent===e&&ro(n.ownerDocument,i,t.offset);var o,e=this._diffNodeLists(r,i),a=0,s=new Set,l=bE(e);try{for(l.s();!(o=l.n()).done;){var c=o.value;"delete"===c?(s.add(r[a]),Xi(r[a])):"equal"===c&&a++}}catch(e){l.e(e)}finally{l.f()}var u,a=0,h=bE(e);try{for(h.s();!(u=h.n()).done;){var d=u.value;"insert"===d?(Yi(n,a,i[a]),a++):"equal"===d&&(this._markDescendantTextToSync(this.domConverter.domToView(i[a])),a++)}}catch(e){h.e(e)}finally{h.f()}var f,p=bE(s);try{for(p.s();!(f=p.n()).done;){var g=f.value;g.parentNode||this.domConverter.unbindDomElement(g)}}catch(e){p.e(e)}finally{p.f()}}}},{key:"_diffNodeLists",value:function(e,t){return Qi(e=((e,t)=>(0!=(e=Array.from(e)).length&&t&&e[e.length-1]==t&&e.pop(),e))(e,this._fakeSelectionContainer),t,function(e,t,n){return t===n||(Vi(t)&&Vi(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(e,t,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;var r,i=[],o=[],a=[],s={equal:0,insert:0,delete:0},l=bE(e);try{for(l.s();!(r=l.n()).done;){var c=r.value;"insert"===c?a.push(n[s.equal+s.insert]):"delete"===c?o.push(t[s.equal+s.delete]):((i=i.concat(Qi(o,a,io).map(function(e){return"equal"===e?"replace":e}))).push("equal"),o=[],a=[]),s[c]++}}catch(e){l.e(e)}finally{l.f()}return i.concat(Qi(o,a,io).map(function(e){return"equal"===e?"replace":e}))}},{key:"_markDescendantTextToSync",value:function(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element")){var t,n=bE(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._markDescendantTextToSync(r)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"_updateSelection",value:function(){var e;0===this.selection.rangeCount?(this._removeDomSelection(),this._removeFakeSelection()):(e=this.domConverter.mapViewToDom(this.selection.editableElement),this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e))))}},{key:"_updateFakeSelection",value:function(e){var t=e.ownerDocument,n=(this._fakeSelectionContainer||(this._fakeSelectionContainer=((n=t.createElement("div")).className="ck-fake-selection-container",Object.assign(n.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),n.textContent="",n)),this._fakeSelectionContainer);this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(e)&&(n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"",e=t.getSelection(),t=t.createRange(),e.removeAllRanges(),t.selectNodeContents(n),e.addRange(t))}},{key:"_updateDomSelection",value:function(e){var t,n,e=e.ownerDocument.defaultView.getSelection();this._domSelectionNeedsUpdate(e)&&(n=this.domConverter.viewPositionToDom(this.selection.anchor),t=this.domConverter.viewPositionToDom(this.selection.focus),e.collapse(n.parent,n.offset),e.extend(t.parent,t.offset),ai)&&(n=e,(e=t.parent).nodeType==Node.ELEMENT_NODE)&&t.offset==e.childNodes.length-1&&(e=e.childNodes[t.offset])&&"BR"==e.tagName&&n.addRange(n.getRangeAt(0))}},{key:"_domSelectionNeedsUpdate",value:function(e){return!this.domConverter.isDomSelectionCorrect(e)||!((e=e&&this.domConverter.domSelectionToView(e))&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e,t=bE(this.domDocuments);try{for(t.s();!(e=t.n()).done;){var n,r,i=e.value;i.getSelection().rangeCount&&(n=i.activeElement,r=this.domConverter.mapDomToView(n),n)&&r&&i.getSelection().removeAllRanges()}}catch(e){t.e(e)}finally{t.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){var e;this.isFocused&&(e=this.selection.editableElement)&&this.domConverter.focus(e)}}]);var to=no;function no(e,t){wE(this,no),this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}function ro(e,t,n){var r=t instanceof Array?t:t.childNodes,i=r[n];return Vi(i)?i.data=Ui+i.data:(i=e.createTextNode(Ui),Array.isArray(t)?r.splice(n,0,i):Yi(t,n,i)),i}function io(e,t){return eo(e)&&eo(t)&&!Vi(e)&&!Vi(t)&&e.nodeType!==Node.COMMENT_NODE&&t.nodeType!==Node.COMMENT_NODE&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}o(to,i);var l={window:window,document:document};function oo(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}function ao(e){for(var t=[];e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}var so=Hi(document),lo=zi(document),co=Bi(document),uo=(CE(ho,[{key:"bindFakeSelection",value:function(e,t){this._fakeSelectionMapping.set(e,new jr(t))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"unbindDomElement",value:function(e){var t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);var n,r=bE(e.childNodes);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.unbindDomElement(i)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"bindDocumentFragments",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"viewToDom",value:function(e,t){var n,r,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(e.is("$text"))return r=this._processDataFromViewText(e),t.createTextNode(r);if(this.mapViewToDom(e))return this.mapViewToDom(e);if(e.is("documentFragment"))n=t.createDocumentFragment(),i.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return n=e.render(t),i.bind&&this.bindElements(n,e),n;n=e.hasAttribute("xmlns")?t.createElementNS(e.getAttribute("xmlns"),e.name):t.createElement(e.name),e.is("rawElement")&&e.render(n),i.bind&&this.bindElements(n,e);var o,a=bE(e.getAttributeKeys());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.setAttribute(s,e.getAttribute(s))}}catch(e){a.e(e)}finally{a.f()}}if(!1!==i.withChildren){var l,c=bE(this.viewChildrenToDom(e,t,i));try{for(c.s();!(l=c.n()).done;){var u=l.value;n.appendChild(u)}}catch(e){c.e(e)}finally{c.f()}}return n}},{key:"viewChildrenToDom",value:regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,l,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=2<c.length&&void 0!==c[2]?c[2]:{},i=t.getFillerOffset&&t.getFillerOffset(),o=0,a=bE(t.getChildren()),e.prev=4,a.s();case 6:if((s=a.n()).done)e.next=17;else{if(l=s.value,e.t0=i===o,e.t0)return e.next=12,this._getBlockFiller(n);e.next=12}break;case 12:return e.next=14,this.viewToDom(l,n,r);case 14:o++;case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(4),a.e(e.t1);case 22:return e.prev=22,a.f(),e.finish(22);case 25:if(e.t2=i===o,e.t2)return e.next=29,this._getBlockFiller(n);e.next=29;break;case 29:case"end":return e.stop()}},e,this,[[4,19,22,25]])})},{key:"viewRangeToDom",value:function(e){var t=this.viewPositionToDom(e.start),e=this.viewPositionToDom(e.end),n=document.createRange();return n.setStart(t.parent,t.offset),n.setEnd(e.parent,e.offset),n}},{key:"viewPositionToDom",value:function(e){var t,n,r,i,o=e.parent;if(o.is("$text"))return(a=this.findCorrespondingDomText(o))?(i=e.offset,qi(a)&&(i+=7),{parent:a,offset:i}):null;if(0===e.offset){if(!(t=this.mapViewToDom(o)))return null;r=t.childNodes[0]}else{var a=e.nodeBefore;if(!(n=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(e.nodeBefore)))return null;t=n.parentNode,r=n.nextSibling}return Vi(r)&&qi(r)?{parent:r,offset:7}:{parent:t,offset:n?oo(n)+1:0}}},{key:"domToView",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(e))return null;var n=this.getHostViewElement(e);if(n)return n;if(Vi(e))return Wi(e)||""===(n=this._processDataFromDomText(e))?null:new u(this.document,n);if(this.isComment(e))return null;if(this.mapDomToView(e))return this.mapDomToView(e);if(this.isDocumentFragment(e))r=new Ti(this.document),t.bind&&this.bindDocumentFragments(e,r);else{var n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase(),r=new vr(this.document,n);t.bind&&this.bindElements(e,r);for(var i=e.attributes,o=i.length-1;0<=o;o--)r._setAttribute(i[o].name,i[o].value);if(!1!==t.withChildren&&this._rawContentElementMatcher.match(r))return r._setCustomProperty("$rawContent",e.innerHTML),this._encounteredRawContentDomNodes.add(e),r}if(!1!==t.withChildren){var a,s=bE(this.domChildrenToView(e,t));try{for(s.s();!(a=s.n()).done;){var l=a.value;r._appendChild(l)}}catch(e){s.e(e)}finally{s.f()}}return r}},{key:"domChildrenToView",value:regeneratorRuntime.mark(function e(t){var n,r,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=1<o.length&&void 0!==o[1]?o[1]:{},r=0;case 2:if(r<t.childNodes.length){if(i=this.domToView(t.childNodes[r],n),e.t0=null!==i,e.t0)return e.next=8,i;e.next=8}else e.next=11;break;case 8:r++,e.next=2;break;case 11:case"end":return e.stop()}},e,this)})},{key:"domSelectionToView",value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer,t=(Vi(t)&&(t=t.parentNode),this.fakeSelectionToView(t));if(t)return t}for(var t=this.isDomSelectionBackward(e),n=[],r=0;r<e.rangeCount;r++){var i=e.getRangeAt(r),i=this.domRangeToView(i);i&&n.push(i)}return new jr(n,{backward:t})}},{key:"domRangeToView",value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),e=this.domPositionToView(e.endContainer,e.endOffset);return t&&e?new g(t,e):null}},{key:"domPositionToView",value:function(e,t){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,oo(e));var n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return p._createBefore(n);if(Vi(e))return Wi(e)?this.domPositionToView(e.parentNode,oo(e)):(n=t,(r=this.findCorrespondingViewText(e))?(qi(e)&&(n=(n-=7)<0?0:n),new p(r,n)):null);if(0===t){var r=this.mapDomToView(e);if(r)return new p(r,0)}else{n=e.childNodes[t-1],r=Vi(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(r&&r.parent)return new p(r.parent,r.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(!Wi(e)){var t=this.getHostViewElement(e);if(t)return t;t=e.previousSibling;if(t){if(!this.isElement(t))return null;t=this.mapDomToView(t);if(t)return t.nextSibling instanceof u?t.nextSibling:null}else{t=this.mapDomToView(e.parentNode);if(t)return(e=t.getChild(0))instanceof u?e:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var t,n,r,e=this.mapViewToDom(e);e&&e.ownerDocument.activeElement!==e&&(t=(n=l.window).scrollX,n=n.scrollY,r=[],po(e,function(e){var t=e.scrollLeft;r.push([t,e.scrollTop])}),e.focus(),po(e,function(e){var t=kE(r.shift(),2),n=t[0],t=t[1];e.scrollLeft=n,e.scrollTop=t}),l.window.scrollTo(t,n))}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(e){return"br"==this.blockFillerMode?e.isEqualNode(so):!("BR"!==e.tagName||!go(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(co)||(e=e,t=this.blockElements,e.isEqualNode(lo)&&go(e,t)&&1===e.parentNode.childNodes.length);var t}},{key:"isDomSelectionBackward",value:function(e){var t;return!e.isCollapsed&&((t=document.createRange()).setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset),e=t.collapsed,t.detach(),e)}},{key:"getHostViewElement",value:function(e){var t=ao(e);for(t.pop();t.length;){var n=t.pop(),n=this._domToViewMapping.get(n);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"registerRawContentMatcher",value:function(e){this._rawContentElementMatcher.add(e)}},{key:"_getBlockFiller",value:function(e){switch(this.blockFillerMode){case"nbsp":return zi(e);case"markedNbsp":return Bi(e);case"br":return Hi(e)}}},{key:"_isDomSelectionPositionCorrect",value:function(e,t){return!(Vi(e)&&qi(e)&&t<7||this.isElement(e)&&qi(e.childNodes[t])||(t=this.mapDomToView(e))&&(t.is("uiElement")||t.is("rawElement")))}},{key:"_processDataFromViewText",value:function(e){var t,n=this,r=e.data;return e.getAncestors().some(function(e){return n.preElements.includes(e.name)})?r:(" "==(r=" "==r.charAt(0)&&((t=this._getTouchingViewTextNode(e,!1))&&this._nodeEndsWithSpace(t)||!t)?""+r.substr(1):r).charAt(r.length-1)&&(t=this._getTouchingViewTextNode(e,!0)," "!=r.charAt(r.length-2)&&t&&" "!=t.data.charAt(0)||(r=r.substr(0,r.length-1)+"")),r.replace(/ {2}/g," "))}},{key:"_nodeEndsWithSpace",value:function(e){var t=this;return!e.getAncestors().some(function(e){return t.preElements.includes(e.name)})&&" "==(e=this._processDataFromViewText(e)).charAt(e.length-1)}},{key:"_processDataFromDomText",value:function(e){var t,n,r=e.data;return fo(e,this.preElements)?$i(e):(r=r.replace(/[ \n\t\r]{1,}/g," "),n=this._getTouchingInlineDomNode(e,!1),t=this._getTouchingInlineDomNode(e,!0),n=this._checkShouldLeftTrimDomText(e,n),e=this._checkShouldRightTrimDomText(e,t),n&&(r=r.replace(/^ /,"")),e&&(r=r.replace(/ $/,"")),r=(r=$i(new Text(r))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(r)||!t||t.data&&" "==t.data.charAt(0))&&(r=r.replace(/\u00A0$/," ")),n?r.replace(/^\u00A0/," "):r)}},{key:"_checkShouldLeftTrimDomText",value:function(e,t){return!t||!!vn(t)||!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1))}},{key:"_checkShouldRightTrimDomText",value:function(e,t){return!t&&!qi(e)}},{key:"_getTouchingViewTextNode",value:function(e,t){var n,r=bE(new Pr({startPosition:t?p._createAfter(e):p._createBefore(e),direction:t?"forward":"backward"}));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.item.is("containerElement"))return null;if(i.item.is("element","br"))return null;if(i.item.is("$textProxy"))return i.item}}catch(e){r.e(e)}finally{r.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(i,e){if(i.parentNode){var e=e?"nextNode":"previousNode",t=i.ownerDocument,n=ao(i)[0],t=t.createTreeWalker(n,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return Vi(e)||"BR"==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),n=(t.currentNode=i,t[e]());if(null!==n){t=(e=>{for(var t=ao(i),n=ao(e),r=0;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]})(n);if(t&&!fo(i,this.blockElements,t)&&!fo(n,this.blockElements,t))return n}}return null}}]),ho);function ho(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};wE(this,ho),this.document=e,this.blockFillerMode=t.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption","td","th"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Hn,this._encounteredRawContentDomNodes=new WeakSet}function fo(e,t,n){e=ao(e);return(e=n?e.slice(e.indexOf(n)+1):e).some(function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())})}function po(e,t){for(;e&&e!=l.document;)t(e),e=e.parentNode}function go(e,t){e=e.parentNode;return e&&e.tagName&&t.includes(e.tagName.toLowerCase())}function vo(e){e=Object.prototype.toString.apply(e);return"[object Window]"==e||"[object global]"==e}var mo=$e({},c,{listenTo:function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(eo(e)||vo(e))&&((t=this._getProxyEmitter(e)||new yo(e)).attach.apply(t,r),e=t),(t=c.listenTo).call.apply(t,[this,e].concat(r))},stopListening:function(e,t,n){if(eo(e)||vo(e)){var r=this._getProxyEmitter(e);if(!r)return;e=r}c.stopListening.call(this,e,t,n),e instanceof yo&&e.detach(t)},_getProxyEmitter:function(e){return e=ko(e),this[W]&&this[W][e]?this[W][e].emitter:null}}),yo=function e(t){wE(this,e),K(this,ko(t)),this._domNode=t};function ko(e){return e["data-ck-expando"]||(e["data-ck-expando"]=U())}$e(yo.prototype,c,{attach:function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this._domListeners&&this._domListeners[e]||(r={capture:!!r.useCapture,passive:!!r.usePassive},n=this._createDomListener(e,r),this._domNode.addEventListener(e,n,r),this._domListeners||(this._domListeners={}),this._domListeners[e]=n)},detach:function(e){var t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener:function(t,e){function n(e){r.fire(t,e)}var r=this;return n.removeListener=function(){r._domNode.removeEventListener(t,n,e),delete r._domListeners[t]},n}});CE(bo,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}},{key:"checkShouldIgnoreEventFromTarget",value:function(e){return!(!(e=e&&3===e.nodeType?e.parentNode:e)||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}]);Wt=bo;function bo(e){wE(this,bo),this.view=e,this.document=e.document,this.isEnabled=!1}function _o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new At;++t<n;)this.add(e[t])}o(Wt,mo),_o.prototype.add=_o.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},_o.prototype.has=function(e){return this.__data__.has(e)};function wo(e,t,n,r,i){return e===t||(null==e||null==t||!Me(e)&&!Me(t)?e!=e&&t!=t:((e,t,n,r,i,o)=>{var a=De(e),s=De(t),l=a?"[object Array]":en(e),s=s?"[object Array]":en(t),c="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),u="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s);if((s=l==s)&&Object(Fe.a)(e)){if(!Object(Fe.a)(t))return!1;c=!(a=!0)}if(s&&!c)return o=o||new It,(a||Ve(e)?jo:(e,t,n,r,i,o)=>{switch(l){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new nn(e),new nn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return we(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Do;case"[object Set]":if(a=a||Fo,e.size!=t.size&&!(1&n))return!1;var s=o.get(e);if(s)return s==t;n|=2,o.set(e,t);s=jo(a(e),a(t),n,r,i,o);return o.delete(e),s;case"[object Symbol]":if(Vo)return Vo.call(e)==Vo.call(t)}return!1})(e,t,n,r,i,o);if(!(1&n)){a=c&&Bo.call(e,"__wrapped__"),c=u&&Bo.call(t,"__wrapped__");if(a||c)return i(a?e.value():e,c?t.value():t,n,r,o=o||new It)}return!!s&&((e,t,n,r,i,o)=>{var a=1&n,s=Ut(e),l=s.length;if(l!=Ut(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:zo.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<l;){var g,v=e[u=s[c]],m=t[u];if(!(void 0===(g=r?a?r(m,v,u,t,e,o):r(v,m,u,e,t,o):g)?v===m||i(v,m,n,r,o):g)){f=!1;break}p=p||"constructor"==u}return f&&!p&&(h=e.constructor)!=(d=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof h&&h instanceof h&&"function"==typeof d&&d instanceof d)&&(f=!1),o.delete(e),o.delete(t),f})(e,t,n,r,i,o=o||new It)})(e,t,n,r,wo,i))}function Co(r,n,e){var i,o,a,s,l,c,u=0,h=!1,d=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function f(e){var t=i,n=o;return i=o=void 0,u=e,s=r.apply(n,t)}function p(e){var t=e-c;return void 0===c||n<=t||t<0||d&&a<=e-u}function g(){var e,t=Wo();if(p(t))return v(t);l=setTimeout(g,(e=n-(t-c),d?ea(e,a-(t-u)):e))}function v(e){return l=void 0,t&&i?f(e):(i=o=void 0,s)}function m(){var e=Wo(),t=p(e);if(i=arguments,o=this,c=e,t){if(void 0===l)return u=e=c,l=setTimeout(g,n),h?f(e):s;if(d)return clearTimeout(l),l=setTimeout(g,n),f(c)}return void 0===l&&(l=setTimeout(g,n)),s}return n=Yo(n)||0,R(e)&&(h=!!e.leading,a=(d="maxWait"in e)?Xo(Yo(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),m.cancel=function(){void 0!==l&&clearTimeout(l),i=c=o=l=void(u=0)},m.flush=function(){return void 0===l?s:v(Wo())},m}function xo(e){return"string"==typeof e||!De(e)&&Me(e)&&"[object String]"==pe(e)}var So,Eo,To,Ao,Po,Ro,Io,Oo,Mo=_o,No=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Lo=function(e,t){return e.has(t)},jo=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var u=-1,h=!0,d=2&n?new Mo:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var f,p=e[u],g=t[u];if(void 0!==(f=r?a?r(g,p,u,t,e,o):r(p,g,u,e,t,o):f)){if(f)continue;h=!1;break}if(d){if(!No(t,function(e,t){if(!Lo(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)})){h=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h},Do=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r},Fo=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},$t=D?D.prototype:void 0,Vo=$t?$t.valueOf:void 0,zo=Object.prototype.hasOwnProperty,Bo=Object.prototype.hasOwnProperty,Ho=(xE(va,Wt),Oo=SE(va),CE(va,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:"enable",value:function(){yE(RE(va.prototype),"enable",this).call(this);var e,t=bE(this._domElements);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._mutationObserver.observe(n,this._config)}}catch(e){t.e(e)}finally{t.f()}}},{key:"disable",value:function(){yE(RE(va.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){yE(RE(va.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(e){if(0!==e.length){var t,n=this.domConverter,r=new Map,i=new Set,o=bE(e);try{for(o.s();!(t=o.n()).done;){var a,s=t.value;"childList"!==s.type||(a=n.mapDomToView(s.target))&&(a.is("uiElement")||a.is("rawElement"))||a&&!this._isBogusBrMutation(s)&&i.add(a)}}catch(e){o.e(e)}finally{o.f()}var l,c=bE(e);try{for(c.s();!(l=c.n()).done;){var u,h=l.value,d=n.mapDomToView(h.target);d&&(d.is("uiElement")||d.is("rawElement"))||"characterData"!==h.type||((u=n.findCorrespondingViewText(h.target))&&!i.has(u.parent)?r.set(u,{type:"text",oldText:u.data,newText:$i(h.target),node:u}):!u&&qi(h.target)&&i.add(n.mapDomToView(h.target.parentNode)))}}catch(e){c.e(e)}finally{c.f()}var f,p=[],g=bE(r.values());try{for(g.s();!(f=g.n()).done;){var v=f.value;this.renderer.markToSync("text",v.node),p.push(v)}}catch(e){g.e(e)}finally{g.f()}var m,y=bE(i);try{for(y.s();!(m=y.n()).done;){var k=m.value,b=n.mapViewToDom(k),_=Array.from(k.getChildren()),w=Array.from(n.domChildrenToView(b,{withChildren:!1}));S=_,E=w,((A=void 0)===(A=(T="function"==typeof(T=P)?T:void 0)?T(S,E):void 0)?!wo(S,E,void 0,T):!A)&&(this.renderer.markToSync("children",k),p.push({type:"children",oldChildren:_,newChildren:w,node:k}))}}catch(e){y.e(e)}finally{y.f()}var C,e=e[0].target.ownerDocument.getSelection(),x=null;e&&e.anchorNode&&(C=n.domPositionToView(e.anchorNode,e.anchorOffset),e=n.domPositionToView(e.focusNode,e.focusOffset),C)&&e&&(x=new jr(C)).setFocus(e),p.length&&(this.document.fire("mutations",p,x),this.view.forceRender())}var S,E,T,A;function P(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}}},{key:"_isBogusBrMutation",value:function(e){var t=null;return(t=null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length?this.domConverter.domToView(e.addedNodes[0],{withChildren:!1}):t)&&t.is("element","br")}}]),va),Uo=(CE(ga,[{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}},{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}}]),ga),Kt=(xE(pa,Wt),Io=SE(pa),CE(pa,[{key:"observe",value:function(t){var n=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(function(e){n.listenTo(t,e,function(e,t){n.isEnabled&&!n.checkShouldIgnoreEventFromTarget(t.target)&&n.onDomEvent(t)},{useCapture:n.useCapture})})}},{key:"fire",value:function(e,t,n){this.isEnabled&&this.document.fire(e,new Uo(this.view,t,n))}}]),pa),qo=(xE(fa,Kt),Ro=SE(fa),CE(fa,[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return pi(this)}})}}]),fa),Wo=function(){return le.a.Date.now()},$o=/\s/,Ko=/^\s+/,Go=/^[-+]0x[0-9a-f]+$/i,Zo=/^0b[01]+$/i,Jo=/^0o[0-7]+$/i,Qo=parseInt,Yo=function(e){if("number"==typeof e)return e;if(Wn(e))return NaN;var t;if(R(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=R(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=(t=e)&&t.slice(0,(e=>{for(var t=e.length;t--&&$o.test(e.charAt(t)););return t})(t)+1).replace(Ko,"");var n=Zo.test(e);return n||Jo.test(e)?Qo(e.slice(2),n?2:8):Go.test(e)?NaN:+e},Xo=Math.max,ea=Math.min,ta=(xE(da,Wt),Po=SE(da),CE(da,[{key:"observe",value:function(){var n=this,r=this.document;r.on("arrowKey",function(e,t){r.selection.isFake&&n.isEnabled&&t.preventDefault()},{context:"$capture"}),r.on("arrowKey",function(e,t){r.selection.isFake&&n.isEnabled&&n._handleSelectionMove(t.keyCode)},{priority:"lowest"})}},{key:"destroy",value:function(){yE(RE(da.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(e){var t=this.document.selection,n=new jr(t.getRanges(),{backward:t.isBackward,fake:!1}),e=(e!=d.arrowleft&&e!=d.arrowup||n.setTo(n.getFirstPosition()),e!=d.arrowright&&e!=d.arrowdown||n.setTo(n.getLastPosition()),{oldSelection:t,newSelection:n,domSelection:null});this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}]),da),na=(xE(ha,Wt),Ao=SE(ha),CE(ha,[{key:"observe",value:function(e){var n=this,r=e.ownerDocument;this._documents.has(r)||(this.listenTo(r,"selectionchange",function(e,t){n._handleSelectionChange(t,r)}),this._documents.add(r))}},{key:"destroy",value:function(){yE(RE(ha.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(e,t){var n;this.isEnabled&&(t=t.defaultView.getSelection(),this.checkShouldIgnoreEventFromTarget(t.anchorNode)||(this.mutationObserver.flush(),0!=(n=this.domConverter.domSelectionToView(t)).rangeCount?(this.view.hasDomSelection=!0,this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(t)||60<++this._loopbackCounter||(this.selection.isSimilar(n)?this.view.forceRender():(n={oldSelection:this.selection,newSelection:n,domSelection:t},this.document.fire("selectionChange",n),this._fireSelectionChangeDoneDebounced(n)))):this.view.hasDomSelection=!1))}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),ha),ra=(xE(ua,Kt),To=SE(ua),CE(ua,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),yE(RE(ua.prototype),"destroy",this).call(this)}}]),ua),ia=(xE(ca,Kt),Eo=SE(ca),CE(ca,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),ca),oa=(xE(la,Kt),So=SE(la),CE(la,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),la),aa=(CE(sa,[{key:"replace",value:function(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach(function(e){var t=e.element,e=e.newElement;t.style.display="",e&&e.remove()}),this._replacedElements=[]}}]),sa);function sa(){wE(this,sa),this._replacedElements=[]}function la(e){return wE(this,la),(e=So.call(this,e)).domEventType=["beforeinput"],e}function ca(e){wE(this,ca),(e=Eo.call(this,e)).domEventType=["compositionstart","compositionupdate","compositionend"];var t=e.document;return t.on("compositionstart",function(){t.isComposing=!0}),t.on("compositionend",function(){t.isComposing=!1}),e}function ua(r){wE(this,ua),(e=To.call(this,r)).domEventType=["focus","blur"],e.useCapture=!0;var e,i=e.document;return i.on("focus",function(){i.isFocused=!0,e._renderTimeoutId=setTimeout(function(){return r.forceRender()},50)}),i.on("blur",function(e,t){var n=i.selection.editableElement;null!==n&&n!==t.target||(i.isFocused=!1,r.forceRender())}),e}function ha(e){var t;return wE(this,ha),(t=Ao.call(this,e)).mutationObserver=e.getObserver(Ho),t.selection=t.document.selection,t.domConverter=e.domConverter,t._documents=new WeakSet,t._fireSelectionChangeDoneDebounced=Co(function(e){return t.document.fire("selectionChangeDone",e)},200),t._clearInfiniteLoopInterval=setInterval(function(){return t._clearInfiniteLoop()},1e3),t._loopbackCounter=0,t}function da(e){var t;return wE(this,da),(t=Po.call(this,e))._fireSelectionChangeDoneDebounced=Co(function(e){return t.document.fire("selectionChangeDone",e)},200),t}function fa(e){return wE(this,fa),(e=Ro.call(this,e)).domEventType=["keydown","keyup"],e}function pa(e){return wE(this,pa),(e=Io.call(this,e)).useCapture=!1,e}function ga(e,t,n){wE(this,ga),this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,$e(this,n)}function va(e){var t;return wE(this,va),(t=Oo.call(this,e))._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},t.domConverter=e.domConverter,t.renderer=e._renderer,t._domElements=[],t._mutationObserver=new window.MutationObserver(t._onMutations.bind(TE(t))),t}function ma(e,t,n,r){var i,o=2<arguments.length&&void 0!==n?n:{},n=3<arguments.length&&void 0!==r?r:[],r=o&&o.xmlns,a=r?e.createElementNS(r,t):e.createElement(t);for(i in o)a.setAttribute(i,o[i]);var s,l=bE(n=!xo(n)&&_n(n)?n:[n]);try{for(l.s();!(s=l.n()).done;){var c=s.value;xo(c)&&(c=e.createTextNode(c)),a.appendChild(c)}}catch(e){l.e(e)}finally{l.f()}return a}function ya(e){return"[object Range]"==Object.prototype.toString.apply(e)}function ka(e){e=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}var ba=["top","right","bottom","left","width","height"],f=(CE(_a,[{key:"clone",value:function(){return new _a(this)}},{key:"moveTo",value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:"moveBy",value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:"getIntersection",value:function(e){e={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new _a(e)}},{key:"getIntersectionArea",value:function(e){e=this.getIntersection(e);return e?e.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var e=this._source,t=this.clone();if(!Ca(e))for(var n=e.parentNode||e.commonAncestorContainer;n&&!Ca(n);){var r=new _a(n),r=t.getIntersection(r);if(!r)return null;r.getArea()<t.getArea()&&(t=r),n=n.parentNode}return t}},{key:"isEqual",value:function(e){var t,n=bE(ba);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this[r]!==e[r])return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"contains",value:function(e){var t=this.getIntersection(e);return!(!t||!t.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e,t,n,r,i=this._source;return vo(i)?(t=i.innerWidth-i.document.documentElement.clientWidth,n=i.innerHeight-i.document.documentElement.clientHeight,r=i.getComputedStyle(i.document.documentElement).direction):(e=ka(this._source),t=i.offsetWidth-i.clientWidth-e.left-e.right,n=i.offsetHeight-i.clientHeight-e.top-e.bottom,r=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=e.left,this.top+=e.top,this.right-=e.right,this.bottom-=e.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top),this.width-=t,"ltr"===r?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}}],[{key:"getDomRangeRects",value:function(e){var t=[],n=Array.from(e.getClientRects());if(n.length){var r,i=bE(n);try{for(i.s();!(r=i.n()).done;)t.push(new _a(r.value))}catch(e){i.e(e)}finally{i.f()}}else{n=e.startContainer,e=new _a((n=Vi(n)?n.parentNode:n).getBoundingClientRect());e.right=e.left,e.width=0,t.push(e)}return t}},{key:"getBoundingRect",value:function(e){var t,n={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY},r=0,i=bE(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;r++,n.left=Math.min(n.left,o.left),n.top=Math.min(n.top,o.top),n.right=Math.max(n.right,o.right),n.bottom=Math.max(n.bottom,o.bottom)}}catch(e){i.e(e)}finally{i.f()}return 0==r?null:(n.width=n.right-n.left,n.height=n.bottom-n.top,new _a(n))}}]),_a);function _a(e){wE(this,_a);var t,n=ya(e);Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),vn(e)||n?n?(n=_a.getDomRangeRects(e),wa(this,_a.getBoundingRect(n))):wa(this,e.getBoundingClientRect()):vo(e)?wa(this,{top:0,right:n=e.innerWidth,bottom:t=e.innerHeight,left:0,width:n,height:t}):wa(this,e)}function wa(e,t){var n,r=bE(ba);try{for(r.s();!(n=r.n()).done;){var i=n.value;e[i]=t[i]}}catch(e){r.e(e)}finally{r.f()}}function Ca(e){return vn(e)&&e===e.ownerDocument.body}CE(h,[{key:"destroy",value:function(){h._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(e,t){h._elementCallbacks||(h._elementCallbacks=new Map);var n=h._elementCallbacks.get(e);n||(n=new Set,h._elementCallbacks.set(e,n)),n.add(t)}},{key:"_deleteElementCallback",value:function(e,t){var n=h._getElementCallbacks(e);n&&(n.delete(t),n.size||(h._elementCallbacks.delete(e),h._observerInstance.unobserve(e))),h._elementCallbacks&&!h._elementCallbacks.size&&(h._observerInstance=null,h._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(e){return h._elementCallbacks?h._elementCallbacks.get(e):null}},{key:"_createObserver",value:function(){var e="function"==typeof l.window.ResizeObserver?l.window.ResizeObserver:Sa;h._observerInstance=new e(function(e){var t,n=bE(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=h._getElementCallbacks(r.target);if(i){var o,a=bE(i);try{for(a.s();!(o=a.n()).done;)(0,o.value)(r)}catch(e){a.e(e)}finally{a.f()}}}}catch(e){n.e(e)}finally{n.f()}})}}]);var xa=h;function h(e,t){wE(this,h),h._observerInstance||h._createObserver(),this._element=e,this._callback=t,h._addElementCallback(e,t),h._observerInstance.observe(e)}xa._observerInstance=null,xa._elementCallbacks=null;CE(Ea,[{key:"observe",value:function(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var t=this;this.listenTo(l.window,"resize",function(){t._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(function e(){t._checkElementRectsAndExecuteCallback(),t._periodicCheckTimeout=setTimeout(e,100)},100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var e,t=[],n=bE(this._elements);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._hasRectChanged(r)&&t.push({target:r,contentRect:this._previousRects.get(r)})}}catch(e){n.e(e)}finally{n.f()}t.length&&this._callback(t)}},{key:"_hasRectChanged",value:function(e){var t,n;return!!e.ownerDocument.body.contains(e)&&(t=new f(e),n=!(n=this._previousRects.get(e))||!n.isEqual(t),this._previousRects.set(e,t),n)}}]);var Sa=Ea;function Ea(e){wE(this,Ea),this._callback=e,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}function Ta(t){return function(e){return e+t}}function v(e){e=e.next();return e.done?null:e.value}o(Sa,mo);CE(Pa,[{key:"add",value:function(e){var t=this;if(this._elements.has(e))throw new A.a("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",function(){return t._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",function(){return t._blur()},{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){e.focusedElement=null,e.isFocused=!1},0)}}]);var Aa=Pa;function Pa(){wE(this,Pa),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}o(Aa,mo),o(Aa,i);CE(Na,[{key:"listenTo",value:function(e){var n=this;this._listener.listenTo(e,"keydown",function(e,t){n._listener.fire("_keydown:"+pi(t),t)})}},{key:"set",value:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=gi(e);this._listener.listenTo(this._listener,"_keydown:"+e,function(e,t){n(t,function(){t.preventDefault(),t.stopPropagation(),e.stop()}),e.return=!0},{priority:t.priority})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+pi(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]);var Ra,Ia=Na,Oa=(xE(Ma,Wt),Ra=SE(Ma),CE(Ma,[{key:"observe",value:function(){}}]),Ma);function Ma(e){var r;return wE(this,Ma),(r=Ra.call(this,e)).document.on("keydown",function(e,t){var n;!r.isEnabled||(n=t.keyCode)!=d.arrowright&&n!=d.arrowleft&&n!=d.arrowup&&n!=d.arrowdown||(n=new Br(r.document,"arrowKey",r.document.selection.getFirstRange()),r.document.fire(n,t),n.stop.called&&e.stop())}),r}function Na(){wE(this,Na),this._listener=Object.create(mo)}function La(e){for(var t=e.target,e=e.viewportOffset,n=void 0===e?0:e,r=Ba(t),i=r,o=null;i;){ja(Ha(i==r?t:o),function(){return Ua(t,i)});var a=Ua(t,i);if(((e,t,n)=>{var r,i,o=t.clone().moveBy(0,n),a=t.clone().moveBy(0,-n),s=new f(e).excludeScrollbarsAndBorders();[a,o].every(function(e){return s.contains(e)})||(r=e.scrollX,i=e.scrollY,Fa(a,s)?i-=s.top-t.top+n:Da(o,s)&&(i+=t.bottom-s.bottom+n),Va(t,s)?r-=s.left-t.left+n:za(t,s)&&(r+=t.right-s.right+n),e.scrollTo(r,i))})(i,a,n),i.parent!=i){if(o=i.frameElement,i=i.parent,!o)return}else i=null}}function ja(e,t){for(var n,r,i=Ba(e);e!=i.document.body;)r=t(),(n=new f(e).excludeScrollbarsAndBorders()).contains(r)||(Fa(r,n)?e.scrollTop-=n.top-r.top:Da(r,n)&&(e.scrollTop+=r.bottom-n.bottom),Va(r,n)?e.scrollLeft-=n.left-r.left:za(r,n)&&(e.scrollLeft+=r.right-n.right)),e=e.parentNode}function Da(e,t){return e.bottom>t.bottom}function Fa(e,t){return e.top<t.top}function Va(e,t){return e.left<t.left}function za(e,t){return e.right>t.right}function Ba(e){return(ya(e)?e.startContainer:e).ownerDocument.defaultView}function Ha(e){var t;return ya(e)?Vi(t=e.commonAncestorContainer)?t.parentNode:t:e.parentNode}function Ua(e,t){var n=Ba(e),r=new f(e);if(n!==t)for(var i=n;i!=t;){var o=new f(i.frameElement).excludeScrollbarsAndBorders();r.moveBy(o.left,o.top),i=i.parent}return r}Object.assign({},{scrollViewportToShowTarget:La,scrollAncestorsToShowTarget:function(e){ja(Ha(e),function(){return new f(e)})}});CE(Wa,[{key:"attachDomRoot",value:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"main",r=this.document.getRoot(t);r._name=e.tagName.toLowerCase();for(var i={},o=0,a=Array.from(e.attributes);o<a.length;o++){var s=a[o],l=s.name,s=s.value;i[l]=s,"class"===l?this._writer.addClass(s.split(" "),r):this._writer.setAttribute(l,s,r)}this._initialDomRootAttributes.set(e,i);function c(){n._writer.setAttribute("contenteditable",!r.isReadOnly,r),r.isReadOnly?n._writer.addClass("ck-read-only",r):n._writer.removeClass("ck-read-only",r)}c(),this.domRoots.set(t,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",function(e,t){return n._renderer.markToSync("children",t)}),r.on("change:attributes",function(e,t){return n._renderer.markToSync("attributes",t)}),r.on("change:text",function(e,t){return n._renderer.markToSync("text",t)}),r.on("change:isReadOnly",function(){return n.change(c)}),r.on("change",function(){n._hasChangedSinceTheLastRendering=!0});var u,h=bE(this._observers.values());try{for(h.s();!(u=h.n()).done;)u.value.observe(e,t)}catch(e){h.e(e)}finally{h.f()}}},{key:"detachDomRoot",value:function(e){var t,n=this.domRoots.get(e),r=(Array.from(n.attributes).forEach(function(e){e=e.name;return n.removeAttribute(e)}),this._initialDomRootAttributes.get(n));for(t in r)n.setAttribute(t,r[t]);this.domRoots.delete(e),this.domConverter.unbindDomElement(n)}},{key:"getDomRoot",value:function(){return this.domRoots.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"main")}},{key:"addObserver",value:function(e){var t=this._observers.get(e);if(!t){t=new e(this),this._observers.set(e,t);var n,r=bE(this.domRoots);try{for(r.s();!(n=r.n()).done;){var i=kE(n.value,2),o=i[0],a=i[1];t.observe(a,o)}}catch(e){r.e(e)}finally{r.f()}t.enable()}return t}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e,t=bE(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.disable()}catch(e){t.e(e)}finally{t.f()}}},{key:"enableObservers",value:function(){var e,t=bE(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.enable()}catch(e){t.e(e)}finally{t.f()}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&La({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){var e;this.document.isFocused||(e=this.document.selection.editableElement)&&(this.domConverter.focus(e),this.forceRender())}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new A.a("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){A.a.rethrowUnexpectedError(e,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change(function(){})}},{key:"destroy",value:function(){var e,t=bE(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,t){return p._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return p._createAfter(e)}},{key:"createPositionBefore",value:function(e){return p._createBefore(e)}},{key:"createRange",value:function(e,t){return new g(e,t)}},{key:"createRangeOn",value:function(e){return g._createOn(e)}},{key:"createRangeIn",value:function(e){return g._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new jr(e,t,n)}},{key:"_disableRendering",value:function(e){0==(this._renderingDisabled=e)&&this.change(function(){})}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]);var qa=Wa;function Wa(e){var a,t=this;wE(this,Wa),this.document=new Gr(e),this.domConverter=new uo(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new to(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Pi(this.document),this.addObserver(Ho),this.addObserver(na),this.addObserver(ra),this.addObserver(qo),this.addObserver(ta),this.addObserver(ia),this.addObserver(Oa),li&&this.addObserver(oa),this.document.on("arrowKey",Ki,{priority:"low"}),(a=this).document.on("arrowKey",function(e,t){var n,r,i,o;t=t,n=a.domConverter,t.keyCode==d.arrowright&&((i=1==(r=t.domTarget.ownerDocument.defaultView.getSelection()).rangeCount&&r.getRangeAt(0).collapsed)||t.shiftKey)&&null!==(t=n.domPositionToView(r.focusNode,r.focusOffset))&&(o=!1,t=t.getLastMatchingPosition(function(e){return e.item.is("uiElement")&&(o=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))}),o)&&(n=n.viewPositionToDom(t),i?r.collapse(n.parent,n.offset):r.extend(n.parent,n.offset))},{priority:"low"}),this.on("render",function(){t._render(),t.document.fire("layoutChanged"),t._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",function(){t._hasChangedSinceTheLastRendering=!0})}o(qa,i);CE(rs,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),r=e.getAncestors(t),i=0;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),r=Mn(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(function(e,t){return e[t[0]]=t[1],e},{})),e}},{key:"is",value:function(e){return"node"===e||"model:node"===e}},{key:"_clone",value:function(){return new rs(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,t){this._attrs.set(e,t)}},{key:"_setAttributesTo",value:function(e){this._attrs=Bn(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}},{key:"index",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new A.a("model-node-not-found-in-parent",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new A.a("model-node-not-found-in-parent",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]);var $a,Ka,Ga=rs,m=(xE(ns,Ga),Ka=SE(ns),CE(ns,[{key:"is",value:function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){var e=yE(RE(ns.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"_clone",value:function(){return new ns(this.data,this.getAttributes())}},{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}}],[{key:"fromJSON",value:function(e){return new ns(e.data,e.attributes)}}]),ns),Za=(CE(ts,[{key:"is",value:function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e}},{key:"getPath",value:function(){var e=this.textNode.getPath();return 0<e.length&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}},{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}}]),ts),Ja=(CE(es,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){e=this._nodes.indexOf(e);return-1==e?null:e}},{key:"getNodeStartOffset",value:function(e){e=this.getNodeIndex(e);return null===e?null:this._nodes.slice(0,e).reduce(function(e,t){return e+t.offsetSize},0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;e=this._nodes[e];if(e)return this.getNodeStartOffset(e);throw new A.a("model-nodelist-index-out-of-bounds",this)}},{key:"offsetToIndex",value:function(e){var t,n=0,r=bE(this._nodes);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(n<=e&&e<n+i.offsetSize)return this.getNodeIndex(i);n+=i.offsetSize}}catch(e){r.e(e)}finally{r.f()}if(n!=e)throw new A.a("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,t){var n,r,i=bE(t);try{for(i.s();!(r=i.n()).done;)if(!(r.value instanceof Ga))throw new A.a("model-nodelist-insertnodes-not-node",this)}catch(e){i.e(e)}finally{i.f()}(n=this._nodes).splice.apply(n,[e,0].concat(_E(t)))}},{key:"_removeNodes",value:function(e){return this._nodes.splice(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)}},{key:"toJSON",value:function(){return this._nodes.map(function(e){return e.toJSON()})}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce(function(e,t){return e+t.offsetSize},0)}}]),es),y=(xE(Xa,Ga),$a=SE(Xa),CE(Xa,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"getNodeByPath",value:function(e){var t,n=this,r=bE(e);try{for(r.s();!(t=r.n()).done;)var i=t.value,n=n.getChild(n.offsetToIndex(i))}catch(e){r.e(e)}finally{r.f()}return n}},{key:"findAncestor",value:function(e){for(var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{includeSelf:!1}).includeSelf?this:this.parent;t;){if(t.name===e)return t;t=t.parent}return null}},{key:"toJSON",value:function(){var e=yE(RE(Xa.prototype),"toJSON",this).call(this);if(e.name=this.name,0<this._children.length){e.children=[];var t,n=bE(this._children);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.children.push(r.toJSON())}}catch(e){n.e(e)}finally{n.f()}}return e}},{key:"_clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?Array.from(this._children).map(function(e){return e._clone(!0)}):null;return new Xa(this.name,this.getAttributes(),e)}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,t="string"==typeof(t=t)?[new m(t)]:(_n(t)||(t=[t]),Array.from(t).map(function(e){return"string"==typeof e?new m(e):e instanceof Za?new m(e.data,e.getAttributes()):e})),r=bE(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;null!==i.parent&&i._remove(),i.parent=this}}catch(e){r.e(e)}finally{r.f()}this._children._insertNodes(e,t)}},{key:"_removeChildren",value:function(e){var t,e=this._children._removeNodes(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:1),n=bE(e);try{for(n.s();!(t=n.n()).done;)t.value.parent=null}catch(e){n.e(e)}finally{n.f()}return e}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}}],[{key:"fromJSON",value:function(e){var t=null;if(e.children){var n,t=[],r=bE(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push((i.name?Xa:m).fromJSON(i))}}catch(e){r.e(e)}finally{r.f()}}return new Xa(e.name,e.attributes,t)}}]),Xa),Qa=(CE(Ya,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){do{var t=this.position,n=this._visitedParent,r=(i=this.next()).done,i=i.value}while(!r&&e(i));r||(this.position=t,this._visitedParent=n)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e,t,n=this.position,r=this.position.clone(),i=this._visitedParent;return null===i.parent&&r.offset===i.maxOffset||i===this._boundaryEndParent&&r.offset==this.boundaries.end.offset?{done:!0}:(t=(e=as(r,t=r.parent))||ss(r,t,e))instanceof y?(this.shallow?r.offset++:(r.path.push(0),this._visitedParent=t),is("elementStart",t,n,this.position=r,1)):t instanceof m?(e=this.singleCharacters?1:(e=t.endOffset,(e=this._boundaryEndParent==i&&this.boundaries.end.offset<e?this.boundaries.end.offset:e)-r.offset),t=new Za(t,r.offset-t.startOffset,e),r.offset+=e,is("text",t,n,this.position=r,e)):(r.path.pop(),r.offset++,this.position=r,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():is("elementEnd",i,n,r))}},{key:"_previous",value:function(){var e,t,n=this.position,r=this.position.clone(),i=this._visitedParent;return null===i.parent&&0===r.offset||i==this._boundaryStartParent&&r.offset==this.boundaries.start.offset?{done:!0}:(t=(e=as(r,t=r.parent))||ls(r,t,e))instanceof y?(r.offset--,this.shallow?is("elementStart",t,n,this.position=r,1):(r.path.push(t.maxOffset),this.position=r,this._visitedParent=t,this.ignoreElementEnd?this._previous():is("elementEnd",t,n,r))):t instanceof m?(e=this.singleCharacters?1:(e=t.startOffset,this._boundaryStartParent==i&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),r.offset-e),t=new Za(t,r.offset-t.startOffset-e,e),r.offset-=e,is("text",t,n,this.position=r,e)):(r.path.pop(),this.position=r,this._visitedParent=i.parent,is("elementStart",i,n,r,1))}}]),Ya);function Ya(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(wE(this,Ya),!e.boundaries&&!e.startPosition)throw new A.a("model-tree-walker-no-start-position",null);var t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new A.a("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,this.position=e.startPosition?e.startPosition.clone():T._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}function Xa(e,t,n){return wE(this,Xa),(t=$a.call(this,t)).name=e,t._children=new Ja,n&&t._insertChild(0,n),t}function es(e){wE(this,es),this._nodes=[],e&&this._insertNodes(0,e)}function ts(e,t,n){if(wE(this,ts),this.textNode=e,t<0||t>e.offsetSize)throw new A.a("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new A.a("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}function ns(e,t){return wE(this,ns),(t=Ka.call(this,t))._data=e||"",t}function rs(e){wE(this,rs),this.parent=null,this._attrs=Bn(e)}function is(e,t,n,r,i){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}CE(os,[{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var t=Mn(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=(t.startPosition=this,new Qa(t));return t.skip(e),t.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(e){var t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(e){var t;return this.root!=e.root?[]:(e="string"==typeof(t=Mn(this.path,e.path))?Math.min(this.path.length,e.path.length):t,this.path.slice(0,e))}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),r=0;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}},{key:"getShiftedBy",value:function(e){var t=this.clone(),e=t.offset+e;return t.offset=e<0?0:e,t}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isEqual",value:function(e){return"same"==this.compareWith(e)}},{key:"isTouching",value:function(e){var t=null,n=null;switch(this.compareWith(e)){case"same":return!0;case"before":t=os._createAt(this),n=os._createAt(e);break;case"after":t=os._createAt(e),n=os._createAt(this);break;default:return!1}for(var r=t.parent;t.path.length+n.path.length;){if(t.isEqual(n))return!0;if(t.path.length>n.path.length){if(t.offset!==r.maxOffset)return!1;t.path=t.path.slice(0,-1),r=r.parent,t.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}},{key:"is",value:function(e){return"position"===e||"model:position"===e}},{key:"hasSameParentAs",value:function(e){return this.root===e.root&&"same"==Mn(this.getParentPath(),e.getParentPath())}},{key:"getTransformedByOperation",value:function(e){var t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=os._createAt(this)}return t}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var t,n=e.movedRange;return n.containsPosition(this)||n.start.isEqual(this)?(t=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(t=t._getTransformedByDeletion(e.deletionPosition,1))):t=this.isEqual(e.deletionPosition)?os._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),t}},{key:"_getTransformedByDeletion",value:function(e,t){var n=os._createAt(this);if(this.root==e.root)if("same"==Mn(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if("prefix"==Mn(e.getParentPath(),this.getParentPath())){var r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;n.path[r]-=t}}return n}},{key:"_getTransformedByInsertion",value:function(e,t){var n,r=os._createAt(this);return this.root==e.root&&("same"==Mn(e.getParentPath(),this.getParentPath())?(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(r.offset+=t):"prefix"==Mn(e.getParentPath(),this.getParentPath())&&(n=e.path.length-1,e.offset<=this.path[n])&&(r.path[n]+=t)),r}},{key:"_getTransformedByMove",value:function(e,t,n){var r;return t=t._getTransformedByDeletion(e,n),e.isEqual(t)?os._createAt(this):null===(r=this._getTransformedByDeletion(e,n))||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):r._getTransformedByInsertion(t,n)}},{key:"_getCombined",value:function(e,t){var n=e.path.length-1,t=os._createAt(t);return t.stickiness=this.stickiness,t.offset=t.offset+this.path[n]-e.offset,t.path=[].concat(_E(t.path),_E(this.path.slice(1+n))),t}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}},{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)if(!(e=e.getChild(e.offsetToIndex(this.path[t]))))throw new A.a("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new A.a("model-position-path-incorrect",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return as(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return ss(this,e,as(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return ls(this,e,as(this,e))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}],[{key:"_createAt",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"toNone";if(e instanceof os)return new os(e.root,e.path,e.stickiness);var r,i=e;if("end"==t)t=i.maxOffset;else{if("before"==t)return this._createBefore(i,n);if("after"==t)return this._createAfter(i,n);if(0!==t&&!t)throw new A.a("model-createpositionat-offset-required",[this,e])}if(i.is("element")||i.is("documentFragment"))return(r=i.getPath()).push(t),new this(i.root,r,n);throw new A.a("model-position-parent-incorrect",[this,e])}},{key:"_createAfter",value:function(e,t){if(e.parent)return this._createAt(e.parent,e.endOffset,t);throw new A.a("model-position-after-root",[this,e],{root:e})}},{key:"_createBefore",value:function(e,t){if(e.parent)return this._createAt(e.parent,e.startOffset,t);throw new A.a("model-position-before-root",e,{root:e})}},{key:"fromJSON",value:function(e,t){var n;if("$graveyard"===e.root)return(n=new os(t.graveyard,e.path)).stickiness=e.stickiness,n;if(t.getRoot(e.root))return new os(t.getRoot(e.root),e.path,e.stickiness);throw new A.a("model-position-fromjson-no-root",t,{rootName:e.root})}}]);var T=os;function os(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"toNone";if(wE(this,os),!e.is("element")&&!e.is("documentFragment"))throw new A.a("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new A.a("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[].concat(_E(e.getPath()),_E(t)),e=e.root),this.root=e,this.path=t,this.stickiness=n}function as(e,t){t=t.getChild(t.offsetToIndex(e.offset));return t&&t.is("$text")&&t.startOffset<e.offset?t:null}function ss(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function ls(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}CE(k,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Qa({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(e.isCollapsed&&(t=!1),this.containsPosition(e.start)||t&&this.start.isEqual(e.start)),t=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&t}},{key:"containsItem",value:function(e){e=T._createBefore(e);return this.containsPosition(e)||this.start.isEqual(e)}},{key:"is",value:function(e){return"range"===e||"model:range"===e}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(e){var t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new k(this.start,e.start)),this.containsPosition(e.end)&&t.push(new k(e.end,this.end))):t.push(new k(this.start,this.end)),t}},{key:"getIntersection",value:function(e){var t,n;return this.isIntersecting(e)?(t=this.start,n=this.end,new k(t=this.containsPosition(e.start)?e.start:t,n=this.containsPosition(e.end)?e.end:n)):null}},{key:"getJoined",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.isIntersecting(e)||(this.start.isBefore(e.start)?n?this.end.isTouching(e.start):this.end.isEqual(e.start):n?e.end.isTouching(this.start):e.end.isEqual(this.start))?(n=this.start,t=this.end,new k(n=e.start.isBefore(n)?e.start:n,t=e.end.isAfter(t)?e.end:t)):null}},{key:"getMinimalFlatRanges",value:function(){for(var e=[],t=this.start.getCommonPath(this.end).length,n=T._createAt(this.start),r=n.parent;n.path.length>t+1;){var i=r.maxOffset-n.offset;0!=i&&e.push(new k(n,n.getShiftedBy(i))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){var o=this.end.path[n.path.length-1],a=o-n.offset;0!=a&&e.push(new k(n,n.getShiftedBy(a))),n.offset=o,n.path.push(0)}return e}},{key:"getWalker",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Qa(e)}},{key:"getItems",value:regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=0<r.length&&void 0!==r[0]?r[0]:{}).boundaries=this,t.ignoreElementEnd=!0,t=new Qa(t),t=bE(t),e.prev=4,t.s();case 6:if((n=t.n()).done){e.next=12;break}return n=n.value,e.next=10,n.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[4,14,17,20]])})},{key:"getPositions",value:regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=0<i.length&&void 0!==i[0]?i[0]:{}).boundaries=this,t=new Qa(t),e.next=5,t.position;case 5:n=bE(t),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=14;break}return r=r.value,e.next=12,r.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[6,16,19,22]])})},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new k(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var t,n=[new k(this.start,this.end)],r=bE(e);try{for(r.s();!(t=r.n()).done;)for(var i=t.value,o=0;o<n.length;o++){var a=n[o].getTransformedByOperation(i);n.splice.apply(n,[o,1].concat(_E(a))),o+=a.length-1}}catch(e){r.e(e)}finally{r.f()}for(var s=0;s<n.length;s++)for(var l=n[s],c=s+1;c<n.length;c++){var u=n[c];(l.containsRange(u)||u.containsRange(l)||l.isEqual(u))&&n.splice(c,1)}return n}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){var e,t;return!this.isCollapsed&&(e=this.start.nodeAfter,t=this.end.nodeBefore,e)&&e.is("element")&&e===t?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany,1<arguments.length&&void 0!==arguments[1]&&arguments[1])}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,1<arguments.length&&void 0!==arguments[1]&&arguments[1])}},{key:"_getTransformedBySplitOperation",value:function(e){var t=this.start._getTransformedBySplitOperation(e),n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),new k(t,n=t.root!=n.root?this.end.getShiftedBy(-1):n)}},{key:"_getTransformedByMergeOperation",value:function(e){var t,n;return this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition)?new k(this.start):(t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)&&(e.sourcePosition.isBefore(e.targetPosition)?(t=T._createAt(n)).offset=0:(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition)),new k(t,n))}},{key:"_getTransformedByInsertion",value:function(e,t){var n;return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&this.containsPosition(e)?[new k(this.start,e),new k(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))]:((n=new k(this.start,this.end)).start=n.start._getTransformedByInsertion(e,t),n.end=n.end._getTransformedByInsertion(e,t),[n])}},{key:"_getTransformedByMove",value:function(e,t,n){var r,i,o,a,s=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return this.isCollapsed?[new k(this.start._getTransformedByMove(e,t,n))]:(r=k._createFromPositionAndShift(e,n),i=t._getTransformedByDeletion(e,n),this.containsPosition(t)&&!s&&(r.containsPosition(this.start)||r.containsPosition(this.end))?[new k(this.start._getTransformedByMove(e,t,n),this.end._getTransformedByMove(e,t,n))]:(t=this.getDifference(r),o=null,a=this.getIntersection(r),1==t.length?o=new k(t[0].start._getTransformedByDeletion(e,n),t[0].end._getTransformedByDeletion(e,n)):2==t.length&&(o=new k(this.start,this.end._getTransformedByDeletion(e,n))),t=o?o._getTransformedByInsertion(i,n,null!==a||s):[],a&&(e=new k(a.start._getCombined(r.start,i),a.end._getCombined(r.start,i)),2==t.length?t.splice(1,0,e):t.push(e)),t))}},{key:"_getTransformedByDeletion",value:function(e,t){var n=this.start._getTransformedByDeletion(e,t),t=this.end._getTransformedByDeletion(e,t);return null==n&&null==t?null:new k(n=null==n?e:n,t=null==t?e:t)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==Mn(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromPositionAndShift",value:function(e,t){var n=e,e=e.getShiftedBy(t);return 0<t?new this(n,e):new this(e,n)}},{key:"_createIn",value:function(e){return new this(T._createAt(e,0),T._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(T._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(0===e.length)throw new A.a("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();var t=e[0],n=(e.sort(function(e,t){return e.start.isAfter(t.start)?1:-1}),e.indexOf(t)),r=new this(t.start,t.end);if(0<n)for(var i=n-1;e[i].end.isEqual(r.start);i++)r.start=T._createAt(e[i].start);for(var o=n+1;o<e.length&&e[o].start.isEqual(r.end);o++)r.end=T._createAt(e[o].end);return r}},{key:"fromJSON",value:function(e,t){return new this(T.fromJSON(e.start,t),T.fromJSON(e.end,t))}}]);var P=k,cs=(CE(us,[{key:"bindElements",value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:"unbindViewElement",value:function(e){var t=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e)){var n,r=bE(this._elementToMarkerNames.get(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;this._unboundMarkerNames.add(i)}}catch(e){r.e(e)}finally{r.f()}}this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}},{key:"unbindModelElement",value:function(e){var t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}},{key:"bindElementToMarker",value:function(e,t){var n=this._markerNameToElements.get(t)||new Set,r=(n.add(e),this._elementToMarkerNames.get(e)||new Set);r.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,r)}},{key:"unbindElementFromMarkerName",value:function(e,t){var n=this._markerNameToElements.get(t),n=(n&&(n.delete(e),0==n.size)&&this._markerNameToElements.delete(t),this._elementToMarkerNames.get(e));n&&(n.delete(t),0==n.size)&&this._elementToMarkerNames.delete(e)}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new P(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new g(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){e={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}},{key:"toViewPosition",value:function(e){e={modelPosition:e,mapper:this,isPhantom:(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1}).isPhantom};return this.fire("modelToViewPosition",e),e.viewPosition}},{key:"markerNameToElements",value:function(e){e=this._markerNameToElements.get(e);if(!e)return null;var t,n=new Set,r=bE(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.is("attributeElement")){var o,a=bE(i.getElementsWithSameId());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.add(s)}}catch(e){a.e(e)}finally{a.f()}}else n.add(i)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"registerViewToModelLength",value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:"findMappedViewAncestor",value:function(e){for(var t=e.parent;!this._viewToModelMapping.has(t);)t=t.parent;return t}},{key:"_toModelOffset",value:function(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;for(var r=0,i=0;i<t;i++)r+=this.getModelLength(e.getChild(i));return r}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;var t,n=0,r=bE(e.getChildren());try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getModelLength(i)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"findPositionIn",value:function(e,t){var n,r=0,i=0,o=0;if(e.is("$text"))return new p(e,t);for(;i<t;)n=e.getChild(o),i+=r=this.getModelLength(n),o++;return i==t?this._moveViewPositionToTextNode(new p(e,o)):this.findPositionIn(n,t-(i-r))}},{key:"_moveViewPositionToTextNode",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;return t instanceof u?new p(t,t.data.length):n instanceof u?new p(n,0):e}}]),us);function us(){var i=this;wE(this,us),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",function(e,t){var n;t.viewPosition||(n=i._modelToViewMapping.get(t.modelPosition.parent),t.viewPosition=i.findPositionIn(n,t.modelPosition.offset))},{priority:"low"}),this.on("viewToModelPosition",function(e,t){var n,r;t.modelPosition||(r=i.findMappedViewAncestor(t.viewPosition),n=i._viewToModelMapping.get(r),r=i._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,r),t.modelPosition=T._createAt(n,r))},{priority:"low"})}function k(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;wE(this,k),this.start=T._createAt(e),this.end=T._createAt(t||e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}o(cs,c);CE(ds,[{key:"add",value:function(e,t){t=fs(t),e instanceof Za&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:"consume",value:function(e,t){return t=fs(t),e instanceof Za&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:"test",value:function(e,t){t=fs(t),e instanceof Za&&(e=this._getSymbolForTextProxy(e));var e=this._consumable.get(e);return void 0===e||void 0===(e=e.get(t))?null:e}},{key:"revert",value:function(e,t){t=fs(t),e instanceof Za&&(e=this._getSymbolForTextProxy(e));var n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(e){var t=null,n=this._textProxyRegistry.get(e.startOffset);return t=(t=n&&(n=n.get(e.endOffset))?n.get(e.parent):t)||this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)}},{key:"_addSymbolForTextProxy",value:function(e,t,n){var r,i=Symbol("textProxySymbol");return(r=this._textProxyRegistry.get(e))||(r=new Map,this._textProxyRegistry.set(e,r)),(e=r.get(t))||(e=new Map,r.set(t,e)),e.set(n,i),i}}]);var hs=ds;function ds(){wE(this,ds),this._consumable=new Map,this._textProxyRegistry=new Map}function fs(e){e=e.split(":");return 1<e.length?e[0]+":"+e[1]:e[0]}CE(gs,[{key:"convertChanges",value:function(e,t,n){var r,i=bE(e.getMarkersToRemove());try{for(i.s();!(r=i.n()).done;){var o=r.value;this.convertMarkerRemove(o.name,o.range,n)}}catch(e){i.e(e)}finally{i.f()}var a,s=bE(this._mapChangesWithAutomaticReconversion(e));try{for(s.s();!(a=s.n()).done;){var l=a.value;"insert"===l.type?this.convertInsert(P._createFromPositionAndShift(l.position,l.length),n):"remove"===l.type?this.convertRemove(l.position,l.length,l.name,n):"reconvert"===l.type?this.reconvertElement(l.element,n):this.convertAttribute(l.range,l.attributeKey,l.attributeOldValue,l.attributeNewValue,n)}}catch(e){s.e(e)}finally{s.f()}var c,u=bE(this.conversionApi.mapper.flushUnboundMarkerNames());try{for(u.s();!(c=u.n()).done;){var h=c.value,d=t.get(h).getRange();this.convertMarkerRemove(h,d,n),this.convertMarkerAdd(h,d,n)}}catch(e){u.e(e)}finally{u.f()}var f,p=bE(e.getMarkersToAdd());try{for(p.s();!(f=p.n()).done;){var g=f.value;this.convertMarkerAdd(g.name,g.range,n)}}catch(e){p.e(e)}finally{p.f()}}},{key:"convertInsert",value:function(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);var n,r=bE(Array.from(e).map(vs));try{for(r.s();!(n=r.n()).done;){var i=n.value;this._convertInsertWithAttributes(i)}}catch(e){r.e(e)}finally{r.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(e,t,n,r){this.conversionApi.writer=r,this.fire("remove:"+n,{position:e,length:t},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(e,t,n,r,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:"+t);var o,a=bE(e);try{for(a.s();!(o=a.n()).done;){var s=o.value,l={item:s.item,range:P._createFromPositionAndShift(s.previousPosition,s.length),attributeKey:t,attributeOldValue:n,attributeNewValue:r};this._testAndFire("attribute:"+t,l)}}catch(e){a.e(e)}finally{a.f()}this._clearConversionApi()}},{key:"reconvertElement",value:function(e,t){var n=P._createOn(e),r=(this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(n),this.conversionApi.mapper),i=r.toViewElement(e);t.remove(i),this._convertInsertWithAttributes({item:e,range:n});var o,a=r.toViewElement(e),s=bE(P._createIn(e));try{for(s.s();!(o=s.n()).done;){var l=o.value,c=l.item,u=((e,t)=>{var n;return e.is("textProxy")?(n=t.toViewPosition(T._createBefore(e)).parent).is("$text")?n:null:t.toViewElement(e)})(c,r);u?u.root!==a.root&&t.move(t.createRangeOn(u),r.toViewPosition(T._createBefore(c))):this._convertInsertWithAttributes(vs(l))}}catch(e){s.e(e)}finally{s.f()}r.unbindViewElement(i),this._clearConversionApi()}},{key:"convertSelection",value:function(e,t,n){t=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(e,t),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){var r,i=bE(t);try{for(i.s();!(r=i.n()).done;){var o,a=r.value,s=a.getRange();((e,t,n)=>{var r=t.getRange();return(t=Array.from(e.getAncestors())).shift(),t.reverse(),!t.some(function(e){if(r.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")})})(e.getFirstPosition(),a,this.conversionApi.mapper)&&(o={item:e,markerName:a.name,markerRange:s},this.conversionApi.consumable.test(e,"addMarker:"+a.name))&&this.fire("addMarker:"+a.name,o,this.conversionApi)}}catch(e){i.e(e)}finally{i.f()}var l,c=bE(e.getAttributeKeys());try{for(c.s();!(l=c.n()).done;){var u=l.value,h={item:e,range:e.getFirstRange(),attributeKey:u,attributeOldValue:null,attributeNewValue:e.getAttribute(u)};this.conversionApi.consumable.test(e,"attribute:"+h.attributeKey)&&this.fire("attribute:"+h.attributeKey+":$text",h,this.conversionApi)}}catch(e){c.e(e)}finally{c.f()}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(e,t,n){if("$graveyard"!=t.root.rootName){this.conversionApi.writer=n;var r="addMarker:"+e,n=new hs;if(n.add(t,r),this.conversionApi.consumable=n,this.fire(r,{markerName:e,markerRange:t},this.conversionApi),n.test(t,r)){this.conversionApi.consumable=this._createConsumableForRange(t,r);var i,o=bE(t.getItems());try{for(o.s();!(i=o.n()).done;){var a,s=i.value;this.conversionApi.consumable.test(s,r)&&(a={item:s,range:P._createOn(s),markerName:e,markerRange:t},this.fire(r,a,this.conversionApi))}}catch(e){o.e(e)}finally{o.f()}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(e,t,n){"$graveyard"!=t.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}},{key:"_mapReconversionTriggerEvent",value:function(e,t){this._reconversionEventsMapping.set(t,e)}},{key:"_createInsertConsumable",value:function(e){var t,n=new hs,r=bE(e);try{for(r.s();!(t=r.n()).done;){var i=t.value.item;n.add(i,"insert");var o,a=bE(i.getAttributeKeys());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.add(i,"attribute:"+s)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_createConsumableForRange",value:function(e,t){var n,r=new hs,i=bE(e.getItems());try{for(i.s();!(n=i.n()).done;){var o=n.value;r.add(o,t)}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"_createSelectionConsumable",value:function(e,t){var n=new hs;n.add(e,"selection");var r,i=bE(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.add(e,"addMarker:"+o.name)}}catch(e){i.e(e)}finally{i.f()}var a,s=bE(e.getAttributeKeys());try{for(s.s();!(a=s.n()).done;){var l=a.value;n.add(e,"attribute:"+l)}}catch(e){s.e(e)}finally{s.f()}return n}},{key:"_testAndFire",value:function(e,t){var n;this.conversionApi.consumable.test(t.item,e)&&this.fire((n=t,"".concat(e,":").concat(n.item.name||"$text")),t,this.conversionApi)}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}},{key:"_convertInsertWithAttributes",value:function(e){this._testAndFire("insert",e);var t,n=bE(e.item.getAttributeKeys());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.attributeKey=r,e.attributeOldValue=null,e.attributeNewValue=e.item.getAttribute(r),this._testAndFire("attribute:"+r,e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_mapChangesWithAutomaticReconversion",value:function(e){var t,n=new Set,r=[],i=bE(e.getChanges());try{for(i.s();!(t=i.n()).done;){var o,a,s=t.value,l=s.position||s.range.start,c=l.parent;!as(l,c)&&!(o="attribute"===s.type?ss(l,c,null):c).is("$text")&&(a="attribute"===s.type?"attribute:".concat(s.attributeKey,":").concat(o.name):"".concat(s.type,":").concat(s.name),this._isReconvertTriggerEvent(a,o.name))?n.has(o)||(n.add(o),r.push({type:"reconvert",element:o})):r.push(s)}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"_isReconvertTriggerEvent",value:function(e,t){return this._reconversionEventsMapping.get(e)===t}}]);var ps=gs;function gs(e){wE(this,gs),this.conversionApi=Object.assign({dispatcher:this},e),this._reconversionEventsMapping=new Map}function vs(e){return{item:e.item,range:P._createFromPositionAndShift(e.previousPosition,e.length)}}o(ps,c);CE(ys,[{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0!==this.rangeCount){if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=bE(this._ranges);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=!1,a=bE(e._ranges);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(i.isEqual(s)){o=!0;break}}}catch(e){a.e(e)}finally{a.f()}if(!o)return!1}}catch(e){n.e(e)}finally{n.f()}}return!0}},{key:"getRanges",value:regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=bE(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return n=n.value,e.next=7,new P(n.start,n.end);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e,t=null,n=bE(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.start.isBefore(t.start)||(t=r)}}catch(e){n.e(e)}finally{n.f()}return t?new P(t.start,t.end):null}},{key:"getLastRange",value:function(){var e,t=null,n=bE(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.end.isAfter(t.end)||(t=r)}}catch(e){n.e(e)}finally{n.f()}return t?new P(t.start,t.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(e,t,n){if(null===e)this._setRanges([]);else if(e instanceof ys)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof P)this._setRanges([e],!!t&&!!t.backward);else if(e instanceof T)this._setRanges([new P(e)]);else if(e instanceof Ga){var r,n=!!n&&!!n.backward;if("in"==t)r=P._createIn(e);else if("on"==t)r=P._createOn(e);else{if(void 0===t)throw new A.a("model-selection-setto-required-second-parameter",[this,e]);r=new P(T._createAt(e,t))}this._setRanges([r],n)}else{if(!_n(e))throw new A.a("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,t&&!!t.backward)}}},{key:"_setRanges",value:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=(e=Array.from(e)).some(function(t){if(t instanceof P)return n._ranges.every(function(e){return!e.isEqual(t)});throw new A.a("model-selection-set-ranges-not-range",[n,e])});if(e.length!==this._ranges.length||r){this._removeAllRanges();var i,o=bE(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;this._pushRange(a)}}catch(e){o.e(e)}finally{o.f()}this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new A.a("model-selection-setfocus-no-ranges",[this,e]);e=T._createAt(e,t);"same"!=e.compareWith(this.focus)&&(t=this.anchor,this._ranges.length&&this._popRange(),"before"==e.compareWith(t)?(this._pushRange(new P(e,t)),this._lastRangeBackward=!0):(this._pushRange(new P(t,e)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0}))}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return"selection"===e||"model:selection"===e}},{key:"getSelectedBlocks",value:regeneratorRuntime.mark(function e(){var r,i,o,a,s,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new WeakSet,i=bE(this.getRanges()),e.prev=2,i.s();case 4:if((s=i.n()).done)e.next=38;else{if(s=bs((o=s.value).start,r),e.t0=s&&_s(s,o),e.t0)return e.next=11,s;e.next=11}break;case 11:a=bE(o.getWalker()),e.prev=12,a.s();case 14:if((s=a.n()).done)e.next=23;else{if(l=(c=s.value).item,e.t1="elementEnd"==c.type&&(n=o,ks(t=l,r))&&_s(t,n),e.t1)return e.next=21,l;e.next=21}break;case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t2=e.catch(12),a.e(e.t2);case 28:return e.prev=28,a.f(),e.finish(28);case 31:if(c=bs(o.end,r),e.t3=c&&!o.end.isTouching(T._createAt(c,0))&&_s(c,o),e.t3)return e.next=36,c;e.next=36;break;case 36:e.next=4;break;case 38:e.next=43;break;case 40:e.prev=40,e.t4=e.catch(2),i.e(e.t4);case 43:return e.prev=43,i.f(),e.finish(43);case 46:case"end":return e.stop()}var t,n},e,this,[[2,40,43,46],[12,25,28,31]])})},{key:"containsEntireContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=T._createAt(e,0),e=T._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&e.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new P(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new A.a("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}},{key:"_removeAllRanges",value:function(){for(;0<this._ranges.length;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}},{key:"anchor",get:function(){var e;return 0<this._ranges.length?(e=this._ranges[this._ranges.length-1],this._lastRangeBackward?e.end:e.start):null}},{key:"focus",get:function(){var e;return 0<this._ranges.length?(e=this._ranges[this._ranges.length-1],this._lastRangeBackward?e.start:e.end):null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}}]);var ms=ys;function ys(e,t,n){wE(this,ys),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,t,n)}function ks(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e))&&e.parent}function bs(e,t){var n=e.parent.root.document.model.schema,e=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),r=!1,i=e.find(function(e){return!r&&!(r=n.isLimit(e))&&ks(e,t)});return e.forEach(function(e){return t.add(e)}),i}function _s(n,e){var t=(()=>{for(var e=n.root.document.model.schema,t=n.parent;t;){if(e.isBlock(t))return t;t=t.parent}})();return!t||!e.containsRange(P._createOn(t),!0)}o(ms,c);xE(xs,P),ws=SE(xs),CE(xs,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e}},{key:"toRange",value:function(){return new P(this.start,this.end)}}],[{key:"fromRange",value:function(e){return new xs(e.start,e.end)}}]);var ws,Cs=xs;function xs(e,t){return wE(this,xs),e=ws.call(this,e,t),function(){var n=this;this.listenTo(this.root.document.model,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&function(e){var t=this.getTransformedByOperation(e),t=P._createFromRanges(t),n=!t.isEqual(this),r=((e,t)=>{switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1})(this,e),i=null;n?("$graveyard"==t.root.rootName&&(i="remove"==e.type?e.sourcePosition:e.deletionPosition),n=this.toRange(),this.start=t.start,this.end=t.end,this.fire("change:range",n,{deletionPosition:i})):r&&this.fire("change:content",this.toRange(),{deletionPosition:i})}.call(n,t)},{priority:"low"})}.call(TE(e)),e}o(Cs,c);CE(Es,[{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"observeMarkers",value:function(e){this._selection.observeMarkers(e)}},{key:"is",value:function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setAttribute",value:function(e,t){this._selection.setAttribute(e,t)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}}],[{key:"_getStoreAttributeKey",value:function(e){return"selection:"+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith("selection:")}}]);var Ss=Es;function Es(e){wE(this,Es),this._selection=new As(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}o(Ss,c);xE(Ps,ms),Ts=SE(Ps),CE(Ps,[{key:"destroy",value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:"getRanges",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._ranges.length)return e.delegateYield(yE(RE(Ps.prototype),"getRanges",this).call(this),"t0",2);e.next=4;break;case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case"end":return e.stop()}},e,this)})},{key:"getFirstRange",value:function(){return yE(RE(Ps.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return yE(RE(Ps.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(e,t,n){yE(RE(Ps.prototype),"setTo",this).call(this,e,t,n),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(e,t){yE(RE(Ps.prototype),"setFocus",this).call(this,e,t),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(e,t){this._setAttribute(e,t)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}},{key:"removeAttribute",value:function(e){this._removeAttribute(e)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}},{key:"overrideGravity",value:function(){var e=U();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}},{key:"restoreGravity",value:function(e){if(!this._overriddenGravityRegister.has(e))throw new A.a("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"observeMarkers",value:function(e){this._observedMarkers.add(e),this._updateMarkers()}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(e){e=this._prepareRange(e);e&&this._ranges.push(e)}},{key:"_prepareRange",value:function(e){var r,i=this;if(this._checkRange(e),e.root!=this._document.graveyard)return(r=Cs.fromRange(e)).on("change:range",function(e,t,n){i._hasChangedRange=!0,r.root==i._document.graveyard&&(i._selectionRestorePosition=n.deletionPosition,n=i._ranges.indexOf(r),i._ranges.splice(n,1),r.detach())}),r}},{key:"_updateMarkers",value:function(){if(this._observedMarkers.size){var e,t=[],n=!1,r=bE(this._model.markers);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.name.split(":",1)[0];if(this._observedMarkers.has(o)){var a,s=i.getRange(),l=bE(this.getRanges());try{for(l.s();!(a=l.n()).done;){var c=a.value;s.containsRange(c,!c.isCollapsed)&&t.push(i)}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){r.e(e)}finally{r.f()}for(var u=Array.from(this.markers),h=0,d=t;h<d.length;h++){var f=d[h];this.markers.has(f)||(this.markers.add(f),n=!0)}for(var p=0,g=Array.from(this.markers);p<g.length;p++){var v=g[p];t.includes(v)||(this.markers.remove(v),n=!0)}n&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}}},{key:"_updateMarker",value:function(e,t){var n=e.name.split(":",1)[0];if(this._observedMarkers.has(n)){var n=!1,r=Array.from(this.markers),i=this.markers.has(e);if(t){var o,a=!1,s=bE(this.getRanges());try{for(s.s();!(o=s.n()).done;){var l=o.value;if(t.containsRange(l,!l.isCollapsed)){a=!0;break}}}catch(e){s.e(e)}finally{s.f()}a&&!i?(this.markers.add(e),n=!0):!a&&i&&(this.markers.remove(e),n=!0)}else i&&(this.markers.remove(e),n=!0);n&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}}},{key:"_updateAttributes",value:function(e){var t=Bn(this._getSurroundingAttributes()),n=Bn(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var r,i=bE(this._attributePriority);try{for(i.s();!(r=i.n()).done;){var o=kE(r.value,2),a=o[0];"low"==o[1]&&(this._attrs.delete(a),this._attributePriority.delete(a))}}catch(e){i.e(e)}finally{i.f()}}this._setAttributesTo(t);var s,l=[],c=bE(this.getAttributes());try{for(c.s();!(s=c.n()).done;){var u=kE(s.value,2),h=u[0],d=u[1];n.has(h)&&n.get(h)===d||l.push(h)}}catch(e){c.e(e)}finally{c.f()}var f,p=bE(n);try{for(p.s();!(f=p.n()).done;){var g=kE(f.value,1)[0];this.hasAttribute(g)||l.push(g)}}catch(e){p.e(e)}finally{p.f()}0<l.length&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}},{key:"_setAttribute",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(e))&&yE(RE(Ps.prototype),"getAttribute",this).call(this,e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,n),!0)}},{key:"_removeAttribute",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1]?"normal":"low";return!("low"==t&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,t),!yE(RE(Ps.prototype),"hasAttribute",this).call(this,e))||(this._attrs.delete(e),0))}},{key:"_setAttributesTo",value:function(e){var t,n=new Set,r=bE(this.getAttributes());try{for(r.s();!(t=r.n()).done;){var i=kE(t.value,2),o=i[0],a=i[1];e.get(o)!==a&&this._removeAttribute(o,!1)}}catch(e){r.e(e)}finally{r.f()}var s,l=bE(e);try{for(l.s();!(s=l.n()).done;){var c=kE(s.value,2),u=c[0],h=c[1];this._setAttribute(u,h,!1)&&n.add(u)}}catch(e){l.e(e)}finally{l.f()}return n}},{key:"_getStoredAttributes",value:regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!this.isCollapsed||!t.isEmpty){e.next=21;break}n=bE(t.getAttributeKeys()),e.prev=3,n.s();case 5:if((r=n.n()).done)e.next=13;else{if((r=r.value).startsWith("selection:"))return i=r.substr("selection:".length),e.next=11,[i,t.getAttribute(r)];e.next=11}break;case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[3,15,18,21]])})},{key:"_getSurroundingAttributes",value:function(){var e=this.getFirstPosition(),t=this._model.schema,n=null;if(this.isCollapsed){var r=e.textNode||e.nodeBefore,e=e.textNode||e.nodeAfter,n=(n=this.isGravityOverridden?n:Rs(r))||Rs(e);if(!this.isGravityOverridden&&!n)for(var i=r;i&&!t.isInline(i)&&!n;)n=Rs(i=i.previousSibling);if(!n)for(var o=e;o&&!t.isInline(o)&&!n;)n=Rs(o=o.nextSibling);n=n||this._getStoredAttributes()}else{var a,s=bE(this.getFirstRange());try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.item.is("element")&&t.isObject(l.item))break;if("text"==l.type){n=l.item.getAttributes();break}}}catch(e){s.e(e)}finally{s.f()}}return n}},{key:"_fixGraveyardSelection",value:function(e){e=this._model.schema.getNearestSelectionRange(e);e&&this._pushRange(e)}},{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:yE(RE(Ps.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return yE(RE(Ps.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return yE(RE(Ps.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length||1}},{key:"hasOwnRange",get:function(){return 0<this._ranges.length}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}}]);var Ts,As=Ps;function Ps(e){var a;return wE(this,Ps),(a=Ts.call(this)).markers=new wn({idProperty:"name"}),a._model=e.model,a._document=e,a._attributePriority=new Map,a._selectionRestorePosition=null,a._hasChangedRange=!1,a._overriddenGravityRegister=new Set,a._observedMarkers=new Set,a.listenTo(a._model,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&"marker"!=t.type&&"rename"!=t.type&&"noop"!=t.type&&(0==a._ranges.length&&a._selectionRestorePosition&&a._fixGraveyardSelection(a._selectionRestorePosition),a._selectionRestorePosition=null,a._hasChangedRange)&&(a._hasChangedRange=!1,a.fire("change:range",{directChange:!1}))},{priority:"lowest"}),a.on("change:range",function(){var e,t=bE(a.getRanges());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!a._document._validateSelectionRange(n))throw new A.a("document-selection-wrong-position",TE(a),{range:n})}}catch(e){t.e(e)}finally{t.f()}}),a.listenTo(a._model.markers,"update",function(e,t,n,r){a._updateMarker(t,r)}),a.listenTo(a._document,"change",function(e,t){var n,r=a._model,o=t,i=bE(r.document.differ.getChanges());try{for(i.s();!(n=i.n()).done;)(()=>{var e=n.value;if("insert"!=e.type)return;var i=e.position.parent;e.length===i.maxOffset&&r.enqueueChange(o,function(e){var t,n=bE(Array.from(i.getAttributeKeys()).filter(function(e){return e.startsWith("selection:")}));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.removeAttribute(r,i)}}catch(e){n.e(e)}finally{n.f()}})})()}catch(e){i.e(e)}finally{i.f()}}),a}function Rs(e){return e instanceof Za||e instanceof m?e.getAttributes():null}function Is(e){return pn(e,5)}CE(Ls,[{key:"add",value:function(e){var t,n=bE(this._dispatchers);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(e){n.e(e)}finally{n.f()}return this}}]);var Os,t=Ls,Ms=(xE(Ns,t),Os=SE(Ns),CE(Ns,[{key:"elementToElement",value:function(e){return this.add(((l=Is(l=e)).view=Fs(l.view,"container"),function(e){var o;if(e.on("insert:"+l.model,(o=l.view,function(e,t,n){var r,i=o(t.item,n);i&&n.consumable.consume(t.item,"insert")&&(r=n.mapper.toViewPosition(t.range.start),n.mapper.bindElements(t.item,i),n.writer.insert(r,i))}),{priority:l.converterPriority||"normal"}),l.triggerBy){if(l.triggerBy.attributes){var t,n=bE(l.triggerBy.attributes);try{for(n.s();!(t=n.n()).done;){var r=t.value;e._mapReconversionTriggerEvent(l.model,"attribute:".concat(r,":").concat(l.model))}}catch(e){n.e(e)}finally{n.f()}}if(l.triggerBy.children){var i,a=bE(l.triggerBy.children);try{for(a.s();!(i=a.n()).done;){var s=i.value;e._mapReconversionTriggerEvent(l.model,"insert:"+s),e._mapReconversionTriggerEvent(l.model,"remove:"+s)}}catch(e){a.e(e)}finally{a.f()}}}}));var l}},{key:"attributeToElement",value:function(e){return this.add((t=>{var n="attribute:"+((t=Is(t)).model.key?t.model.key:t.model);if(t.model.name&&(n+=":"+t.model.name),t.model.values){var e,r=bE(t.model.values);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.view[i]=Fs(t.view[i],"attribute")}}catch(e){r.e(e)}finally{r.f()}}else t.view=Fs(t.view,"attribute");var a=Vs(t);return function(e){var o;e.on(n,(o=a,function(e,t,n){var r=o(t.attributeOldValue,n),i=o(t.attributeNewValue,n);(r||i)&&n.consumable.consume(t.item,e.name)&&(e=n.writer,t.item instanceof ms||t.item instanceof Ss?e.wrap(e.document.selection.getFirstRange(),i):(n=n.mapper.toViewRange(t.range),null!==t.attributeOldValue&&r&&(n=e.unwrap(n,r)),null!==t.attributeNewValue&&i&&e.wrap(n,i)))}),{priority:t.converterPriority||"normal"})}})(e))}},{key:"attributeToAttribute",value:function(e){return this.add((t=>{var n="attribute:"+((t=Is(t)).model.key?t.model.key:t.model);if(t.model.name&&(n+=":"+t.model.name),t.model.values){var e,r=bE(t.model.values);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.view[i]=zs(t.view[i])}}catch(e){r.e(e)}finally{r.f()}}else t.view=zs(t.view);var o=Vs(t);return function(e){var k;e.on(n,(k=o,function(e,t,n){var r=k(t.attributeOldValue,n),i=k(t.attributeNewValue,n);if((r||i)&&n.consumable.consume(t.item,e.name)){var o=n.mapper.toViewElement(t.item),a=n.writer;if(!o)throw new A.a("conversion-attribute-to-attribute-on-text",[t,n]);if(null!==t.attributeOldValue&&r)if("class"==r.key){var s,l=bE(b(r.value));try{for(l.s();!(s=l.n()).done;){var c=s.value;a.removeClass(c,o)}}catch(e){l.e(e)}finally{l.f()}}else if("style"==r.key)for(var u=0,h=Object.keys(r.value);u<h.length;u++){var d=h[u];a.removeStyle(d,o)}else a.removeAttribute(r.key,o);if(null!==t.attributeNewValue&&i)if("class"==i.key){var f,p=bE(b(i.value));try{for(p.s();!(f=p.n()).done;){var g=f.value;a.addClass(g,o)}}catch(e){p.e(e)}finally{p.f()}}else if("style"==i.key)for(var v=0,m=Object.keys(i.value);v<m.length;v++){var y=m[v];a.setStyle(y,i.value[y],o)}else a.setAttribute(i.key,i.value,o)}}),{priority:t.converterPriority||"normal"})}})(e))}},{key:"markerToElement",value:function(e){return this.add(((t=Is(t=e)).view=Fs(t.view,"ui"),function(e){var h;e.on("addMarker:"+t.model,(h=t.view,function(e,t,n){t.isOpening=!0;var r=h(t,n),i=(t.isOpening=!1,h(t,n));if(r&&i){var o=t.markerRange;if(!o.isCollapsed||n.consumable.consume(o,e.name)){var a,s=bE(o);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(!n.consumable.consume(l.item,e.name))return}}catch(e){s.e(e)}finally{s.f()}var c=n.mapper,u=n.writer;u.insert(c.toViewPosition(o.start),r),n.mapper.bindElementToMarker(r,t.markerName),o.isCollapsed||(u.insert(c.toViewPosition(o.end),i),n.mapper.bindElementToMarker(i,t.markerName)),e.stop()}}}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(e,t,n){var r=n.mapper.markerNameToElements(t.markerName);if(r){var i,o=bE(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.mapper.unbindElementFromMarkerName(a,t.markerName),n.writer.clear(n.writer.createRangeOn(a),a)}}catch(e){o.e(e)}finally{o.f()}n.writer.clearClonedElementsGroup(t.markerName),e.stop()}},{priority:t.converterPriority||"normal"})}));var t}},{key:"markerToHighlight",value:function(e){return this.add((t=e,function(e){var l,c,u;e.on("addMarker:"+t.model,(l=t.view,function(e,t,n){if(t.item&&(t.item instanceof ms||t.item instanceof Ss||t.item.is("$textProxy"))){var r=Bs(l,t,n);if(r&&n.consumable.consume(t.item,e.name)){var e=n.writer,i=js(e,r),r=e.document.selection;if(t.item instanceof ms||t.item instanceof Ss)e.wrap(r.getFirstRange(),i,r);else{var o,r=n.mapper.toViewRange(t.range),a=bE(e.wrap(r,i).getItems());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.is("attributeElement")&&s.isSimilar(i)){n.mapper.bindElementToMarker(s,t.markerName);break}}}catch(e){a.e(e)}finally{a.f()}}}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,(u=t.view,function(e,t,n){if(t.item&&t.item instanceof y){var r=Bs(u,t,n);if(r&&n.consumable.test(t.item,e.name)){var i=n.mapper.toViewElement(t.item);if(i&&i.getCustomProperty("addHighlight")){n.consumable.consume(t.item,e.name);var o,a=bE(P._createIn(t.item));try{for(a.s();!(o=a.n()).done;){var s=o.value;n.consumable.consume(s.item,e.name)}}catch(e){a.e(e)}finally{a.f()}i.getCustomProperty("addHighlight")(i,r,n.writer),n.mapper.bindElementToMarker(i,t.markerName)}}}}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(c=t.view,function(e,t,n){if(!t.markerRange.isCollapsed){var r=Bs(c,t,n);if(r){var i=js(n.writer,r),o=n.mapper.markerNameToElements(t.markerName);if(o){var a,s=bE(o);try{for(s.s();!(a=s.n()).done;){var l=a.value;n.mapper.unbindElementFromMarkerName(l,t.markerName),l.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(l),i):l.getCustomProperty("removeHighlight")(l,r.id,n.writer)}}catch(e){s.e(e)}finally{s.f()}n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}}),{priority:t.converterPriority||"normal"})}));var t}},{key:"markerToData",value:function(e){return this.add((n=(t=Is(t=e)).model,t.view||(t.view=function(e){return{group:n,name:e.substr(t.model.length+1)}}),function(e){var o,c;e.on("addMarker:"+n,(o=t.view,function(e,t,n){var r,i=o(t.markerName,n);i&&(r=t.markerRange,n.consumable.consume(r,e.name))&&(Ds(r,!1,n,t,i),Ds(r,!0,n,t,i),e.stop())}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+n,(c=t.view,function(e,t,r){var i=c(t.markerName,r);if(i){var n=r.mapper.markerNameToElements(t.markerName);if(n){var o,a=bE(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;r.mapper.unbindElementFromMarkerName(s,t.markerName),s.is("containerElement")?(l("data-".concat(i.group,"-start-before"),s),l("data-".concat(i.group,"-start-after"),s),l("data-".concat(i.group,"-end-before"),s),l("data-".concat(i.group,"-end-after"),s)):r.writer.clear(r.writer.createRangeOn(s),s)}}catch(e){a.e(e)}finally{a.f()}r.writer.clearClonedElementsGroup(t.markerName),e.stop()}}function l(e,t){var n;t.hasAttribute(e)&&((n=new Set(t.getAttribute(e).split(","))).delete(i.name),0==n.size?r.writer.removeAttribute(e,t):r.writer.setAttribute(e,Array.from(n).join(","),t))}}),{priority:t.converterPriority||"normal"})}));var t,n}}]),Ns);function Ns(){return wE(this,Ns),Os.apply(this,arguments)}function Ls(e){wE(this,Ls),this._dispatchers=e}function js(e,t){e=e.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),"number"==typeof t.priority&&(e._priority=t.priority),e._id=t.id,e}function Ds(e,t,n,r,i){var e=t?e.start:e.end,o=e.nodeAfter&&e.nodeAfter.is("element")?e.nodeAfter:null,a=e.nodeBefore&&e.nodeBefore.is("element")?e.nodeBefore:null;if(o||a){o=t&&o||!t&&!a?(s=o,!0):(s=a,!1),a=n.mapper.toViewElement(s);if(a){var s=a;a=t;var l=n;var c=r;var u=i;a="data-".concat(u.group,"-").concat(a?"start":"end","-").concat(o?"before":"after"),(o=s.hasAttribute(a)?s.getAttribute(a).split(","):[]).unshift(u.name),l.writer.setAttribute(a,o.join(","),s),l.mapper.bindElementToMarker(s,c.markerName);return}}u=n.mapper.toViewPosition(e),a=t,o=n,l=r,c=i;a=o.writer.createUIElement("".concat(c.group,"-").concat(a?"start":"end"),c.name?{name:c.name}:null),o.writer.insert(u,a),o.mapper.bindElementToMarker(a,l.markerName)}function Fs(d,f){return"function"==typeof d?d:function(e,t){var n=d,r=f,i=("string"==typeof n&&(n={name:n}),t.writer),t=Object.assign({},n.attributes),o="container"==r?i.createContainerElement(n.name,t):"attribute"==r?i.createAttributeElement(n.name,t,{priority:n.priority||Qr.DEFAULT_PRIORITY}):i.createUIElement(n.name,t);if(n.styles)for(var a=0,s=Object.keys(n.styles);a<s.length;a++){var l=s[a];i.setStyle(l,n.styles[l],o)}if(n.classes){r=n.classes;if("string"==typeof r)i.addClass(r,o);else{var c,u=bE(r);try{for(u.s();!(c=u.n()).done;){var h=c.value;i.addClass(h,o)}}catch(e){u.e(e)}finally{u.f()}}}return o}}function Vs(r){return r.model.values?function(e,t){var n=r.view[e];return n?n(e,t):null}:r.view}function zs(t){return"string"==typeof t?function(e){return{key:t,value:e}}:"object"==typeof t?t.value?function(){return t}:function(e){return{key:t.key,value:e}}:t}function Bs(e,t,n){n="function"==typeof e?e(t,n):e;return n?(n.priority||(n.priority=10),n.id||(n.id=t.markerName),n):null}function Hs(e){var t,n=e.model,r=n.schema,i=n.document,o=bE(i.getRootNames());try{for(o.s();!(t=o.n()).done;){var a=t.value,s=i.getRoot(a);if(s.isEmpty&&!r.checkChild(s,"$text")&&r.checkChild(s,"paragraph"))return e.insertElement("paragraph",s),!0}}catch(e){o.e(e)}finally{o.f()}return!1}function Us(e,t,n){e=n.createContext(e);return n.checkChild(e,"paragraph")&&n.checkChild(e.push("paragraph"),t)}function qs(e,t){var n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}xE(Ks,t),Ws=SE(Ks),CE(Ks,[{key:"elementToElement",value:function(e){return this.add(Gs(e))}},{key:"elementToAttribute",value:function(e){return this.add((Qs(t=Is(e)),n=Ys(t,!1),e=Zs(t.view),r=e?"element:"+e:"element",function(e){e.on(r,n,{priority:t.converterPriority||"low"})}));var t,n,r}},{key:"attributeToAttribute",value:function(e){return this.add((i=null,"string"!=typeof(t=Is(e)).view&&!t.view.key||("string"==typeof(e=t).view&&(e.view={key:e.view}),n=e.view.key,r="class"==n||"style"==n?mE({},"class"==n?"classes":"styles",e.view.value):{attributes:mE({},n,void 0===e.view.value?/[\s\S]*/:e.view.value)},e.view.name&&(r.name=e.view.name),e.view=r,i=n),Qs(t,i),o=Ys(t,!0),function(e){e.on("element",o,{priority:t.converterPriority||"low"})}));var t,n,r,i,o}},{key:"elementToMarker",value:function(e){return Object(A.b)("upcast-helpers-element-to-marker-deprecated"),this.add((e=Is(e),n=e.model,e.model=function(e,t){e="string"==typeof n?n:n(e,t);return t.writer.createElement("$marker",{"data-name":e})},Gs(e)));var n}},{key:"dataToMarker",value:function(e){return this.add(((r=Is(r=e)).model||(r.model=function(e){return e?r.view+":"+e:r.view}),i=Js(Xs(r,"start")),o=Js(Xs(r,"end")),function(e){e.on("element:"+r.view+"-start",i,{priority:r.converterPriority||"normal"}),e.on("element:"+r.view+"-end",o,{priority:r.converterPriority||"normal"});var c,t=q.get("low"),n=q.get("highest"),n=q.get(r.converterPriority)/n;e.on("element",(c=r,function(e,s,l){var t="data-"+c.view;function n(e,t){var n,r=bE(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=c.model(i,l),a=l.writer.createElement("$marker",{"data-name":o});l.writer.insert(a,e),s.modelCursor=s.modelCursor.isEqual(e)?s.modelCursor.getShiftedBy(1):s.modelCursor._getTransformedByInsertion(e,1),s.modelRange=s.modelRange._getTransformedByInsertion(e,1)[0]}}catch(e){r.e(e)}finally{r.f()}}(l.consumable.test(s.viewItem,{attributes:t+"-end-after"})||l.consumable.test(s.viewItem,{attributes:t+"-start-after"})||l.consumable.test(s.viewItem,{attributes:t+"-end-before"})||l.consumable.test(s.viewItem,{attributes:t+"-start-before"}))&&(s.modelRange||Object.assign(s,l.convertChildren(s.viewItem,s.modelCursor)),l.consumable.consume(s.viewItem,{attributes:t+"-end-after"})&&n(s.modelRange.end,s.viewItem.getAttribute(t+"-end-after").split(",")),l.consumable.consume(s.viewItem,{attributes:t+"-start-after"})&&n(s.modelRange.end,s.viewItem.getAttribute(t+"-start-after").split(",")),l.consumable.consume(s.viewItem,{attributes:t+"-end-before"})&&n(s.modelRange.start,s.viewItem.getAttribute(t+"-end-before").split(",")),l.consumable.consume(s.viewItem,{attributes:t+"-start-before"}))&&n(s.modelRange.start,s.viewItem.getAttribute(t+"-start-before").split(","))}),{priority:t+n})}));var r,i,o}}]);var Ws,$s=Ks;function Ks(){return wE(this,Ks),Ws.apply(this,arguments)}function Gs(t){var n=Js(t=Is(t)),e=Zs(t.view),r=e?"element:"+e:"element";return function(e){e.on(r,n,{priority:t.converterPriority||"normal"})}}function Zs(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function Js(s){var l=new Hn(s.view);return function(e,t,n){var r,i,o,a=l.match(t.viewItem);a&&((a=a.match).name=!0,n.consumable.test(t.viewItem,a))&&(r=s.model,i=t.viewItem,o=n,i=r instanceof Function?r(i,o):o.writer.createElement(r))&&n.safeInsert(i,t.modelCursor)&&(n.consumable.consume(t.viewItem,a),n.convertChildren(t.viewItem,i),n.updateConversionResult(i,t))}}function Qs(e,t){var n=1<arguments.length&&void 0!==t?t:null;e.model={key:"object"!=typeof e.model?e.model:e.model.key,value:"object"!=typeof e.model||void 0===e.model.value?null===n||function(e){return e.getAttribute(n)}:e.model.value}}function Ys(a,s){var l=new Hn(a.view);return function(e,t,n){var r,i,o=l.match(t.viewItem);o&&(((e,t)=>!("object"==typeof(t="function"==typeof e?e(t):e)&&!Zs(t)||t.classes||t.attributes||t.styles))(a.view,t.viewItem)?o.match.name=!0:delete o.match.name,n.consumable.test(t.viewItem,o.match))&&(r=a.model.key,null!==(i="function"==typeof a.model.value?a.model.value(t.viewItem,n):a.model.value)&&(t.modelRange||Object.assign(t,n.convertChildren(t.viewItem,t.modelCursor)),((e,t,n)=>{for(var r=!1,i=0,o=Array.from(e.getItems({shallow:s}));i<o.length;i++){var a=o[i];n.schema.checkAttribute(a,t.key)&&(r=!0,a.hasAttribute(t.key)||n.writer.setAttribute(t.key,t.value,a))}return r})(t.modelRange,{key:r,value:i},n))&&n.consumable.consume(t.viewItem,o.match))}}function Xs(n,e){var t={};return t.view=n.view+"-"+e,t.model=function(e,t){e=e.getAttribute("name"),e=n.model(e,t);return t.writer.createElement("$marker",{"data-name":e})},t}CE(tl,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]);var el=tl;function tl(e,t){var s,l,n=this,r=(wE(this,tl),this.model=e,this.view=new qa(t),this.mapper=new cs,this.downcastDispatcher=new ps({mapper:this.mapper,schema:e.schema}),this.model.document),i=r.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",function(){n.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",function(){n.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",function(){n.view.change(function(e){n.downcastDispatcher.convertChanges(r.differ,o,e),n.downcastDispatcher.convertSelection(i,o,e)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(s=this.model,l=this.mapper,function(e,t){var n,t=t.newSelection,r=[],i=bE(t.getRanges());try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(l.toModelRange(o))}}catch(e){i.e(e)}finally{i.f()}var a=s.createSelection(r,{backward:t.isBackward});a.isEqual(s.document.selection)||s.change(function(e){e.setSelection(a)})})),this.downcastDispatcher.on("insert:$text",function(e,t,n){var r;n.consumable.consume(t.item,"insert")&&(r=n.writer,n=n.mapper.toViewPosition(t.range.start),t=r.createText(t.item.data),r.insert(n,t))},{priority:"lowest"}),this.downcastDispatcher.on("remove",function(e,t,n){var r,i=n.mapper.toViewPosition(t.position),t=t.position.getShiftedBy(t.length),t=n.mapper.toViewPosition(t,{isPhantom:!0}),i=n.writer.createRange(i,t),t=n.writer.remove(i.getTrimmed()),o=bE(n.writer.createRangeIn(t).getItems());try{for(o.s();!(r=o.n()).done;){var a=r.value;n.mapper.unbindViewElement(a)}}catch(e){o.e(e)}finally{o.f()}},{priority:"low"}),this.downcastDispatcher.on("selection",function(e,t,n){var r,i=n.writer,o=bE(i.document.selection.getRanges());try{for(o.s();!(r=o.n()).done;){var a=r.value;a.isCollapsed&&a.end.parent.isAttached()&&n.writer.mergeAttributes(a.start)}}catch(e){o.e(e)}finally{o.f()}i.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",function(e,t,n){t=t.selection;if(!t.isCollapsed&&n.consumable.consume(t,"selection")){var r,i=[],o=bE(t.getRanges());try{for(o.s();!(r=o.n()).done;){var a=r.value,s=n.mapper.toViewRange(a);i.push(s)}}catch(e){o.e(e)}finally{o.f()}n.writer.setSelection(i,{backward:t.isBackward})}},{priority:"low"}),this.downcastDispatcher.on("selection",function(e,t,n){var r,t=t.selection;t.isCollapsed&&n.consumable.consume(t,"selection")&&(r=n.writer,t=t.getFirstPosition(),n=n.mapper.toViewPosition(t),t=r.breakAttributes(n),r.setSelection(t))},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(function(e){var t;return"$graveyard"==e.rootName?null:((t=new Ar(n.view.document,e.name)).rootName=e.rootName,n.mapper.bindElements(e,t),t)})}o(el,i);CE(cl,[{key:"add",value:function(e,t){this._commands.set(e,t)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var t=this.get(e);if(!t)throw new A.a("commandcollection-command-not-found",this,{commandName:e});for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.execute.apply(t,r)}},{key:"names",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"commands",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e,t=bE(this.commands());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}}}]);var nl=cl,rl=(CE(ll,[{key:"add",value:function(e,t){var n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new il(e),this._consumables.set(e,n)),n.add(t))}},{key:"test",value:function(e,t){var n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}},{key:"consume",value:function(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:"revert",value:function(e,t){var n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}}],[{key:"consumablesFromElement",value:function(e){var t,n={element:e,name:!0,attributes:[],classes:[],styles:[]},r=bE(e.getAttributeKeys());try{for(r.s();!(t=r.n()).done;){var i=t.value;"style"!=i&&"class"!=i&&n.attributes.push(i)}}catch(e){r.e(e)}finally{r.f()}var o,a=bE(e.getClassNames());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.classes.push(s)}}catch(e){a.e(e)}finally{a.f()}var l,c=bE(e.getStyleNames());try{for(c.s();!(l=c.n()).done;){var u=l.value;n.styles.push(u)}}catch(e){c.e(e)}finally{c.f()}return n}},{key:"createFrom",value:function(e,t){if(t=t||new ll,e.is("$text"))t.add(e);else{e.is("element")&&t.add(e,ll.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);var n,r=bE(e.getChildren());try{for(r.s();!(n=r.n()).done;)t=ll.createFrom(n.value,t)}catch(e){r.e(e)}finally{r.f()}}return t}}]),ll),il=(CE(sl,[{key:"add",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var t in this._consumables)if(t in e){t=this._test(t,e[t]);if(!0!==t)return t}return!0}},{key:"consume",value:function(e){for(var t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}},{key:"revert",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}},{key:"_add",value:function(e,t){var n,t=De(t)?t:[t],r=this._consumables[e],i=bE(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("attributes"===e&&("class"===o||"style"===o))throw new A.a("viewconsumable-invalid-attribute",this);if(r.set(o,!0),"styles"===e){var a,s=bE(this.element.document.stylesProcessor.getRelatedStyles(o));try{for(s.s();!(a=s.n()).done;){var l=a.value;r.set(l,!0)}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){i.e(e)}finally{i.f()}}},{key:"_test",value:function(e,t){var n,t=De(t)?t:[t],r=this._consumables[e],i=bE(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("attributes"!==e||"class"!==o&&"style"!==o){var a=r.get(o);if(void 0===a)return null;if(!a)return!1}else{var s="class"==o?"classes":"styles",l=this._test(s,_E(this._consumables[s].keys()));if(!0!==l)return l}}}catch(e){i.e(e)}finally{i.f()}return!0}},{key:"_consume",value:function(e,t){var n,t=De(t)?t:[t],r=this._consumables[e],i=bE(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("attributes"!==e||"class"!==o&&"style"!==o){if(r.set(o,!1),"styles"==e){var a,s=bE(this.element.document.stylesProcessor.getRelatedStyles(o));try{for(s.s();!(a=s.n()).done;){var l=a.value;r.set(l,!1)}}catch(e){s.e(e)}finally{s.f()}}}else{var c="class"==o?"classes":"styles";this._consume(c,_E(this._consumables[c].keys()))}}}catch(e){i.e(e)}finally{i.f()}}},{key:"_revert",value:function(e,t){var n,t=De(t)?t:[t],r=this._consumables[e],i=bE(t);try{for(i.s();!(n=i.n()).done;){var o,a=n.value;"attributes"!==e||"class"!==a&&"style"!==a?!1===r.get(a)&&r.set(a,!0):(o="class"==a?"classes":"styles",this._revert(o,_E(this._consumables[o].keys())))}}catch(e){i.e(e)}finally{i.f()}}}]),sl),ol=(CE(al,[{key:"register",value:function(e,t){if(this._sourceDefinitions[e])throw new A.a("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}},{key:"extend",value:function(e,t){if(!this._sourceDefinitions[e])throw new A.a("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){e="string"==typeof e?e:e.is&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name;return this.getDefinitions()[e]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){e=this.getDefinition(e);return!(!e||!e.isBlock)}},{key:"isLimit",value:function(e){e=this.getDefinition(e);return!(!e||!e.isLimit&&!e.isObject)}},{key:"isObject",value:function(e){e=this.getDefinition(e);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}},{key:"isInline",value:function(e){e=this.getDefinition(e);return!(!e||!e.isInline)}},{key:"isSelectable",value:function(e){e=this.getDefinition(e);return!(!e||!e.isSelectable&&!e.isObject)}},{key:"isContent",value:function(e){e=this.getDefinition(e);return!(!e||!e.isContent&&!e.isObject)}},{key:"checkChild",value:function(e,t){return!!t&&this._checkContextMatch(t,e)}},{key:"checkAttribute",value:function(e,t){e=this.getDefinition(e.last);return!!e&&e.allowAttributes.includes(t)}},{key:"checkMerge",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof T){var n=e.nodeBefore,r=e.nodeAfter;if(!(n instanceof y))throw new A.a("schema-check-merge-no-element-before",this);if(r instanceof y)return this.checkMerge(n,r);throw new A.a("schema-check-merge-no-element-after",this)}var i,o=bE(t.getChildren());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!this.checkChild(e,a))return!1}}catch(e){o.e(e)}finally{o.f()}return!0}},{key:"addChildCheck",value:function(r){this.on("checkChild",function(e,t){var t=kE(t,2),n=t[0],t=t[1];t&&"boolean"==typeof(n=r(n,t))&&(e.stop(),e.return=n)},{priority:"high"})}},{key:"addAttributeCheck",value:function(r){this.on("checkAttribute",function(e,t){var t=kE(t,2),n=t[0],n=r(n,t[1]);"boolean"==typeof n&&(e.stop(),e.return=n)},{priority:"high"})}},{key:"setAttributeProperties",value:function(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){for(var t=e instanceof T?e.parent:(e instanceof P?[e]:Array.from(e.getRanges())).reduce(function(e,t){t=t.getCommonAncestor();return e?e.getCommonAncestor(t,{includeSelf:!0}):t},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}},{key:"checkAttributeInSelection",value:function(e,t){var n;if(e.isCollapsed)return n=[].concat(_E(e.getFirstPosition().getAncestors()),[new m("",e.getAttributes())]),this.checkAttribute(n,t);var r,i=bE(e.getRanges());try{for(i.s();!(r=i.n()).done;){var o,a=bE(r.value);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(this.checkAttribute(s.item,t))return!0}}catch(e){a.e(e)}finally{a.f()}}}catch(e){i.e(e)}finally{i.f()}return!1}},{key:"getValidRanges",value:regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=bE(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=8;break}return r=r.value,e.delegateYield(r.getMinimalFlatRanges(),"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])})(t),r=bE(t),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=9;break}return i=i.value,e.delegateYield(this._getValidRangesForRange(i,n),"t0",7);case 7:e.next=4;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),r.e(e.t1);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[2,11,14,17]])})},{key:"getNearestSelectionRange",value:function(e){var t,n,r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(e,"$text"))return new P(e);var o=e.getAncestors().reverse().find(function(e){return r.isLimit(e)})||e.root;"both"!=i&&"backward"!=i||(t=new Qa({boundaries:P._createIn(o),startPosition:e,direction:"backward"})),"both"!=i&&"forward"!=i||(n=new Qa({boundaries:P._createIn(o),startPosition:e}));var a,s=bE(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!1;case 1:if(r){e.next=18;break}if(r=!0,!t){e.next=9;break}if(i=t.next(),e.t0=i.done,e.t0){e.next=9;break}return r=!1,e.next=9,{walker:t,value:i.value};case 9:if(!n){e.next=16;break}if(o=n.next(),e.t1=o.done,e.t1){e.next=16;break}return r=!1,e.next=16,{walker:n,value:o.value};case 16:e.next=1;break;case 18:case"end":return e.stop()}},e)})(t,n));try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.value;if(c.type==(l.walker==t?"elementEnd":"elementStart")&&this.isObject(c.item))return P._createOn(c.item);if(this.checkChild(c.nextPosition,"$text"))return new P(c.nextPosition)}}catch(e){s.e(e)}finally{s.f()}return null}},{key:"findAllowedParent",value:function(e,t){for(var n=e.parent;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,t){var n,r=bE(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is("$text"))pl(this,i,t);else{var o,a=bE(P._createIn(i).getPositions());try{for(a.s();!(o=a.n()).done;){var s=o.value;pl(this,s.nodeBefore||s.parent,t)}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){r.e(e)}finally{r.f()}}},{key:"createContext",value:function(e){return new ul(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},j=this._sourceDefinitions,t=Object.keys(j),n=0,D=t;n<D.length;n++){var r=D[n];e[r]=((e,t)=>{var n,r=t={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]},i=bE(e);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=bE(Object.keys(a).filter(function(e){return e.startsWith("is")}));try{for(s.s();!(o=s.n()).done;){var l=o.value;r[l]=a[l]}}catch(e){s.e(e)}finally{s.f()}}}catch(e){i.e(e)}finally{i.f()}dl(e,t,"allowIn"),dl(e,t,"allowContentOf"),dl(e,t,"allowWhere"),dl(e,t,"allowAttributes"),dl(e,t,"allowAttributesOf"),dl(e,t,"allowChildren"),dl(e,t,"inheritTypesFrom");var c,u=t,h=bE(e);try{for(h.s();!(c=h.n()).done;){var d=c.value.inheritAllFrom;d&&(u.allowContentOf.push(d),u.allowWhere.push(d),u.allowAttributesOf.push(d),u.inheritTypesFrom.push(d))}}catch(e){h.e(e)}finally{h.f()}return t})(j[r],r)}for(var i=0,F=t;i<F.length;i++){u=c=l=o=s=a=void 0;var o,a=e,s=F[i],l=a[s],c=bE(l.allowChildren);try{for(c.s();!(o=c.n()).done;){var u=a[o.value];u&&u.allowIn.push(s)}}catch(e){c.e(e)}finally{c.f()}l.allowChildren.length=0}for(var h=0,V=t;h<V.length;h++)((e,t)=>{var n,r=bE(e[t].allowContentOf);try{for(r.s();!(n=r.n()).done;){var i=n.value;e[i]&&((e,t)=>{var n,r=e[t];return n=e,Object.keys(n).map(function(e){return n[e]}).filter(function(e){return e.allowIn.includes(r.name)})})(e,i).forEach(function(e){e.allowIn.push(t)})}}catch(e){r.e(e)}finally{r.f()}delete e[t].allowContentOf})(e,V[h]);for(var d=0,z=t;d<z.length;d++){y=m=v=f=g=p=void 0;var f,p=e,g=z[d],v=bE(p[g].allowWhere);try{for(v.s();!(f=v.n()).done;){var m,y=p[f.value];y&&(m=p[g].allowIn).push.apply(m,_E(y.allowIn))}}catch(e){v.e(e)}finally{v.f()}delete p[g].allowWhere}for(var k=0,B=t;k<B.length;k++){var b,H=B[k],_=(S=x=C=b=w=_=void 0,e),w=H,C=bE(_[w].allowAttributesOf);try{for(C.s();!(b=C.n()).done;){var x,S=_[b.value];S&&(x=_[w].allowAttributes).push.apply(x,_E(S.allowAttributes))}}catch(e){C.e(e)}finally{C.f()}delete _[w].allowAttributesOf,M=O=I=R=P=A=E=U=T=void 0;var E,T=e,U=H,A=T[U],P=bE(A.inheritTypesFrom);try{for(P.s();!(E=P.n()).done;){var R=T[E.value];if(R){var I,O=bE(Object.keys(R).filter(function(e){return e.startsWith("is")}));try{for(O.s();!(I=O.n()).done;){var M=I.value;M in A||(A[M]=R[M])}}catch(e){O.e(e)}finally{O.f()}}}}catch(e){P.e(e)}finally{P.f()}delete A.inheritTypesFrom}for(var q=0,W=t;q<W.length;q++){var $,K=W[q],G=(((t,e)=>{var n=(e=t[e]).allowIn.filter(function(e){return t[e]});e.allowIn=Array.from(new Set(n))})(e,K),N=$=Z=G=void 0,e),Z=K,N=bE(G[Z].allowIn);try{for(N.s();!($=N.n()).done;)G[$.value].allowChildren.push(Z)}catch(e){N.e(e)}finally{N.f()}J=L=void 0;var L=e,J=K;(L=L[J]).allowAttributes=Array.from(new Set(L.allowAttributes))}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t.length-1,r=t.getItem(n);return!!e.allowIn.includes(r.name)&&(0==n||(e=this.getDefinition(r),this._checkContextMatch(e,t,n-1)))}},{key:"_getValidRangesForRange",value:regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.start,i=t.start,o=bE(t.getItems({shallow:!0})),e.prev=2,o.s();case 4:if((a=o.n()).done)e.next=19;else{if(s=a.value,e.t0=s.is("element"),e.t0)return e.delegateYield(this._getValidRangesForRange(P._createIn(s),n),"t1",9);e.next=9}break;case 9:if(e.t2=this.checkAttribute(s,n),e.t2){e.next=16;break}if(e.t3=r.isEqual(i),e.t3){e.next=15;break}return e.next=15,new P(r,i);case 15:r=T._createAfter(s);case 16:i=T._createAfter(s);case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t4=e.catch(2),o.e(e.t4);case 24:return e.prev=24,o.f(),e.finish(24);case 27:if(e.t5=r.isEqual(i),e.t5){e.next=31;break}return e.next=31,new P(r,i);case 31:case"end":return e.stop()}},e,this,[[2,21,24,27]])})}]),al);function al(){var n=this;wE(this,al),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",function(e,t){t[0]=new ul(t[0])},{priority:"highest"}),this.on("checkChild",function(e,t){t[0]=new ul(t[0]),t[1]=n.getDefinition(t[1])},{priority:"highest"})}function sl(e){wE(this,sl),this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}function ll(){wE(this,ll),this._consumables=new Map}function cl(){wE(this,cl),this._commands=new Map}o(ol,i);CE(hl,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(e){e=new hl([e]);return e._items=[].concat(_E(this._items),_E(e._items)),e}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._items.map(function(e){return e.name}),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}},{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}}]);var ul=hl;function hl(e){if(wE(this,hl),e instanceof hl)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),this._items=e.map(fl)}function dl(e,t,n){var r,i=bE(e);try{for(i.s();!(r=i.n()).done;){var o,a=r.value;"string"==typeof a[n]?t[n].push(a[n]):Array.isArray(a[n])&&(o=t[n]).push.apply(o,_E(a[n]))}}catch(e){i.e(e)}finally{i.f()}}function fl(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",getAttributeKeys:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}),getAttribute:function(){}}:{name:t.is("element")?t.name:"$text",getAttributeKeys:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t.getAttributeKeys(),"t0",1);case 1:case"end":return e.stop()}},e)}),getAttribute:function(e){return t.getAttribute(e)}}}function pl(e,t,n){var r,i=bE(t.getAttributeKeys());try{for(i.s();!(r=i.n()).done;){var o=r.value;e.checkAttribute(t,o)||n.removeAttribute(o,t)}}catch(e){i.e(e)}finally{i.f()}}CE(vl,[{key:"convert",value:function(e,t){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=(e=>{var t,n,r=bE(new ul(u));try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a={},s=bE(o.getAttributeKeys());try{for(s.s();!(i=s.n()).done;){var l=i.value;a[l]=o.getAttribute(l)}}catch(e){s.e(e)}finally{s.f()}var c=e.createElement(o.name,a);t&&e.append(c,t),t=T._createAt(c,0)}}catch(e){r.e(e)}finally{r.f()}return t})(t),this.conversionApi.writer=t,this.conversionApi.consumable=rl.createFrom(e),this.conversionApi.store={};var e=this._convertItem(e,this._modelCursor).modelRange,n=t.createDocumentFragment();if(e){this._removeEmptyElements();for(var r=0,i=Array.from(this._modelCursor.parent.getChildren());r<i.length;r++){var o=i[r];t.append(o,n)}n.markers=((e,t)=>{var n,r=new Set,i=new Map,o=bE(P._createIn(e).getItems());try{for(o.s();!(n=o.n()).done;){var a=n.value;"$marker"==a.name&&r.add(a)}}catch(e){o.e(e)}finally{o.f()}var s,l=bE(r);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=c.getAttribute("data-name"),h=t.createPositionBefore(c);i.has(u)?i.get(u).end=h.clone():i.set(u,new P(h.clone())),t.remove(c)}}catch(e){l.e(e)}finally{l.f()}return i})(n,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,n}},{key:"_convertItem",value:function(e,t){t=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,t,this.conversionApi):e.is("$text")?this.fire("text",t,this.conversionApi):this.fire("documentFragment",t,this.conversionApi),!t.modelRange||t.modelRange instanceof P)return{modelRange:t.modelRange,modelCursor:t.modelCursor};throw new A.a("view-conversion-dispatcher-incorrect-result",this)}},{key:"_convertChildren",value:function(e,t){for(var n=t.is("position")?t:T._createAt(t,0),r=new P(n),i=0,o=Array.from(e.getChildren());i<o.length;i++){var a=o[i],a=this._convertItem(a,n);a.modelRange instanceof P&&(r.end=a.modelRange.end,n=a.modelCursor)}return{modelRange:r,modelCursor:n}}},{key:"_safeInsert",value:function(e,t){t=this._splitToAllowedParent(e,t);return!!t&&(this.conversionApi.writer.insert(e,t.position),!0)}},{key:"_updateConversionResult",value:function(e,t){var n=this._getSplitParts(e),r=this.conversionApi.writer,n=(t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(n[n.length-1]))),this._cursorParents.get(e));t.modelCursor=n?r.createPositionAt(n,0):t.modelRange.end}},{key:"_splitToAllowedParent",value:function(e,t){var n=this.conversionApi,r=n.schema,n=n.writer,i=r.findAllowedParent(t,e);if(i){if(i===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return Us(t,e,r)?{position:qs(t,n)}:null;var o,r=this.conversionApi.writer.split(t,i),a=[],s=bE(r.range.getWalker());try{for(s.s();!(o=s.n()).done;){var l,c=o.value;"elementEnd"==c.type?a.push(c.item):(l=a.pop(),this._registerSplitPair(l,c.item))}}catch(e){s.e(e)}finally{s.f()}n=r.range.end.parent;return this._cursorParents.set(e,n),{position:r.position,cursorParent:n}}},{key:"_registerSplitPair",value:function(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);e=this._splitParts.get(e);this._splitParts.set(t,e),e.push(t)}},{key:"_getSplitParts",value:function(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}},{key:"_removeEmptyElements",value:function(){var e,t=!1,n=bE(this._splitParts.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.isEmpty&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),t=!0)}}catch(e){n.e(e)}finally{n.f()}t&&this._removeEmptyElements()}}]);var gl=vl;function vl(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};wE(this,vl),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}o(gl,c);CE(wl,[{key:"getHtml",value:function(e){var t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}]);var ml=wl,yl=(CE(_l,[{key:"toData",value:function(e){e=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(e)}},{key:"toView",value:function(e){e=this._toDom(e);return this._domConverter.domToView(e)}},{key:"registerRawContentMatcher",value:function(e){this._domConverter.registerRawContentMatcher(e)}},{key:"useFillerType",value:function(e){this._domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}},{key:"_toDom",value:function(e){for(var e=this._domParser.parseFromString(e,"text/html"),t=e.createDocumentFragment(),n=e.body.childNodes;0<n.length;)t.appendChild(n[0]);return t}}]),_l),kl=(CE(bl,[{key:"get",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.rootName,t=void 0===t?"main":t,n=e.trim,n=void 0===n?"empty":n;if(this._checkIfRootsExists([t]))return t=this.model.document.getRoot(t),"empty"!==n||this.model.hasContent(t,{ignoreWhitespaces:!0})?this.stringify(t,e):"";throw new A.a("datacontroller-get-non-existent-root",this)}},{key:"stringify",value:function(e){e=this.toView(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return this.processor.toData(e)}},{key:"toView",value:function(s){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this.viewDocument,n=this._viewWriter,r=(this.mapper.clearBindings(),P._createIn(s)),t=new Ti(t);this.mapper.bindElements(s,t),this.downcastDispatcher.conversionApi.options=e,this.downcastDispatcher.convertInsert(r,n);var i,e=s.is("documentFragment")?Array.from(s.markers):(()=>{var e=[],t=s.root.document;if(!t)return[];var n,r=P._createIn(s),i=bE(t.model.markers);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=r.getIntersection(o.getRange());a&&e.push([o.name,a])}}catch(e){i.e(e)}finally{i.f()}return e})(),o=bE(e);try{for(o.s();!(i=o.n()).done;){var a=kE(i.value,2),l=a[0],c=a[1];this.downcastDispatcher.convertMarkerAdd(l,c,n)}}catch(e){o.e(e)}finally{o.f()}return delete this.downcastDispatcher.conversionApi.options,t}},{key:"init",value:function(e){var o=this;if(this.model.document.version)throw new A.a("datacontroller-init-document-not-empty",this);var a={};if("string"==typeof e?a.main=e:a=e,this._checkIfRootsExists(Object.keys(a)))return this.model.enqueueChange("transparent",function(e){for(var t=0,n=Object.keys(a);t<n.length;t++){var r=n[t],i=o.model.document.getRoot(r);e.insert(o.parse(a[r],i),i,0)}}),Promise.resolve();throw new A.a("datacontroller-init-non-existent-root",this)}},{key:"set",value:function(e){var o=this,a={};if("string"==typeof e?a.main=e:a=e,!this._checkIfRootsExists(Object.keys(a)))throw new A.a("datacontroller-set-non-existent-root",this);this.model.enqueueChange("transparent",function(e){e.setSelection(null),e.removeSelectionAttribute(o.model.document.selection.getAttributeKeys());for(var t=0,n=Object.keys(a);t<n.length;t++){var r=n[t],i=o.model.document.getRoot(r);e.remove(e.createRangeIn(i)),e.insert(o.parse(a[r],i),i,0)}})}},{key:"parse",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"$root",e=this.processor.toView(e);return this.toModel(e,t)}},{key:"toModel",value:function(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change(function(e){return n.upcastDispatcher.convert(t,e,r)})}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"registerRawContentMatcher",value:function(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var t,n=bE(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this.model.document.getRootNames().includes(r))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}}]),bl);function bl(e,t){var n=this;wE(this,bl),this.model=e,this.mapper=new cs,this.downcastDispatcher=new ps({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",function(e,t,n){var r;n.consumable.consume(t.item,"insert")&&(r=n.writer,n=n.mapper.toViewPosition(t.range.start),t=r.createText(t.item.data),r.insert(n,t))},{priority:"lowest"}),this.upcastDispatcher=new gl({schema:e.schema}),this.viewDocument=new Gr(t),this.stylesProcessor=t,this.htmlProcessor=new yl(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Pi(this.viewDocument),this.upcastDispatcher.on("text",function(e,t,n){var r=n.schema,i=n.consumable,n=n.writer,o=t.modelCursor;if(i.test(t.viewItem)){if(!r.checkChild(o,"$text")){if(!Us(o,"$text",r))return;o=qs(o,n)}i.consume(t.viewItem);r=n.createText(t.viewItem.data);n.insert(r,o),t.modelRange=n.createRange(o,o.getShiftedBy(r.offsetSize)),t.modelCursor=t.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",function(e,t,n){var r;!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})&&(r=(n=n.convertChildren(t.viewItem,t.modelCursor)).modelRange,n=n.modelCursor,t.modelRange=r,t.modelCursor=n)},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",function(e,t,n){var r;!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})&&(r=(n=n.convertChildren(t.viewItem,t.modelCursor)).modelRange,n=n.modelCursor,t.modelRange=r,t.modelCursor=n)},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",function(){n.fire("ready")},{priority:"lowest"}),this.on("ready",function(){n.model.enqueueChange("transparent",Hs)},{priority:"lowest"})}function _l(e){wE(this,_l),this._domParser=new DOMParser,this._domConverter=new uo(e,{blockFillerMode:"nbsp"}),this._htmlWriter=new ml}function wl(){wE(this,wl)}o(kl,i);CE(xl,[{key:"addAlias",value:function(e,t){var n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new A.a("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}},{key:"for",value:function(e){if(this._helpers.has(e))return this._helpers.get(e);throw new A.a("conversion-for-unknown-group",this)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var t,n=bE(Sl(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.model,o=r.view;this.for("upcast").elementToElement({model:i,view:o,converterPriority:e.converterPriority})}}catch(e){n.e(e)}finally{n.f()}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var t,n=bE(Sl(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.model,o=r.view;this.for("upcast").elementToAttribute({view:o,model:i,converterPriority:e.converterPriority})}}catch(e){n.e(e)}finally{n.f()}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var t,n=bE(Sl(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.model,o=r.view;this.for("upcast").attributeToAttribute({view:o,model:i})}}catch(e){n.e(e)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(e){var t=e.name,n=e.dispatchers,e=e.isDowncast;if(this._helpers.has(t))throw new A.a("conversion-group-exists",this);e=new(e?Ms:$s)(n);this._helpers.set(t,e)}}]);var Cl=xl;function xl(e,t){wE(this,xl),this._helpers=new Map,this._downcast=b(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=b(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}function Sl(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.model.values){e.next=20;break}n=bE(t.model.values),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=10;break}return o=o.value,r={key:t.model.key,value:o},i=t.view[o],o=t.upcastAlso?t.upcastAlso[o]:void 0,e.delegateYield(El(r,i,o),"t0",8);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(2),n.e(e.t1);case 15:return e.prev=15,n.f(),e.finish(15);case 18:e.next=21;break;case 20:return e.delegateYield(El(t.model,t.view,t.upcastAlso),"t2",21);case 21:case"end":return e.stop()}},V,null,[[2,12,15,18]])}function El(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{model:t,view:n};case 2:if(!r){e.next=20;break}i=bE(b(r)),e.prev=4,i.s();case 6:if((o=i.n()).done){e.next=12;break}return o=o.value,e.next=10,{model:t,view:o};case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}},z,null,[[4,14,17,20]])}CE(Il,[{key:"addOperation",value:function(e){return(e.batch=this).operations.push(e),e}},{key:"baseVersion",get:function(){var e,t=bE(this.operations);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==n.baseVersion)return n.baseVersion}}catch(e){t.e(e)}finally{t.f()}return null}}]);var Tl=Il,s=(CE(Rl,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"fromJSON",value:function(e){return new this(e.baseVersion)}},{key:"className",get:function(){return"Operation"}}]),Rl),Al=(CE(Pl,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"is",value:function(e){return"documentFragment"===e||"model:documentFragment"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var t,n=this,r=bE(e);try{for(r.s();!(t=r.n()).done;)var i=t.value,n=n.getChild(n.offsetToIndex(i))}catch(e){r.e(e)}finally{r.f()}return n}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e,t=[],n=bE(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.toJSON())}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,t="string"==typeof(t=t)?[new m(t)]:(_n(t)||(t=[t]),Array.from(t).map(function(e){return"string"==typeof e?new m(e):e instanceof Za?new m(e.data,e.getAttributes()):e})),r=bE(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;null!==i.parent&&i._remove(),i.parent=this}}catch(e){r.e(e)}finally{r.f()}this._children._insertNodes(e,t)}},{key:"_removeChildren",value:function(e){var t,e=this._children._removeNodes(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:1),n=bE(e);try{for(n.s();!(t=n.n()).done;)t.value.parent=null}catch(e){n.e(e)}finally{n.f()}return e}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}],[{key:"fromJSON",value:function(e){var t,n=[],r=bE(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push((i.name?y:m).fromJSON(i))}}catch(e){r.e(e)}finally{r.f()}return new Pl(n)}}]),Pl);function Pl(e){wE(this,Pl),this.markers=new Map,this._children=new Ja,e&&this._insertChild(0,e)}function Rl(e){wE(this,Rl),this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}function Il(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default";wE(this,Il),this.operations=[],this.type=e}function Ol(e,t){var n=(t=Ll(t)).reduce(function(e,t){return e+t.offsetSize},0),r=e.parent,i=(Dl(e),e.index);return r._insertChild(i,t),jl(r,i+t.length),jl(r,i),new P(e,e.getShiftedBy(n))}function Ml(e){var t,n;if(e.isFlat)return t=e.start.parent,Dl(e.start),Dl(e.end),n=t._removeChildren(e.start.index,e.end.index-e.start.index),jl(t,e.start.index),n;throw new A.a("operation-utils-remove-range-not-flat",this)}function Nl(e,t){if(!e.isFlat)throw new A.a("operation-utils-move-range-not-flat",this);var n=Ml(e);Ol(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function Ll(e){var t=[];e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new m(e[n]));else if(e[n]instanceof Za)t.push(new m(e[n].data,e[n].getAttributes()));else if(e[n]instanceof Al||e[n]instanceof Ja){var r,i=bE(e[n]);try{for(i.s();!(r=i.n()).done;)t.push(r.value)}catch(e){i.e(e)}finally{i.f()}}else e[n]instanceof Ga&&t.push(e[n]);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1];a instanceof m&&s instanceof m&&Fl(a,s)&&(t.splice(o-1,2,new m(s.data+a.data,s.getAttributes())),o--)}return t}function jl(e,t){var n=e.getChild(t-1),r=e.getChild(t);n&&r&&n.is("$text")&&r.is("$text")&&Fl(n,r)&&(r=new m(n.data+r.data,n.getAttributes()),e._removeChildren(t-1,2),e._insertChild(t-1,r))}function Dl(e){var t,n,r=e.textNode,i=e.parent;r&&(e=e.offset-r.startOffset,t=r.index,i._removeChildren(t,1),n=new m(r.data.substr(0,e),r.getAttributes()),e=new m(r.data.substr(e),r.getAttributes()),i._insertChild(t,[n,e]))}function Fl(e,t){var n,e=e.getAttributes(),r=t.getAttributes(),i=bE(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o[1]!==t.getAttribute(o[0]))return;r.next()}}catch(e){i.e(e)}finally{i.f()}return r.next().done}function Vl(e,t){return wo(e,t)}xE(pc,s),Zl=SE(pc),CE(pc,[{key:"clone",value:function(){return new pc(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new pc(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var e=yE(RE(pc.prototype),"toJSON",this).call(this);return e.range=this.range.toJSON(),e}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new A.a("attribute-operation-range-not-flat",this);var e,t=bE(this.range.getItems({shallow:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==this.oldValue&&!Vl(n.getAttribute(this.key),this.oldValue))throw new A.a("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&n.hasAttribute(this.key))throw new A.a("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}catch(e){t.e(e)}finally{t.f()}}},{key:"_execute",value:function(){if(!Vl(this.oldValue,this.newValue)){var e=this.range,t=this.key,n=this.newValue;Dl(e.start),Dl(e.end);var r,i=bE(e.getItems({shallow:!0}));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.is("$textProxy")?o.textNode:o;null!==n?a._setAttribute(t,n):a._removeAttribute(t),jl(a.parent,a.index)}}catch(e){i.e(e)}finally{i.f()}jl(e.end.parent,e.end.index)}}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}],[{key:"fromJSON",value:function(e,t){return new pc(P.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"AttributeOperation"}}]);var zl,Bl,Hl,Ul,ql,Wl,$l,Kl,Gl,Zl,Jl=pc,Ql=(xE(fc,s),Gl=SE(fc),CE(fc,[{key:"toJSON",value:function(){var e=yE(RE(fc.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new A.a("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){Ml(P._createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:"type",get:function(){return"detach"}}],[{key:"className",get:function(){return"DetachOperation"}}]),fc),_=(xE(dc,s),Kl=SE(dc),CE(dc,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new A.a("move-operation-nodes-do-not-exist",this);if(e===t&&n<r&&r<n+this.howMany)throw new A.a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Mn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany)throw new A.a("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){Nl(P._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var e=yE(RE(dc.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}},{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}}],[{key:"fromJSON",value:function(e,t){var n=T.fromJSON(e.sourcePosition,t),t=T.fromJSON(e.targetPosition,t);return new this(n,e.howMany,t,e.baseVersion)}},{key:"className",get:function(){return"MoveOperation"}}]),dc),Yl=(xE(hc,s),$l=SE(hc),CE(hc,[{key:"clone",value:function(){var e=new Ja(_E(this.nodes).map(function(e){return e._clone(!0)})),e=new hc(this.position,e,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}},{key:"getReversed",value:function(){var e=new T(this.position.root.document.graveyard,[0]);return new _(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new A.a("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var e=this.nodes;this.nodes=new Ja(_E(e).map(function(e){return e._clone(!0)})),Ol(this.position,e)}},{key:"toJSON",value:function(){var e=yE(RE(hc.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}},{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}}],[{key:"fromJSON",value:function(e,t){var n,r=[],i=bE(e.nodes);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push((o.name?y:m).fromJSON(o))}}catch(e){i.e(e)}finally{i.f()}t=new hc(T.fromJSON(e.position,t),r,e.baseVersion);return t.shouldReceiveAttributes=e.shouldReceiveAttributes,t}},{key:"className",get:function(){return"InsertOperation"}}]),hc),Xl=(xE(uc,s),Wl=SE(uc),CE(uc,[{key:"clone",value:function(){return new uc(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new uc(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var e=yE(RE(uc.prototype),"toJSON",this).call(this);return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}},{key:"type",get:function(){return"marker"}}],[{key:"fromJSON",value:function(e,t){return new uc(e.name,e.oldRange?P.fromJSON(e.oldRange,t):null,e.newRange?P.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}},{key:"className",get:function(){return"MarkerOperation"}}]),uc),ec=(xE(cc,s),ql=SE(cc),CE(cc,[{key:"clone",value:function(){return new cc(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new cc(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.nodeAfter;if(!(e instanceof y))throw new A.a("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new A.a("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var e=yE(RE(cc.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e}},{key:"type",get:function(){return"rename"}}],[{key:"fromJSON",value:function(e,t){return new cc(T.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}},{key:"className",get:function(){return"RenameOperation"}}]),cc),tc=(xE(lc,s),Ul=SE(lc),CE(lc,[{key:"clone",value:function(){return new lc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new lc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new A.a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new A.a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new A.a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var e=yE(RE(lc.prototype),"toJSON",this).call(this);return e.root=this.root.toJSON(),e}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}],[{key:"fromJSON",value:function(e,t){if(t.getRoot(e.root))return new lc(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion);throw new A.a("rootattribute-operation-fromjson-no-root",this,{rootName:e.root})}},{key:"className",get:function(){return"RootAttributeOperation"}}]),lc),w=(xE(sc,s),Hl=SE(sc),CE(sc,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),t=new T(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new x(e,this.howMany,t,this.graveyardPosition,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new A.a("merge-operation-source-position-invalid",this);if(!t.parent)throw new A.a("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new A.a("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var e=this.sourcePosition.parent;Nl(P._createIn(e),this.targetPosition),Nl(P._createOn(e),this.graveyardPosition)}},{key:"toJSON",value:function(){var e=yE(RE(sc.prototype),"toJSON",this).call(this);return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}},{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new T(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new P(this.sourcePosition,e)}}],[{key:"fromJSON",value:function(e,t){var n=T.fromJSON(e.sourcePosition,t),r=T.fromJSON(e.targetPosition,t),t=T.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,r,t,e.baseVersion)}},{key:"className",get:function(){return"MergeOperation"}}]),sc),x=(xE(ac,s),Bl=SE(ac),CE(ac,[{key:"clone",value:function(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=new T(this.splitPosition.root.document.graveyard,[0]);return new w(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.splitPosition.parent;if(!e||e.maxOffset<this.splitPosition.offset)throw new A.a("split-operation-position-invalid",this);if(!e.parent)throw new A.a("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new A.a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new A.a("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var e,t=this.splitPosition.parent;this.graveyardPosition?Nl(P._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition):(e=t._clone(),Ol(this.insertionPosition,e)),Nl(new P(T._createAt(t,this.splitPosition.offset),T._createAt(t,t.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var e=yE(RE(ac.prototype),"toJSON",this).call(this);return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}},{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var e=this.insertionPosition.path.slice();return e.push(0),new T(this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new P(this.splitPosition,e)}}],[{key:"getInsertionPosition",value:function(e){var t=e.path.slice(0,-1);return t[t.length-1]++,new T(e.root,t,"toPrevious")}},{key:"fromJSON",value:function(e,t){var n=T.fromJSON(e.splitPosition,t),r=T.fromJSON(e.insertionPosition,t),t=e.graveyardPosition?T.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,r,t,e.baseVersion)}},{key:"className",get:function(){return"SplitOperation"}}]),ac),nc=(xE(oc,y),zl=SE(oc),CE(oc,[{key:"is",value:function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){return this.rootName}},{key:"document",get:function(){return this._document}}]),oc),rc=(CE(ic,[{key:"createText",value:function(e,t){return new m(e,t)}},{key:"createElement",value:function(e,t){return new y(e,t)}},{key:"createDocumentFragment",value:function(){return new Al}},{key:"cloneElement",value:function(e){return e._clone(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"insert",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof m&&""==e.data)){var r=T._createAt(t,n);if(e.parent){if(yc(e.root,r.root))return void this.move(P._createOn(e),r);if(e.root.document)throw new A.a("model-writer-insert-forbidden-move",this);this.remove(e)}t=new Yl(r,e,r.root.document?r.root.document.version:null);if(e instanceof m&&(t.shouldReceiveAttributes=!0),this.batch.addOperation(t),this.model.applyOperation(t),e instanceof Al){var i,o=bE(e.markers);try{for(o.s();!(i=o.n()).done;){var a=kE(i.value,2),s=a[0],l=a[1],c=T._createAt(l.root,0),u={range:new P(l.start._getCombined(c,r),l.end._getCombined(c,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(s)?this.updateMarker(s,u):this.addMarker(s,u)}}catch(e){o.e(e)}finally{o.f()}}}}},{key:"insertText",value:function(e,t,n,r){t instanceof Al||t instanceof y||t instanceof T?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,r)}},{key:"insertElement",value:function(e,t,n,r){t instanceof Al||t instanceof y||t instanceof T?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,r)}},{key:"append",value:function(e,t){this.insert(e,t,"end")}},{key:"appendText",value:function(e,t,n){t instanceof Al||t instanceof y?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}},{key:"appendElement",value:function(e,t,n){t instanceof Al||t instanceof y?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}},{key:"setAttribute",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof P){var r,i=bE(n.getMinimalFlatRanges());try{for(i.s();!(r=i.n()).done;)gc(this,e,t,r.value)}catch(e){i.e(e)}finally{i.f()}}else vc(this,e,t,n)}},{key:"setAttributes",value:function(e,t){var n,r=bE(Bn(e));try{for(r.s();!(n=r.n()).done;){var i=kE(n.value,2),o=i[0],a=i[1];this.setAttribute(o,a,t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"removeAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),t instanceof P){var n,r=bE(t.getMinimalFlatRanges());try{for(r.s();!(n=r.n()).done;)gc(this,e,null,n.value)}catch(e){r.e(e)}finally{r.f()}}else vc(this,e,null,t)}},{key:"clearAttributes",value:function(e){function t(e){var t,n=bE(e.getAttributeKeys());try{for(n.s();!(t=n.n()).done;){var r=t.value;i.removeAttribute(r,e)}}catch(e){n.e(e)}finally{n.f()}}var i=this;this._assertWriterUsedCorrectly();if(e instanceof P){var n,r=bE(e.getItems());try{for(r.s();!(n=r.n()).done;)t(n.value)}catch(e){r.e(e)}finally{r.f()}}else t(e)}},{key:"move",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof P))throw new A.a("writer-move-invalid-range",this);if(!e.isFlat)throw new A.a("writer-move-range-not-flat",this);t=T._createAt(t,n);if(!t.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!yc(e.root,t.root))throw new A.a("writer-move-different-document",this);n=new _(e.start,e.end.offset-e.start.offset,t,e.root.document?e.root.document.version:null);this.batch.addOperation(n),this.model.applyOperation(n)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var t,n=bE((e instanceof P?e:P._createOn(e)).getMinimalFlatRanges().reverse());try{for(n.s();!(t=n.n()).done;){var r,i,o=t.value,a=(this._addOperationForAffectedMarkers("move",o),i=r=c=l=s=a=void 0,o.start),s=o.end.offset-o.start.offset,l=this.batch,c=this.model;i=a.root.document?(r=c.document,i=new T(r.graveyard,[0]),new _(a,s,i,r.version)):new Ql(a,s),l.addOperation(i),c.applyOperation(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof y))throw new A.a("writer-merge-no-element-before",this);if(!(n instanceof y))throw new A.a("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,t,n){return this.model.createPositionFromPath(e,t,n)}},{key:"createPositionAt",value:function(e,t){return this.model.createPositionAt(e,t)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,t){return this.model.createRange(e,t)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,t,n){return this.model.createSelection(e,t,n)}},{key:"_mergeDetached",value:function(e){var t=e.nodeBefore,e=e.nodeAfter;this.move(P._createIn(e),T._createAt(t,"end")),this.remove(e)}},{key:"_merge",value:function(e){var t=T._createAt(e.nodeBefore,"end"),n=T._createAt(e.nodeAfter,0),r=new T(e.root.document.graveyard,[0]),n=new w(n,e.nodeAfter.maxOffset,t,r,e.root.document.version);this.batch.addOperation(n),this.model.applyOperation(n)}},{key:"rename",value:function(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof y))throw new A.a("writer-rename-not-element-instance",this);var n=e.root.document?e.root.document.version:null,e=new ec(T._createBefore(e),e.name,t,n);this.batch.addOperation(e),this.model.applyOperation(e)}},{key:"split",value:function(e,t){this._assertWriterUsedCorrectly();var n,r,i=e.parent;if(!i.parent)throw new A.a("writer-split-element-no-parent",this);if(t=t||i.parent,!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new A.a("writer-split-invalid-limit-element",this);do{var o=i.root.document?i.root.document.version:null,a=i.maxOffset-e.offset,s=x.getInsertionPosition(e),a=new x(e,a,s,null,o)}while(this.batch.addOperation(a),this.model.applyOperation(a),n||r||(n=i,r=e.parent.nextSibling),(i=(e=this.createPositionAfter(e.parent)).parent)!==t);return{position:e,range:new P(T._createAt(n,"end"),T._createAt(r,0))}}},{key:"wrap",value:function(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new A.a("writer-wrap-range-not-flat",this);t=t instanceof y?t:new y(t);if(0<t.childCount)throw new A.a("writer-wrap-element-not-empty",this);if(null!==t.parent)throw new A.a("writer-wrap-element-attached",this);this.insert(t,e.start);e=new P(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(e,T._createAt(t,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new A.a("writer-unwrap-element-no-parent",this);this.move(P._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new A.a("writer-addmarker-no-usingoperation",this);var n=t.usingOperation,r=t.range,t=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new A.a("writer-addmarker-marker-exists",this);if(r)return n?(mc(this,e,null,r,t),this.model.markers.get(e)):this.model.markers._set(e,r,n,t);throw new A.a("writer-addmarker-no-range",this)}},{key:"updateMarker",value:function(e,t){this._assertWriterUsedCorrectly();var e="string"==typeof e?e:e.name,n=this.model.markers.get(e);if(!n)throw new A.a("writer-updatemarker-marker-not-exists",this);if(t){var r="boolean"==typeof t.usingOperation,i="boolean"==typeof t.affectsData,o=(i?t:n).affectsData;if(!r&&!t.range&&!i)throw new A.a("writer-updatemarker-wrong-options",this);var i=n.getRange(),a=t.range||i;r&&t.usingOperation!==n.managedUsingOperations?t.usingOperation?mc(this,e,null,a,o):(mc(this,e,i,null,o),this.model.markers._set(e,a,void 0,o)):n.managedUsingOperations?mc(this,e,i,a,o):this.model.markers._set(e,a,void 0,o)}else this.model.markers._refresh(n)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();e="string"==typeof e?e:e.name;if(!this.model.markers.has(e))throw new A.a("writer-removemarker-no-marker",this);var t=this.model.markers.get(e);t.managedUsingOperations?mc(this,e,t.getRange(),null,t.affectsData):this.model.markers._remove(e)}},{key:"setSelection",value:function(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}},{key:"setSelectionAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else{var n,r=bE(Bn(e));try{for(r.s();!(n=r.n()).done;){var i=kE(n.value,2),o=i[0],a=i[1];this._setSelectionAttribute(o,a)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else{var t,n=bE(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._removeSelectionAttribute(r)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,t){var n,r=this.model.document.selection;r.isCollapsed&&r.anchor.parent.isEmpty&&(n=Ss._getStoreAttributeKey(e),this.setAttribute(n,t,r.anchor.parent)),r._setAttribute(e,t)}},{key:"_removeSelectionAttribute",value:function(e){var t,n=this.model.document.selection;n.isCollapsed&&n.anchor.parent.isEmpty&&(t=Ss._getStoreAttributeKey(e),this.removeAttribute(t,n.anchor.parent)),n._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new A.a("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,t){var n,r=bE(this.model.markers);try{for(r.s();!(n=r.n()).done;){var i,o,a,s,l,c=n.value;c.managedUsingOperations&&(i=c.getRange(),"move"===e?t.containsPosition(i.start)||t.start.isEqual(i.start)||t.containsPosition(i.end)||t.end.isEqual(i.end):(o=t.nodeAfter,a=i.end.parent==o&&0==i.end.offset,s=i.end.nodeAfter==o,l=i.start.nodeAfter==o,i.start.parent==t.nodeBefore&&i.start.isAtEnd||a||s||l))&&this.updateMarker(c.name,{range:i})}}catch(e){r.e(e)}finally{r.f()}}}]),ic);function ic(e,t){wE(this,ic),this.model=e,this.batch=t}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"main";return wE(this,oc),(t=zl.call(this,t))._document=e,t.rootName=n,t}function ac(e,t,n,r,i){return wE(this,ac),(i=Bl.call(this,i)).splitPosition=e.clone(),i.splitPosition.stickiness="toNext",i.howMany=t,i.insertionPosition=n,i.graveyardPosition=r?r.clone():null,i.graveyardPosition&&(i.graveyardPosition.stickiness="toNext"),i}function sc(e,t,n,r,i){return wE(this,sc),(i=Hl.call(this,i)).sourcePosition=e.clone(),i.sourcePosition.stickiness="toPrevious",i.howMany=t,i.targetPosition=n.clone(),i.targetPosition.stickiness="toNext",i.graveyardPosition=r.clone(),i}function lc(e,t,n,r,i){return wE(this,lc),(i=Ul.call(this,i)).root=e,i.key=t,i.oldValue=n,i.newValue=r,i}function cc(e,t,n,r){return wE(this,cc),(r=ql.call(this,r)).position=e,r.position.stickiness="toNext",r.oldName=t,r.newName=n,r}function uc(e,t,n,r,i,o){return wE(this,uc),(o=Wl.call(this,o)).name=e,o.oldRange=t?t.clone():null,o.newRange=n?n.clone():null,o.affectsData=i,o._markers=r,o}function hc(e,t,n){return wE(this,hc),(n=$l.call(this,n)).position=e.clone(),n.position.stickiness="toNone",n.nodes=new Ja(Ll(t)),n.shouldReceiveAttributes=!1,n}function dc(e,t,n,r){return wE(this,dc),(r=Kl.call(this,r)).sourcePosition=e.clone(),r.sourcePosition.stickiness="toNext",r.howMany=t,r.targetPosition=n.clone(),r.targetPosition.stickiness="toNone",r}function fc(e,t){var n;return wE(this,fc),(n=Gl.call(this,null)).sourcePosition=e.clone(),n.howMany=t,n}function pc(e,t,n,r,i){return wE(this,pc),(i=Zl.call(this,i)).range=e.clone(),i.key=t,i.oldValue=void 0===n?null:n,i.newValue=void 0===r?null:r,i}function gc(t,n,r,e){var i,o,a,s=t.model,l=s.document,c=e.start,u=bE(e.getWalker({shallow:!0}));try{for(u.s();!(a=u.n()).done;){var h=a.value,d=h.item.getAttribute(n);i&&o!=d&&(o!=r&&f(),c=i),i=h.nextPosition,o=d}}catch(e){u.e(e)}finally{u.f()}function f(){var e=new P(c,i),e=new Jl(e,n,o,r,e.root.document?l.version:null);t.batch.addOperation(e),s.applyOperation(e)}i instanceof T&&i!=c&&o!=r&&f()}function vc(e,t,n,r){var i=e.model,o=i.document,a=r.getAttribute(t);a!=n&&(t=r.root===r?new tc(r,t,a,n,r.document?o.version:null):(r=new P(T._createBefore(r),e.createPositionAfter(r)),new Jl(r,t,a,n,r.root.document?o.version:null)),e.batch.addOperation(t),i.applyOperation(t))}function mc(e,t,n,r,i){var o=e.model,t=new Xl(t,n,r,o.markers,i,o.document.version);e.batch.addOperation(t),o.applyOperation(t)}function yc(e,t){return e===t||e instanceof nc&&t instanceof nc}CE(bc,[{key:"refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);var t,e=P._createOn(e),n=bE(this._markerCollection.getMarkersIntersectingRange(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.getRange();this.bufferMarkerChange(r.name,i,i,r.affectsData)}}catch(e){n.e(e)}finally{n.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var t,n=bE(e.range.getItems({shallow:!0}));try{for(n.s();!(t=n.n()).done;){var r=t.value;this._isInInsertedElement(r.parent)||this._markAttribute(r)}}catch(e){n.e(e)}finally{n.f()}break;case"remove":case"move":case"reinsert":if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var i=this._isInInsertedElement(e.sourcePosition.parent),o=this._isInInsertedElement(e.targetPosition.parent);i||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),o||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break;case"rename":if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var a,i=P._createFromPositionAndShift(e.position,1),s=bE(this._markerCollection.getMarkersIntersectingRange(i));try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.getRange();this.bufferMarkerChange(l.name,c,c,l.affectsData)}}catch(e){s.e(e)}finally{s.f()}break;case"split":o=e.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break;case"merge":i=e.sourcePosition.parent,o=(this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1),this._markInsert(e.graveyardPosition.parent,e.graveyardPosition.offset,1),e.targetPosition.parent);this._isInInsertedElement(o)||this._markInsert(o,e.targetPosition.offset,i.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,t,n,r){var i=this._changedMarkers.get(e);i?(i.newRange=n,i.affectsData=r,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:r})}},{key:"getMarkersToRemove",value:function(){var e,t=[],n=bE(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var r=kE(e.value,2),i=r[0],o=r[1];null!=o.oldRange&&t.push({name:i,range:o.oldRange})}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getMarkersToAdd",value:function(){var e,t=[],n=bE(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var r=kE(e.value,2),i=r[0],o=r[1];null!=o.newRange&&t.push({name:i,range:o.newRange})}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map(function(e){return{name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}})}},{key:"hasDataChanges",value:function(){var e,t=bE(this._changedMarkers);try{for(t.s();!(e=t.n()).done;)if(kE(e.value,2)[1].affectsData)return!0}catch(e){t.e(e)}finally{t.f()}return 0<this._changesInElement.size}},{key:"getChanges",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return(e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges).slice();var t,n=[],r=bE(this._changesInElement.keys());try{for(r.s();!(t=r.n()).done;){var i,o=t.value,a=this._changesInElement.get(o).sort(function(e,t){return e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1}),s=this._elementSnapshots.get(o),l=_c(o.getChildren()),c=((e,t)=>{var n,r=[],i=0,o=0,a=bE(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.offset>i){for(var l=0;l<s.offset-i;l++)r.push("e");o+=s.offset-i}if("insert"==s.type){for(var c=0;c<s.howMany;c++)r.push("i");i=s.offset+s.howMany}else{if("remove"==s.type){for(var u=0;u<s.howMany;u++)r.push("r");i=s.offset}else r.push.apply(r,_E("a".repeat(s.howMany).split(""))),i=s.offset+s.howMany;o+=s.howMany}}}catch(e){a.e(e)}finally{a.f()}if(o<e)for(var h=0;h<e-o-i;h++)r.push("e");return r})(s.length,a),u=0,h=0,d=bE(c);try{for(d.s();!(i=d.n()).done;){var f,p,g,v,m=i.value;"i"===m?(n.push(this._getInsertDiff(o,u,l[u].name)),u++):("r"===m?n.push(this._getRemoveDiff(o,u,s[h].name)):("a"===m&&(f=l[u].attributes,p=s[h].attributes,v=void 0,v="$text"==l[u].name?new P(T._createAt(o,u),T._createAt(o,u+1)):(g=o.offsetToIndex(u),new P(T._createAt(o,u),T._createAt(o.getChild(g),0))),n.push.apply(n,_E(this._getAttributesDiff(v,p,f)))),u++),h++)}}catch(e){d.e(e)}finally{d.f()}}}catch(e){r.e(e)}finally{r.f()}n.sort(function(e,t){return e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1});for(var y=1,k=0;y<n.length;y++){var b=n[k],_=n[y],w="remove"==b.type&&"remove"==_.type&&"$text"==b.name&&"$text"==_.name&&b.position.isEqual(_.position),C="insert"==b.type&&"insert"==_.type&&"$text"==b.name&&"$text"==_.name&&b.position.parent==_.position.parent&&b.position.offset+b.length==_.position.offset,_="attribute"==b.type&&"attribute"==_.type&&b.position.parent==_.position.parent&&b.range.isFlat&&_.range.isFlat&&b.position.offset+b.length==_.position.offset&&b.attributeKey==_.attributeKey&&b.attributeOldValue==_.attributeOldValue&&b.attributeNewValue==_.attributeNewValue;w||C||_?(b.length++,_&&(b.range.end=b.range.end.getShiftedBy(1)),n[y]=null):k=y}var x,S=bE(n=n.filter(function(e){return e}));try{for(S.s();!(x=S.n()).done;){var E=x.value;delete E.changeCount,"attribute"==E.type&&(delete E.position,delete E.length)}}catch(e){S.e(e)}finally{S.f()}return this._changeCount=0,this._cachedChangesWithGraveyard=n.slice(),this._cachedChanges=n.filter(wc),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(e,t,n){t={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,t)}},{key:"_markRemove",value:function(e,t,n){var r={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,n)}},{key:"_markAttribute",value:function(e){var t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}},{key:"_markChange",value:function(e,t){this._makeSnapshot(e);var n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(var r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}},{key:"_getChangesForElement",value:function(e){var t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):this._changesInElement.set(e,t=[]),t}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,_c(e.getChildren()))}},{key:"_handleChange",value:function(e,t){e.nodesToHandle=e.howMany;var n,r=bE(t);try{for(r.s();!(n=r.n()).done;){var i,o,a,s,l,c,u,h=n.value,d=e.offset+e.howMany,f=h.offset+h.howMany;"insert"==e.type&&("insert"==h.type&&(e.offset<=h.offset?h.offset+=e.howMany:e.offset<f&&(h.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==h.type&&e.offset<h.offset&&(h.offset+=e.howMany),"attribute"==h.type)&&(e.offset<=h.offset?h.offset+=e.howMany:e.offset<f&&(i=h.howMany,h.howMany=e.offset-h.offset,t.unshift({type:"attribute",offset:d,howMany:i-h.howMany,count:this._changeCount++}))),"remove"==e.type&&("insert"==h.type&&(d<=h.offset?h.offset-=e.howMany:d<=f?e.offset<h.offset?(o=d-h.offset,h.offset=e.offset,h.howMany-=o,e.nodesToHandle-=o):(h.howMany-=e.nodesToHandle,e.nodesToHandle=0):e.offset<=h.offset?(e.nodesToHandle-=h.howMany,h.howMany=0):e.offset<f&&(a=f-e.offset,h.howMany-=a,e.nodesToHandle-=a)),"remove"==h.type&&(d<=h.offset?h.offset-=e.howMany:e.offset<h.offset&&(e.nodesToHandle+=h.howMany,h.howMany=0)),"attribute"==h.type)&&(d<=h.offset?h.offset-=e.howMany:e.offset<h.offset?(s=d-h.offset,h.offset=e.offset,h.howMany-=s):e.offset<f&&(d<=f?(l=h.howMany,h.howMany=e.offset-h.offset,t.unshift({type:"attribute",offset:e.offset,howMany:l-h.howMany-e.nodesToHandle,count:this._changeCount++})):h.howMany-=f-e.offset)),"attribute"==e.type&&("insert"==h.type&&(e.offset<h.offset&&d>h.offset?(f<d&&(c={type:"attribute",offset:f,howMany:d-f,count:this._changeCount++},this._handleChange(c,t),t.push(c)),e.nodesToHandle=h.offset-e.offset,e.howMany=e.nodesToHandle):e.offset>=h.offset&&e.offset<f&&(f<d?(e.nodesToHandle=d-f,e.offset=f):e.nodesToHandle=0)),"remove"==h.type&&e.offset<h.offset&&d>h.offset&&(u={type:"attribute",offset:h.offset,howMany:d-h.offset,count:this._changeCount++},this._handleChange(u,t),t.push(u),e.nodesToHandle=h.offset-e.offset,e.howMany=e.nodesToHandle),"attribute"==h.type)&&(e.offset>=h.offset&&d<=f?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=h.offset&&f<=d&&(h.howMany=0))}}catch(e){r.e(e)}finally{r.f()}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,t,n){return{type:"insert",position:T._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,t,n){return{type:"remove",position:T._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,t,n){var r=[];n=new Map(n);var i,o=bE(t);try{for(o.s();!(i=o.n()).done;){var a=kE(i.value,2),s=a[0],l=a[1],c=n.has(s)?n.get(s):null;c!==l&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:l,attributeNewValue:c,changeCount:this._changeCount++}),n.delete(s)}}catch(e){o.e(e)}finally{o.f()}var u,h=bE(n);try{for(h.s();!(u=h.n()).done;){var d=kE(u.value,2),f=d[0],p=d[1];r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++})}}catch(e){h.e(e)}finally{h.f()}return r}},{key:"_isInInsertedElement",value:function(e){var t=e.parent;if(!t)return!1;var n=this._changesInElement.get(t),r=e.startOffset;if(n){var i,o=bE(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("insert"==a.type&&r>=a.offset&&r<a.offset+a.howMany)return!0}}catch(e){o.e(e)}finally{o.f()}}return this._isInInsertedElement(t)}},{key:"_removeAllNestedChanges",value:function(e,t,n){var r,i=bE(new P(T._createAt(e,t),T._createAt(e,t+n)).getItems({shallow:!0}));try{for(i.s();!(r=i.n()).done;){var o=r.value;o.is("element")&&(this._elementSnapshots.delete(o),this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}}catch(e){i.e(e)}finally{i.f()}}},{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}}]);var kc=bc;function bc(e){wE(this,bc),this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}function _c(e){var t,n=[],r=bE(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.is("$text"))for(var o=0;o<i.data.length;o++)n.push({name:"$text",attributes:new Map(i.getAttributes())});else n.push({name:i.name,attributes:new Map(i.getAttributes())})}}catch(e){r.e(e)}finally{r.f()}return n}function wc(e){return!(e.position&&"$graveyard"==e.position.root.rootName||e.range&&"$graveyard"==e.range.root.rootName)}CE(xc,[{key:"addOperation",value:function(e){this._operations.includes(e)||this._operations.push(e)}},{key:"getOperations",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Number.NEGATIVE_INFINITY,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,r=[],i=bE(this._operations);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.baseVersion>=t&&o.baseVersion<n&&r.push(o)}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"getOperation",value:function(e){var t,n=bE(this._operations);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.baseVersion==e)return r}}catch(e){n.e(e)}finally{n.f()}}},{key:"setOperationAsUndone",value:function(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}}]);var Cc=xc;function xc(){wE(this,xc),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}function Sc(e,t){return(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&(n=e.charAt(t))&&1==n.length&&/[\udc00-\udfff]/.test(n);var n}function Ec(e,t){return(e=e.charAt(t))&&1==e.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}CE(Ac,[{key:"createRoot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"$root",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(t))throw new A.a("model-document-createroot-name-exists",this,{name:t});e=new nc(this,e,t);return this.roots.add(e),e}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){return this.roots.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"main")}},{key:"getRootNames",value:function(){return Array.from(this.roots,function(e){return e.rootName}).filter(function(e){return"$graveyard"!=e})}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=Nn(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e,t=bE(this.roots);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n!==this.graveyard)return n}}catch(e){t.e(e)}finally{t.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),t=this.model,n=t.schema,e=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(e)||t.createRange(e)}},{key:"_validateSelectionRange",value:function(e){return Pc(e.start)&&Pc(e.end)}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,r=bE(this._postFixers);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(this.selection.refresh(),t=i(e))break}}catch(e){r.e(e)}finally{r.f()}}while(t)}},{key:"graveyard",get:function(){return this.getRoot("$graveyard")}}]);var Tc=Ac;function Ac(e){var i=this;wE(this,Ac),this.model=e,this.version=0,this.history=new Cc(this),this.selection=new Ss(this),this.roots=new wn({idProperty:"rootName"}),this.differ=new kc(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(e,"applyOperation",function(e,t){t=t[0];if(t.isDocumentOperation&&t.baseVersion!==i.version)throw new A.a("model-document-applyoperation-wrong-version",i,{operation:t})},{priority:"highest"}),this.listenTo(e,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&i.differ.bufferOperation(t)},{priority:"high"}),this.listenTo(e,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&(i.version++,i.history.addOperation(t))},{priority:"low"}),this.listenTo(this.selection,"change",function(){i._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",function(e,n,t,r){i.differ.bufferMarkerChange(n.name,t,r,n.affectsData),null===t&&n.on("change",function(e,t){i.differ.bufferMarkerChange(n.name,t,n.getRange(),n.affectsData)})})}function Pc(e){var t,n=e.textNode;return!n||!Sc(t=n.data,e=e.offset-n.startOffset)&&!Ec(t,e)}o(Tc,c);CE(Ic,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],e=e instanceof Oc?e.name:e;if(e.includes(","))throw new A.a("markercollection-incorrect-marker-name",this);var i,o,a=this._markers.get(e);return a?(i=!1,(o=a.getRange()).isEqual(t)||(a._attachLiveRange(Cs.fromRange(t)),i=!0),n!=a.managedUsingOperations&&(a._managedUsingOperations=n,i=!0),"boolean"==typeof r&&r!=a.affectsData&&(a._affectsData=r,i=!0),i&&this.fire("update:"+e,a,o,t),a):(i=Cs.fromRange(t),o=new Oc(e,i,n,r),this._markers.set(e,o),this.fire("update:"+e,o,null,t),o)}},{key:"_remove",value:function(e){var e=e instanceof Oc?e.name:e,t=this._markers.get(e);return!!t&&(this._markers.delete(e),this.fire("update:"+e,t,t.getRange(),null),this._destroyMarker(t),!0)}},{key:"_refresh",value:function(e){var e=e instanceof Oc?e.name:e,t=this._markers.get(e);if(!t)throw new A.a("markercollection-refresh-marker-not-exists",this);var n=t.getRange();this.fire("update:"+e,t,n,n,t.managedUsingOperations,t.affectsData)}},{key:"getMarkersAtPosition",value:regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=bE(this),e.prev=1,n.s();case 3:if((r=n.n()).done)e.next=11;else{if(r=r.value,e.t0=r.getRange().containsPosition(t),e.t0)return e.next=9,r;e.next=9}break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])})},{key:"getMarkersIntersectingRange",value:regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=bE(this),e.prev=1,n.s();case 3:if((r=n.n()).done)e.next=11;else{if(r=r.value,e.t0=null!==r.getRange().getIntersection(t),e.t0)return e.next=9,r;e.next=9}break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])})},{key:"destroy",value:function(){var e,t=bE(this._markers.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this._destroyMarker(n)}}catch(e){t.e(e)}finally{t.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=bE(this._markers.values()),e.prev=1,n.s();case 3:if((r=n.n()).done)e.next=11;else{if(r=r.value,e.t0=r.name.startsWith(t+":"),e.t0)return e.next=9,r;e.next=9}break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])})},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]);var Rc=Ic;function Ic(){wE(this,Ic),this._markers=new Map}o(Rc,c);CE(Mc,[{key:"getStart",value:function(){if(this._liveRange)return this._liveRange.start.clone();throw new A.a("marker-destroyed",this)}},{key:"getEnd",value:function(){if(this._liveRange)return this._liveRange.end.clone();throw new A.a("marker-destroyed",this)}},{key:"getRange",value:function(){if(this._liveRange)return this._liveRange.toRange();throw new A.a("marker-destroyed",this)}},{key:"is",value:function(e){return"marker"===e||"model:marker"===e}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}},{key:"managedUsingOperations",get:function(){if(this._liveRange)return this._managedUsingOperations;throw new A.a("marker-destroyed",this)}},{key:"affectsData",get:function(){if(this._liveRange)return this._affectsData;throw new A.a("marker-destroyed",this)}}]);var Oc=Mc;function Mc(e,t,n,r){wE(this,Mc),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=r}o(Oc,c);xE(Dc,s),Nc=SE(Dc),CE(Dc,[{key:"clone",value:function(){return new Dc(this.baseVersion)}},{key:"getReversed",value:function(){return new Dc(this.baseVersion+1)}},{key:"_execute",value:function(){}},{key:"type",get:function(){return"noop"}}],[{key:"className",get:function(){return"NoOperation"}}]);var Nc,Lc=Dc,jc={};function Dc(){return wE(this,Dc),Nc.apply(this,arguments)}jc[Jl.className]=Jl,jc[Yl.className]=Yl,jc[Xl.className]=Xl,jc[_.className]=_,jc[Lc.className]=Lc,jc[s.className]=s,jc[ec.className]=ec,jc[tc.className]=tc,jc[x.className]=x,jc[w.className]=w;xE(zc,T),Fc=SE(zc),CE(zc,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e}},{key:"toPosition",value:function(){return new T(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}]);var Fc,Vc=zc;function zc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"toNone";if(wE(this,zc),(t=Fc.call(this,e,t,n)).root.is("rootElement"))return function(){var n=this;this.listenTo(this.root.document.model,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&function(e){e=this.getTransformedByOperation(e);{var t;this.isEqual(e)||(t=this.toPosition(),this.path=e.path,this.root=e.root,this.fire("change",t))}}.call(n,t)},{priority:"low"})}.call(TE(t)),EE(t);throw new A.a("model-liveposition-root-not-rootelement",e)}o(Vc,c);CE(Hc,[{key:"handleNodes",value:function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t];this._handleNode(r)}this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"_updateLastNodeFromAutoParagraph",value:function(e){var t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new A.a("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?P._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new P(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e){this.schema.isObject(e)?this._handleObject(e):this._checkAndAutoParagraphToAllowedPosition(e)||this._checkAndSplitToAllowedPosition(e)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}},{key:"_insertPartialFragment",value:function(){var e;this._documentFragment.isEmpty||(e=Vc.fromPosition(this.position,"toNext"),this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach())}},{key:"_handleObject",value:function(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}},{key:"_handleDisallowedNode",value:function(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}},{key:"_appendToFragment",value:function(e){if(!this.schema.checkChild(this.position,e))throw new A.a("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?e:null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=Vc.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Vc.fromPosition(e,"toNext"))}},{key:"_mergeOnLeft",value:function(){var e,t=this._firstNode;t instanceof y&&this._canMergeLeft(t)&&((t=Vc._createBefore(t)).stickiness="toNext",e=Vc.fromPosition(this.position,"toNext"),this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Vc._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Vc._createAt(t.nodeBefore,"end","toNext")),this.position=e.toPosition(),e.detach(),this._filterAttributesOf.push(this.position.parent),t.detach())}},{key:"_mergeOnRight",value:function(){var e=this._lastNode;if(e instanceof y&&this._canMergeRight(e)){e=Vc._createAfter(e);if(e.stickiness="toNext",!this.position.isEqual(e))throw new A.a("insertcontent-invalid-insertion-position",this);this.position=T._createAt(e.nodeBefore,"end");var t=Vc.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Vc._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Vc._createAt(e.nodeBefore,0,"toPrevious")),this.position=t.toPosition(),t.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}}},{key:"_canMergeLeft",value:function(e){var t=e.previousSibling;return t instanceof y&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}},{key:"_canMergeRight",value:function(e){var t=e.nextSibling;return t instanceof y&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}},{key:"_tryAutoparagraphing",value:function(e){var t=this.writer.createElement("paragraph");this._getAllowedIn(t,this.position.parent)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}},{key:"_checkAndAutoParagraphToAllowedPosition",value:function(e){if(!this.schema.checkChild(this.position.parent,e)){if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}return!0}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var t,n=this._getAllowedIn(e,this.position.parent);if(!n)return!1;for(n!=this.position.parent&&this._insertPartialFragment();n!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;this.position.isAtStart?(t=this.position.parent,this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===n&&this.writer.remove(t)):this.position.isAtEnd?this.position=this.writer.createPositionAfter(this.position.parent):(t=this.writer.createPositionAfter(this.position.parent),this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter))}return!0}},{key:"_getAllowedIn",value:function(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}]);var Bc=Hc;function Hc(e,t,n){wE(this,Hc),this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}function Uc(e,i,o){var t=i.parent,n=o.parent;return t!=n&&!e.isLimit(t)&&!e.isLimit(n)&&(e=>{var t,n=bE(new P(i,o).getWalker());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.isLimit(r.item))return}}catch(e){n.e(e)}finally{n.f()}return 1})(e)}function qc(e,t,n){var r=e.createElement("paragraph");e.insert(r,t),Wc(e,n,e.createPositionAt(r,0))}function Wc(e,t,n){t instanceof Ss?e.setSelection(n):t.setTo(n)}function $c(t,r){var n=[];Array.from(t.getItems({direction:"backward"})).map(function(e){return r.createRangeOn(e)}).filter(function(e){return(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))}).forEach(function(e){n.push(e.start.parent),r.remove(e)}),n.forEach(function(e){for(var t=e;t.parent&&t.isEmpty;){var n=r.createRangeOn(t),t=t.parent;r.remove(n)}})}function Kc(e,t){if(e.isCollapsed)return r=t,n=e.start,(r=r.getNearestSelectionRange(n))?r.isCollapsed?n.isEqual(n=r.start)?null:new P(n):r:null;var n=t,r=e.start,t=e.end,e=n.checkChild(r,"$text"),i=n.checkChild(t,"$text"),o=n.getLimitElement(r),a=n.getLimitElement(t);if(o===a){if(e&&i)return null;if(((e,t,n)=>(e=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),n=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text"),e||n))(r,t,n))return e=r.nodeAfter&&n.isSelectable(r.nodeAfter)?null:n.getNearestSelectionRange(r,"forward"),i=t.nodeBefore&&n.isSelectable(t.nodeBefore)?null:n.getNearestSelectionRange(t,"backward"),new P(e?e.start:r,i?i.end:t)}var s,r,n,e=o&&!o.is("rootElement"),i=a&&!a.is("rootElement");return e||i?(s=r.nodeAfter&&t.nodeBefore&&r.nodeAfter.parent===t.nodeBefore.parent,e=e&&(!s||!Zc(r.nodeAfter,n)),i=i&&(!s||!Zc(t.nodeBefore,n)),s=r,r=t,e&&(s=T._createBefore(Gc(o,n))),i&&(r=T._createAfter(Gc(a,n))),new P(s,r)):null}function Gc(e,t){for(var n=e,r=n;t.isLimit(r)&&r.parent;)r=(n=r).parent;return n}function Zc(e,t){return e&&t.isSelectable(e)}CE(Qc,[{key:"change",value:function(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Tl,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){A.a.rethrowUnexpectedError(e,this)}}},{key:"enqueueChange",value:function(e,t){try{"string"==typeof e?e=new Tl(e):"function"==typeof e&&(t=e,e=new Tl),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){A.a.rethrowUnexpectedError(e,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,t,n){return o=e,a=t,s=n,(i=this).change(function(e){var t;(t=a?a instanceof ms||a instanceof Ss?a:e.createSelection(a,s):i.document.selection).isCollapsed||i.deleteContent(t,{doNotAutoparagraph:!0});var n=new Bc(i,e,t.anchor),r=o.is("documentFragment")?o.getChildren():[o],r=(n.handleNodes(r),n.getSelectionRange()),e=(r&&(t instanceof Ss?e.setSelection(r):t.setTo(r)),n.getAffectedRange()||i.createRange(t.anchor));return n.destroy(),e});var i,o,a,s}},{key:"deleteContent",value:function(e,t){!function(e,u,t){var h,d,f=2<arguments.length&&void 0!==t?t:{};u.isCollapsed||"$graveyard"!=(h=u.getFirstRange()).root.rootName&&(d=e.schema,e.change(function(e){var i,t,n,r,o,a,s,l,c;f.doNotResetEntireContent||!((e,t)=>{var n=e.getLimitElement(t);if(t.containsEntireContent(n))return(t=t.getFirstRange()).start.parent!=t.end.parent&&e.checkChild(n,"paragraph")})(d,u)?((a=(s=kE((s=(o=h).root.document.model,l=o.start,c=o.end,s.hasContent(o,{ignoreMarkers:!0})&&(a=(()=>{var e,t=c.parent,n=t.root.document.model.schema,r=bE(t.getAncestors({parentFirst:!0,includeSelf:!0}));try{for(r.s();!(e=r.n()).done;){var i=e.value;if(n.isLimit(i))return null;if(n.isBlock(i))return i}}catch(e){r.e(e)}finally{r.f()}})())&&c.isTouching(s.createPositionAt(a,0))&&(a=s.createSelection(o),s.modifySelection(a,{direction:"backward"}),o=a.getLastPosition(),a=s.createRange(o,c),s.hasContent(a,{ignoreMarkers:!0})||(c=o)),[Vc.fromPosition(l,"toPrevious"),Vc.fromPosition(c,"toNext")]),2))[0]).isTouching(o=s[1])||e.remove(e.createRange(a,o)),f.leaveUnmerged||(i=a,l=o,r=(s=e).model,Uc(s.model.schema,i,l)&&(t=(n=kE((e=>{for(var t=i.getAncestors(),n=e.getAncestors(),r=0;t[r]&&t[r]==n[r];)r++;return[t[r],n[r]]})(l),2))[0],n=n[1],t)&&n&&(!r.hasContent(t,{ignoreMarkers:!0})&&r.hasContent(n,{ignoreMarkers:!0})?function e(t,n,r,i){var o,a,s=n.parent,l=r.parent;if(s!=i&&l!=i){for(n=t.createPositionAfter(s),(r=t.createPositionBefore(l)).isEqual(n)||t.insert(s,r);n.parent.isEmpty;){var c=n.parent;n=t.createPositionBefore(c),t.remove(c)}r=t.createPositionBefore(l),s=t,o=(l=r).nodeBefore,a=l.nodeAfter,o.name!=a.name&&s.rename(o,a.name),s.clearAttributes(o),s.setAttributes(Object.fromEntries(a.getAttributes()),o),s.merge(l),Uc(t.model.schema,n,r)&&e(t,n,r,i)}}:function e(t,n,r,i){var o=n.parent,a=r.parent;if(o!=i&&a!=i){for(n=t.createPositionAfter(o),(r=t.createPositionBefore(a)).isEqual(n)||t.insert(a,n),t.merge(n);r.parent.isEmpty;){var s=r.parent;r=t.createPositionBefore(s),t.remove(s)}Uc(t.model.schema,n,r)&&e(t,n,r,i)}})(s,i,l,t.parent),d.removeDisallowedAttributes(a.parent.getChildren(),e)),Wc(e,u,a),f.doNotAutoparagraph||(r=a,s=(n=d).checkChild(r,"$text"),n=n.checkChild(r,"paragraph"),s)||!n||qc(e,a,u),a.detach(),o.detach()):(l=u,s=(t=e).model.schema.getLimitElement(l),t.remove(t.createRangeIn(s)),qc(t,t.createPositionAt(s,0),l))}))}(this,e,t)}},{key:"modifySelection",value:function(e,t){!function(e,n,t){for(var r,i,o,a,t=2<arguments.length&&void 0!==t?t:{},s=e.schema,l="backward"!=t.direction,t=t.unit||"character",c=new Qa({boundaries:(i=n.focus,o=l,a=T._createAt(i.root,o?"end":0),o?new P(i,a):new P(a,i)),singleCharacters:!0,direction:l?"forward":"backward"}),u={walker:c,schema:s,isForward:l,unit:t},h=function(){var t;return r.done?{v:void 0}:(t=((e,t)=>{var n=e.isForward,r=e.walker,i=e.unit,o=e.schema,a=t.type,s=t.item,t=t.nextPosition;if("text"!=a)return a==(n?"elementStart":"elementEnd")?o.isSelectable(s)?T._createAt(s,n?"after":"before"):o.checkChild(t,"$text")?t:void 0:o.isLimit(s)?void r.skip(function(){return!0}):o.checkChild(t,"$text")?t:void 0;if("word"===e.unit){var l=r,c=n,u=l.position.textNode;if(u)for(var h=l.position.offset-u.startOffset;d=u.data,f=h,!' ,.?!:;"-()'.includes(d.charAt(f+(c?0:-1)))&&(d=u,h!==(c?d.endOffset:0));){l.next();var d,f=c?l.position.nodeAfter:l.position.nodeBefore;f&&f.is("$text")&&(d=f.data.charAt(c?0:f.data.length-1),' ,.?!:;"-()'.includes(d)||(l.next(),u=l.position.textNode)),h=l.position.offset-u.startOffset}return l.position}var p=r,g=i,v=p.position.textNode;if(v)for(var m=v.data,y=p.position.offset-v.startOffset;Sc(m,y)||"character"==g&&Ec(m,y);)p.next(),y=p.position.offset-v.startOffset;return p.position})(u,r.value))?{v:void(n instanceof Ss?e.change(function(e){e.setSelectionFocus(t)}):n.setFocus(t))}:void 0};r=c.next();){var d=h();if("object"==typeof d)return d.v}}(this,e,t)}},{key:"getSelectedContent",value:function(e){return l=e,this.change(function(e){var t=e.createDocumentFragment(),n=l.getFirstRange();if(n&&!n.isCollapsed){var r,i=n.start.root,o=n.start.getCommonPath(n.end),i=i.getNodeByPath(o),o=(i=n.start.parent==n.end.parent?n:e.createRange(e.createPositionAt(i,n.start.path[o.length]),e.createPositionAt(i,n.end.path[o.length]+1))).end.offset-i.start.offset,a=bE(i.getItems({shallow:!0}));try{for(a.s();!(r=a.n()).done;){var s=r.value;s.is("$textProxy")?e.appendText(s.data,s.getAttributes(),t):e.append(e.cloneElement(s,!0),t)}}catch(e){a.e(e)}finally{a.f()}i!=n&&(n=n._getTransformedByMove(i.start,e.createPositionAt(t,0),o)[0],i=e.createRange(e.createPositionAt(t,0),n.start),$c(e.createRange(n.end,e.createPositionAt(t,"end")),e),$c(i,e))}return t});var l}},{key:"hasContent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=e instanceof y?P._createIn(e):e;if(!e.isCollapsed){var n=t.ignoreWhitespaces,r=void 0!==n&&n,n=t.ignoreMarkers;if(!(void 0!==n&&n)){var i,o=bE(this.markers.getMarkersIntersectingRange(e));try{for(o.s();!(i=o.n()).done;)if(i.value.affectsData)return!0}catch(e){o.e(e)}finally{o.f()}}var a,s=bE(e.getItems());try{for(s.s();!(a=s.n()).done;){var l=a.value;if(this.schema.isContent(l)){if(!l.is("$textProxy"))return!0;if(!r)return!0;if(-1!==l.data.search(/\S/))return!0}}}catch(e){s.e(e)}finally{s.f()}}return!1}},{key:"createPositionFromPath",value:function(e,t,n){return new T(e,t,n)}},{key:"createPositionAt",value:function(e,t){return T._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return T._createAfter(e)}},{key:"createPositionBefore",value:function(e){return T._createBefore(e)}},{key:"createRange",value:function(e,t){return new P(e,t)}},{key:"createRangeIn",value:function(e){return P._createIn(e)}},{key:"createRangeOn",value:function(e){return P._createOn(e)}},{key:"createSelection",value:function(e,t,n){return new ms(e,t,n)}},{key:"createBatch",value:function(e){return new Tl(e)}},{key:"createOperationFromJSON",value:function(e){return CE(t,null,[{key:"fromJSON",value:function(e,t){return jc[e.__className].fromJSON(e,t)}}]),t.fromJSON(e,this.document);function t(){wE(this,t)}}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new rc(this,this._pendingChanges[0].batch);var t=this._pendingChanges[0].callback(this._currentWriter);e.push(t),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]);var Jc=Qc;function Qc(){var c,t=this;wE(this,Qc),this.markers=new Rc,this.document=new Tc(this),this.schema=new ol,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(function(e){return t.decorate(e)}),this.on("applyOperation",function(e,t){t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(function(e,t){if("$marker"===t.name)return!0}),(c=this).document.registerPostFixer(function(e){var t,n=c.document.selection,r=c.schema,i=[],o=!1,a=bE(n.getRanges());try{for(a.s();!(t=a.n()).done;){var s=t.value,l=Kc(s,r);l&&!l.isEqual(s)?(i.push(l),o=!0):i.push(s)}}catch(e){a.e(e)}finally{a.f()}o&&e.setSelection((e=>{var t=[];t.push(e.shift());var n,r=bE(e);try{for(r.s();!(n=r.n()).done;){var i,o,a,s=n.value,l=t.pop();s.isEqual(l)?t.push(l):s.isIntersecting(l)?(i=(l.start.isAfter(s.start)?s:l).start,o=(l.end.isAfter(s.end)?l:s).end,a=new P(i,o),t.push(a)):(t.push(l),t.push(s))}}catch(e){r.e(e)}finally{r.f()}return t})(i),{backward:n.isBackward})}),this.document.registerPostFixer(Hs)}o(Jc,i);xE(tu,Ia),Yc=SE(tu),CE(tu,[{key:"set",value:function(e,t){var n,r=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof t&&(n=t,t=function(e,t){r.editor.execute(n),t()}),yE(RE(tu.prototype),"set",this).call(this,e,t,i)}}]);var Yc,Xc=tu,D=(CE(eu,[{key:"initPlugins",value:function(){var e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],e=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(r),n,e)}},{key:"destroy",value:function(){var t=this,e=Promise.resolve();return(e="initializing"==this.state?new Promise(function(e){return t.once("ready",e)}):e).then(function(){t.fire("destroy"),t.stopListening(),t.commands.destroy()}).then(function(){return t.plugins.destroy()}).then(function(){t.model.destroy(),t.data.destroy(),t.editing.destroy(),t.keystrokes.destroy()}).then(function(){return t._context._removeEditor(t)})}},{key:"execute",value:function(){try{var e;return(e=this.commands).execute.apply(e,arguments)}catch(e){A.a.rethrowUnexpectedError(e,this)}}},{key:"focus",value:function(){this.editing.view.focus()}}]),eu);function eu(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(wE(this,eu),this._context=t.context||new Pn({language:t.language}),this._context._addEditor(this,!t.context),Array.from(this.constructor.builtinPlugins||[])),t=(this.config=new mn(t,this.constructor.defaultConfig),this.config.define("plugins",n),this.config.define(this._context._getEditorConfig()),this.plugins=new xn(this,n,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new nl,this.set("state","initializing"),this.once("ready",function(){return e.state="ready"},{priority:"high"}),this.once("destroy",function(){return e.state="destroyed"},{priority:"high"}),this.set("isReadOnly",!1),this.model=new Jc,new ur);this.data=new kl(this.model,t),this.editing=new el(this.model,t),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Cl([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Xc(this),this.keystrokes.listenTo(this.editing.view.document)}function tu(e){var t;return wE(this,tu),(t=Yc.call(this)).editor=e,t}o(D,i);CE(ru,[{key:"names",value:regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=bE(this._components.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return n=n.value,e.next=7,n.originalName;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"add",value:function(e,t){this._components.set(iu(e),{callback:t,originalName:e})}},{key:"create",value:function(e){if(this.has(e))return this._components.get(iu(e)).callback(this.editor.locale);throw new A.a("componentfactory-item-missing",this,{name:e})}},{key:"has",value:function(e){return this._components.has(iu(e))}}]);var nu=ru;function ru(e){wE(this,ru),this.editor=e,this._components=new Map}function iu(e){return String(e).toLowerCase()}CE(ou,[{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var e,t=bE(this._editableElementsMap.values());try{for(t.s();!(e=t.n()).done;)e.value.ckeditorInstance=null}catch(e){t.e(e)}finally{t.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){return this._editableElementsMap.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"main")}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"element",get:function(){return null}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]);$t=ou;function ou(e){var t=this;wE(this,ou),this.editor=e,this.componentFactory=new nu(e),this.focusTracker=new Aa,this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",function(){return t.update()})}o($t,c);var au,t={updateSourceElement:function(){if(!this.sourceElement)throw new A.a("editor-missing-sourceelement",this);var e=this.sourceElement,t=this.data.get();e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}},su=(xE(pu,Gt),au=SE(pu),CE(pu,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new wn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(e){if("string"!=typeof e)throw new A.a("pendingactions-add-invalid-message",this);var t=Object.create(i);return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}},{key:"remove",value:function(e){this._actions.remove(e),this.hasAny=!!this._actions.length}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}},{key:"first",get:function(){return this._actions.get(0)}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),pu),lu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',cu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',uu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',s='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',hu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',du='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',fu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>';function pu(){return wE(this,pu),au.apply(this,arguments)}function gu(e){var t=e.emitter,a=e.activator,s=e.callback,l=e.contextElements;t.listenTo(document,"mousedown",function(e,t){if(a()){var n,r="function"==typeof t.composedPath?t.composedPath():[],i=bE(l);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.contains(t.target)||r.includes(o))return}}catch(e){i.e(e)}finally{i.f()}s()}})}function vu(e){e.set("_isCssTransitionsDisabled",!1),e.disableCssTransitions=function(){e._isCssTransitionsDisabled=!0},e.enableCssTransitions=function(){e._isCssTransitionsDisabled=!1},e.extendTemplate({attributes:{class:[e.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function mu(e){var n=e.view;n.listenTo(n.element,"submit",function(e,t){t.preventDefault(),n.fire("submit")},{useCapture:!0})}xE(bu,wn),yu=SE(bu),CE(bu,[{key:"destroy",value:function(){this.map(function(e){return e.destroy()})}},{key:"setParent",value:function(e){this._parentElement=e;var t,n=bE(this);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._renderViewIntoCollectionParent(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"delegate",value:function(){for(var s=this,e=arguments.length,l=new Array(e),t=0;t<e;t++)l[t]=arguments[t];if(l.length&&l.every(function(e){return"string"==typeof e}))return{to:function(o){var e,t=bE(s);try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=bE(l);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.delegate(a).to(o)}}catch(e){i.e(e)}finally{i.f()}}}catch(e){t.e(e)}finally{t.f()}s.on("add",function(e,t){var n,r=bE(l);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.delegate(i).to(o)}}catch(e){r.e(e)}finally{r.f()}}),s.on("remove",function(e,t){var n,r=bE(l);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.stopDelegating(i,o)}}catch(e){r.e(e)}finally{r.f()}})}};throw new A.a("ui-viewcollection-delegate-wrong-events",this)}},{key:"_renderViewIntoCollectionParent",value:function(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}]);var yu,ku=bu;function bu(){var r,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return wE(this,bu),(r=yu.call(this,e,{idProperty:"viewUid"})).on("add",function(e,t,n){r._renderViewIntoCollectionParent(t,n)}),r.on("remove",function(e,t){t.element&&r._parentElement&&t.element.remove()}),r._parentElement=null,r}e(15);CE(_u,[{key:"createCollection",value:function(e){e=new ku(e);return this._viewCollections.add(e),e}},{key:"registerChild",value:function(e){var t,n=bE(e=_n(e)?e:[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._unboundChildren.add(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"deregisterChild",value:function(e){var t,n=bE(e=_n(e)?e:[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._unboundChildren.remove(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"setTemplate",value:function(e){this.template=new wu(e)}},{key:"extendTemplate",value:function(e){wu.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new A.a("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map(function(e){return e.destroy()}),this.template&&this.template._revertData&&this.template.revert(this.element)}},{key:"bindTemplate",get:function(){return this._bindTemplate||(this._bindTemplate=wu.bind(this,this))}}]);var S=_u;function _u(n){wE(this,_u),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new wn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",function(e,t){t.locale=n}),this.decorate("render")}o(S,mo),o(S,i);CE(Cu,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new A.a("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(regeneratorRuntime.mark(function t(n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.children){e.next=24;break}r=bE(n.children),e.prev=2,r.s();case 4:if((i=r.n()).done)e.next=16;else{if(zu(o=i.value))return e.next=9,o;e.next=11}break;case 9:e.next=14;break;case 11:if(e.t0=Bu(o),e.t0)return e.delegateYield(t(o),"t1",14);e.next=14;break;case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(2),r.e(e.t2);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}},t,null,[[2,18,21,24]])})(this),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"_renderNode",value:function(e){if(e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new A.a("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var t=(t=e.node)||(e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag));return this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:"_renderText",value:function(e){var t,n=e.node;return n?e.revertData.text=n.textContent:n=e.node=document.createTextNode(""),Ou(this.text)?this._bindToObservable({schema:this.text,updater:(t=n,{set:function(e){t.textContent=e},remove:function(){t.textContent=""}}),data:e}):n.textContent=this.text.join(""),n}},{key:"_renderAttributes",value:function(e){var t,n,r,i;if(this.attributes){var o,a=e.node,s=e.revertData;for(t in this.attributes)r=a.getAttribute(t),n=this.attributes[t],s&&(s.attributes[t]=r),i=R(n[0])&&n[0].ns?n[0].ns:null,Ou(n)?(o=i?n[0].value:n,s&&Uu(t)&&o.unshift(r),this._bindToObservable({schema:o,updater:((t,n,r)=>({set:function(e){t.setAttributeNS(r,n,e)},remove:function(){t.removeAttributeNS(r,n)}}))(a,t,i),data:e})):"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(s&&r&&Uu(t)&&n.unshift(r),Vu(n=n.map(function(e){return e&&e.value||e}).reduce(function(e,t){return e.concat(t)},[]).reduce(Du,""))||a.setAttributeNS(i,t,n))}}},{key:"_renderStyleAttribute",value:function(e,t){var n,r=t.node;for(n in e){var i=e[n];Ou(i)?this._bindToObservable({schema:[i],updater:((t,n)=>({set:function(e){t.style[n]=e},remove:function(){t.style[n]=null}}))(r,n),data:t}):r.style[n]=i}}},{key:"_renderElementChildren",value:function(e){var t,n=e.node,r=e.intoFragment?document.createDocumentFragment():n,i=e.isApplying,o=0,a=bE(this.children);try{for(a.s();!(t=a.n()).done;){var s,l=t.value;if(Hu(l)){if(!i){l.setParent(n);var c,u=bE(l);try{for(u.s();!(c=u.n()).done;){var h=c.value;r.appendChild(h.element)}}catch(e){u.e(e)}finally{u.f()}}}else zu(l)?i||(l.isRendered||l.render(),r.appendChild(l.element)):eo(l)?r.appendChild(l):i?(s={children:[],bindings:[],attributes:{}},e.revertData.children.push(s),l._renderNode({node:r.childNodes[o++],isApplying:!0,revertData:s})):r.appendChild(l.render())}}catch(e){a.e(e)}finally{a.f()}e.intoFragment&&n.appendChild(r)}},{key:"_setUpListeners",value:function(i){var t=this;if(this.eventListeners)for(var e in this.eventListeners)(r=>{var e=t.eventListeners[r].map(function(e){var t=kE(r.split("@"),2),n=t[0];return e.activateDomEventListener(n,t[1],i)});i.revertData&&i.revertData.bindings.push(e)})(e)}},{key:"_bindToObservable",value:function(e){var t=e.schema,n=e.updater,r=e.data,e=r.revertData,i=(Mu(t,n,r),t.filter(function(e){return!Vu(e)}).filter(function(e){return e.observable}).map(function(e){return e.activateAttributeListener(t,n,r)}));e&&e.bindings.push(i)}},{key:"_revertTemplateFromNode",value:function(e,t){var n,r=bE(t.bindings);try{for(r.s();!(n=r.n()).done;){var i,o=bE(n.value);try{for(o.s();!(i=o.n()).done;)(0,i.value)()}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}if(t.text)e.textContent=t.text;else{for(var a in t.attributes){var s=t.attributes[a];null===s?e.removeAttribute(a):e.setAttribute(a,s)}for(var l=0;l<t.children.length;++l)this._revertTemplateFromNode(e.childNodes[l],t.children[l])}}}],[{key:"bind",value:function(r,i){return{to:function(e,t){return new Tu({eventNameOrFunction:e,attribute:e,observable:r,emitter:i,callback:t})},if:function(e,t,n){return new Au({observable:r,emitter:i,attribute:e,valueIfTrue:t,callback:n})}}}},{key:"extend",value:function(e,t){if(e._isRendered)throw new A.a("template-extend-render",[this,e]);!function e(t,n){var r;if(n.attributes&&(t.attributes||(t.attributes={}),Fu(t.attributes,n.attributes)),n.eventListeners&&(t.eventListeners||(t.eventListeners={}),Fu(t.eventListeners,n.eventListeners)),n.text&&(r=t.text).push.apply(r,_E(n.text)),n.children&&n.children.length){if(t.children.length!=n.children.length)throw new A.a("ui-template-extend-children-mismatch",t);var i,o=0,a=bE(n.children);try{for(a.s();!(i=a.n()).done;){var s=i.value;e(t.children[o++],s)}}catch(e){a.e(e)}finally{a.f()}}}(e,Lu(Nu(t)))}}]);var wu=Cu;function Cu(e){wE(this,Cu),Object.assign(this,Lu(Nu(e))),this._isRendered=!1,this._revertData=null}o(wu,c);CE(Iu,[{key:"getValue",value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:"activateAttributeListener",value:function(e,t,n){function r(){return Mu(e,t,n)}var i=this;return this.emitter.listenTo(this.observable,"change:"+this.attribute,r),function(){i.emitter.stopListening(i.observable,"change:"+i.attribute,r)}}}]);var xu,Su,Eu=Iu,Tu=(xE(Ru,Eu),Su=SE(Ru),CE(Ru,[{key:"activateDomEventListener",value:function(e,n,t){function r(e,t){n&&!t.target.matches(n)||("function"==typeof i.eventNameOrFunction?i.eventNameOrFunction(t):i.observable.fire(i.eventNameOrFunction,t))}var i=this;return this.emitter.listenTo(t.node,e,r),function(){i.emitter.stopListening(t.node,e,r)}}}]),Ru),Au=(xE(Pu,Eu),xu=SE(Pu),CE(Pu,[{key:"getValue",value:function(e){return!Vu(yE(RE(Pu.prototype),"getValue",this).call(this,e))&&(this.valueIfTrue||!0)}}]),Pu);function Pu(){return wE(this,Pu),xu.apply(this,arguments)}function Ru(){return wE(this,Ru),Su.apply(this,arguments)}function Iu(e){wE(this,Iu),Object.assign(this,e)}function Ou(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(Ou):e instanceof Eu)}function Mu(e,t,n){r=n.node;var r,n=e.map(function(e){return e instanceof Eu?e.getValue(r):e});Vu(n=1==e.length&&e[0]instanceof Au?n[0]:n.reduce(Du,""))?t.remove():t.set(n)}function Nu(e){return gn(e,function(e){if(e&&(e instanceof Eu||Bu(e)||zu(e)||Hu(e)))return e})}function Lu(e){if("string"==typeof e?e={text:[e]}:e.text&&((s=e).text=b(s.text)),e.on&&(e.eventListeners=(e=>{for(var t in e)ju(e,t);return e})(e.on),delete e.on),!e.text){if(e.attributes){var t=e.attributes;for(var n in t)t[n].value&&(t[n].value=b(t[n].value)),ju(t,n)}var r=[];if(e.children)if(Hu(e.children))r.push(e.children);else{var i,o=bE(e.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;Bu(a)||zu(a)||eo(a)?r.push(a):r.push(new wu(a))}}catch(e){o.e(e)}finally{o.f()}}e.children=r}var s;return e}function ju(e,t){e[t]=b(e[t])}function Du(e,t){return Vu(t)?e:Vu(e)?t:"".concat(e," ").concat(t)}function Fu(e,t){for(var n in t){var r;e[n]?(r=e[n]).push.apply(r,_E(t[n])):e[n]=t[n]}}function Vu(e){return!e&&0!==e}function zu(e){return e instanceof S}function Bu(e){return e instanceof wu}function Hu(e){return e instanceof ku}function Uu(e){return"class"==e||"style"==e}xE($u,ku),qu=SE($u),CE($u,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new wu({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var e=document.querySelector(".ck-body-wrapper");e||(e=ma(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){yE(RE($u.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}]);var qu,Wu=$u;function $u(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return wE(this,$u),(t=qu.call(this,t)).locale=e,t}e(17);xE(Zu,S),Ku=SE(Zu),CE(Zu,[{key:"render",value:function(){var e=this;yE(RE(Zu.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",function(){e._updateXMLContent(),e._colorFillPaths()}),this.on("change:fillColor",function(){e._colorFillPaths()})}},{key:"_updateXMLContent",value:function(){if(this.content){var e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");for(t&&(this.viewBox=t),this.element.innerHTML="";0<e.childNodes.length;)this.element.appendChild(e.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var t=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(function(e){e.style.fill=t.fillColor})}}]);var Ku,Gu=Zu;function Zu(){wE(this,Zu);var e,t=(e=Ku.call(this)).bindTemplate;return e.set("content",""),e.set("viewBox","0 0 20 20"),e.set("fillColor",""),e.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}}),e}e(19);xE(Yu,S),Ju=SE(Yu);var Ju,Qu=Yu;function Yu(e){wE(this,Yu),(e=Ju.call(this,e)).set("text",""),e.set("position","s");var t=e.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",t.to("position",function(e){return"ck-tooltip_"+e}),t.if("text","ck-hidden",function(e){return!e.trim()})]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:t.to("text")}]}]}),e}e(21);xE(eh,S),Xu=SE(eh),CE(eh,[{key:"render",value:function(){yE(RE(eh.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var e=new Qu;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}},{key:"_createLabelView",value:function(e){var t=new S;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:"ck-editor__aria-label_"+e},children:[{text:this.bindTemplate.to("label")}]}),t}},{key:"_createKeystrokeView",value:function(){var e=new S;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",vi)}]}),e}},{key:"_getTooltipString",value:function(e,t,n){return e?"string"==typeof e?e:(n=n&&vi(n),e instanceof Function?e(t,n):"".concat(t).concat(n?" (".concat(n,")"):"")):""}}]);var Xu,E=eh;function eh(e){wE(this,eh);var t,e=(t=Xu.call(this,e)).bindTemplate,n=U();return t.set("class"),t.set("labelStyle"),t.set("icon"),t.set("isEnabled",!0),t.set("isOn",!1),t.set("isVisible",!0),t.set("isToggleable",!1),t.set("keystroke"),t.set("label"),t.set("tabindex",-1),t.set("tooltip"),t.set("tooltipPosition","s"),t.set("type","button"),t.set("withText",!1),t.set("withKeystroke",!1),t.children=t.createCollection(),t.tooltipView=t._createTooltipView(),t.labelView=t._createLabelView(n),t.iconView=new Gu,t.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),t.keystrokeView=t._createKeystrokeView(),t.bind("_tooltipString").to(TE(t),"tooltip",TE(t),"label",TE(t),"keystroke",t._getTooltipString.bind(TE(t))),t.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",function(e){return!e}),e.if("isVisible","ck-hidden",function(e){return!e}),e.to("isOn",function(e){return e?"ck-on":"ck-off"}),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",function(e){return e||"button"}),tabindex:e.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+n,"aria-disabled":e.if("isEnabled",!0,function(e){return!e}),"aria-pressed":e.to("isOn",function(e){return!!t.isToggleable&&String(e)})},children:t.children,on:{mousedown:e.to(function(e){e.preventDefault()}),click:e.to(function(e){t.isEnabled?t.fire("execute"):e.preventDefault()})}}),t}e(23);xE(oh,E),th=SE(oh),CE(oh,[{key:"render",value:function(){yE(RE(oh.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var e=new S;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}]);var th,nh=oh,rh=(CE(ih,[{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var t=this.current,n=this.focusables.length;if(n){if(null===t)return this[1===e?"first":"last"];var r=(t+n+e)%n;do{var i=this.focusables.get(r);if(ah(i))return i}while((r=(r+n+e)%n)!==t)}return null}},{key:"first",get:function(){return this.focusables.find(ah)||null}},{key:"last",get:function(){return this.focusables.filter(ah).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var n=this,r=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(function(e,t){e=e.element===n.focusTracker.focusedElement;return e&&(r=t),e}),r)}}]),ih);function ih(o){var a=this;if(wE(this,ih),Object.assign(this,o),o.actions&&o.keystrokeHandler)for(var e in o.actions)(n=>{var e,t=o.actions[n],r=bE(t="string"==typeof t?[t]:t);try{for(r.s();!(e=r.n()).done;){var i=e.value;o.keystrokeHandler.set(i,function(e,t){a[n](),t()})}}catch(e){r.e(e)}finally{r.f()}})(e)}function oh(e){return wE(this,oh),(e=th.call(this,e)).isToggleable=!0,e.toggleSwitchView=e._createToggleView(),e.extendTemplate({attributes:{class:"ck-switchbutton"}}),e}function ah(e){return!(!e.focus||"none"==l.window.getComputedStyle(e.element).display)}e(25);var sh,lh='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',ch=(xE(uh,E),sh=SE(uh),CE(uh,[{key:"render",value:function(){yE(RE(uh.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var e=new Gu;return e.content=lh,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}]),uh);function uh(e){return wE(this,uh),(e=sh.call(this,e)).arrowView=e._createArrowView(),e.extendTemplate({attributes:{"aria-haspopup":!0}}),e.delegate("execute").to(TE(e),"open"),e}e(27);xE(vh,S),dh=SE(vh),CE(vh,[{key:"render",value:function(){var n=this;yE(RE(vh.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",function(e,t){n.focusTracker.focusedElement===n.actionView.element&&(n.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",function(e,t){n.focusTracker.focusedElement===n.arrowView.element&&(n.actionView.focus(),t())})}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var e=new E;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}},{key:"_createArrowView",value:function(){var e=new E,t=e.bindTemplate;return e.icon=lh,e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":t.to("isOn",function(e){return String(e)})}}),e.bind("isEnabled").to(this),e.delegate("execute").to(this,"open"),e}}]);var hh,dh,fh=vh,ph=(xE(gh,S),hh=SE(gh),CE(gh,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){var e;this.children.length&&("function"==typeof(e=this.children.last).focusLast?e.focusLast():e.focus())}}]),gh);function gh(e){wE(this,gh);var t=(e=hh.call(this,e)).bindTemplate;return e.set("isVisible",!1),e.set("position","se"),e.children=e.createCollection(),e.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",function(e){return"ck-dropdown__panel_"+e}),t.if("isVisible","ck-dropdown__panel-visible")]},children:e.children,on:{selectstart:t.to(function(e){return e.preventDefault()})}}),e}function vh(e){wE(this,vh);var t=(e=dh.call(this,e)).bindTemplate;return e.set("icon"),e.set("isEnabled",!0),e.set("isOn",!1),e.set("isToggleable",!1),e.set("isVisible",!0),e.set("keystroke"),e.set("label"),e.set("tabindex",-1),e.set("tooltip"),e.set("tooltipPosition","s"),e.set("type","button"),e.set("withText",!1),e.children=e.createCollection(),e.actionView=e._createActionView(),e.arrowView=e._createArrowView(),e.keystrokes=new Ia,e.focusTracker=new Aa,e.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.if("isVisible","ck-hidden",function(e){return!e}),e.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:e.children}),e}function mh(e){var t=e.element,n=e.target,r=e.positions,i=e.limiter,e=e.fitInViewport;ge(n)&&(n=n()),ge(i)&&(i=i());var o,a=t&&t.parentNode&&t.offsetParent!==l.document.body?t.offsetParent:null,t=new f(t),n=new f(n),e=bh((i||e?(i=((e,m)=>{var t=m.viewportRect,n=m.elementRect.getArea(),e=(e=>{var t,n=m.targetRect,r=m.elementRect,i=m.limiterRect,o=m.viewportRect,a=[],s=r.getArea(),l=bE(e);try{for(l.s();!(t=l.n()).done;){var c=yh(t.value,n,r);if(c){var u,h=kE(c,2),d=h[0],f=h[1],p=0,g=0,v=(i&&(o?(u=i.getIntersection(o))&&(p=u.getIntersectionArea(f)):p=i.getIntersectionArea(f)),{positionName:d,positionRect:f,limiterIntersectArea:p,viewportIntersectArea:g=o?o.getIntersectionArea(f):g});if(p===s)return[v];a.push(v)}}}catch(e){l.e(e)}finally{l.f()}return a})(e);if(t){t=kh(e.filter(function(e){return e.viewportIntersectArea===n}),n);if(t)return t}return kh(e,n)})(r,{targetRect:n,elementRect:t,limiterRect:i&&new f(i).getVisible(),viewportRect:e&&new f(l.window)}),o=(e=kE(i||yh(r[0],n,t),2))[0],e):(o=(i=kE(yh(r[0],n,t),2))[0],i))[1]);return a&&(r=a,t=(n=e).left,n=n.top,i=bh(new f(r)),a=ka(r),e={left:(t-=i.left)+r.scrollLeft-a.left,top:(n-=i.top)+r.scrollTop-a.top}),{left:e.left,top:e.top,name:o}}function yh(e,t,n){var r,e=e(t,n);return e?(t=e.left,r=e.top,[e.name,n.clone().moveTo(t,r)]):null}function kh(e,t){var n,r,i,o=0,a=bE(e);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=s.positionName,c=s.positionRect,u=s.limiterIntersectArea,h=s.viewportIntersectArea;if(u===t)return[l,c];var d=Math.pow(h,2)+Math.pow(u,2);o<d&&(o=d,n=c,r=l)}}catch(e){a.e(e)}finally{a.f()}return n?[r,n]:null}function bh(e){var t=e.left,n=l.window;return{left:t+n.scrollX,top:e.top+n.scrollY}}e(29);xE(Ch,S),_h=SE(Ch),CE(Ch,[{key:"render",value:function(){function e(e,t){n.isOpen&&(n.buttonView.focus(),n.isOpen=!1,t())}var n=this;yE(RE(Ch.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",function(){n.isOpen=!n.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",function(){n.isOpen&&(n.panelView.position="auto"===n.panelPosition?Ch._getOptimalPosition({element:n.panelView.element,target:n.buttonView.element,fitInViewport:!0,positions:n._panelPositions}).name:n.panelPosition)}),this.keystrokes.listenTo(this.element);this.keystrokes.set("arrowdown",function(e,t){n.buttonView.isEnabled&&!n.isOpen&&(n.isOpen=!0,t())}),this.keystrokes.set("arrowright",function(e,t){n.isOpen&&t()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var e=Ch.defaultPanelPositions,t=e.south,n=e.north,r=e.southEast,i=e.southWest,o=e.northEast,a=e.northWest,s=e.southMiddleEast,l=e.southMiddleWest,c=e.northMiddleEast,e=e.northMiddleWest;return"rtl"!==this.locale.uiLanguageDirection?[r,i,s,l,t,o,a,c,e,n]:[i,r,l,s,t,a,o,e,c,n]}}]);var _h,wh=Ch;function Ch(e,t,n){wE(this,Ch);var r=(e=_h.call(this,e)).bindTemplate;return e.buttonView=t,e.panelView=n,e.set("isOpen",!1),e.set("isEnabled",!0),e.set("class"),e.set("id"),e.set("panelPosition","auto"),e.keystrokes=new Ia,e.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",function(e){return!e})],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),e}wh.defaultPanelPositions={south:function(e,t){return{top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}},southEast:function(e){return{top:e.bottom,left:e.left,name:"se"}},southWest:function(e,t){return{top:e.bottom,left:e.left-t.width+e.width,name:"sw"}},southMiddleEast:function(e,t){return{top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}},southMiddleWest:function(e,t){return{top:e.bottom,left:e.left-3*(t.width-e.width)/4,name:"smw"}},north:function(e,t){return{top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}},northEast:function(e,t){return{top:e.top-t.height,left:e.left,name:"ne"}},northWest:function(e,t){return{top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}},northMiddleEast:function(e,t){return{top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}},northMiddleWest:function(e,t){return{top:e.top-t.height,left:e.left-3*(t.width-e.width)/4,name:"nmw"}}},wh._getOptimalPosition=mh;xE(Ph,S),Sh=SE(Ph);var xh,Sh,Eh=Ph,Th=(xE(Ah,S),xh=SE(Ah),Ah);function Ah(e){return wE(this,Ah),(e=xh.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}}),e}function Ph(e){return wE(this,Ph),(e=Sh.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),e}function Rh(e){return Array.isArray(e)?{items:e,removeItems:[]}:e?Object.assign({items:[],removeItems:[]},e):{items:[],removeItems:[]}}e(31);xE(zh,S),Oh=SE(zh),CE(zh,[{key:"render",value:function(){var n=this;yE(RE(zh.prototype),"render",this).call(this);var e,t=bE(this.items);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.focusTracker.add(r.element)}}catch(e){t.e(e)}finally{t.f()}this.items.on("add",function(e,t){n.focusTracker.add(t.element)}),this.items.on("remove",function(e,t){n.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),yE(RE(zh.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(e,r){var i=this,o=Rh(e),e=o.items.filter(function(e,t,n){return"|"===e||-1===o.removeItems.indexOf(e)&&("-"===e?!i.options.shouldGroupWhenFull||(Object(A.b)("toolbarview-line-break-ignored-when-grouping-items",n),!1):!!r.has(e)||(Object(A.b)("toolbarview-item-unavailable",{name:e}),!1))}),e=this._cleanSeparators(e).map(function(e){return"|"===e?new Eh:"-"===e?new Th:r.create(e)});this.items.addMany(e)}},{key:"_cleanSeparators",value:function(e){function r(e){return"-"!==e&&"|"!==e}var t=e.length,n=e.findIndex(r),t=t-e.slice().reverse().findIndex(r);return e.slice(n,t).filter(function(e,t,n){return!!r(e)||!(0<t&&n[t-1]===e)})}}]);var Ih,Oh,Mh=zh,Nh=(xE(Vh,S),Ih=SE(Vh),Vh),Lh=(CE(Fh,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),Fh),jh=(CE(Dh,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(this.viewElement.offsetParent){for(var e,t=this.groupedItems.length;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_enableGroupingOnResize",value:function(){var t,n=this;this.resizeObserver=new xa(this.viewElement,function(e){t&&t===e.contentRect.width&&!n.shouldUpdateGroupingOnNextResize||(n.shouldUpdateGroupingOnNextResize=!1,n._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var t=this;e.on("change:maxWidth",function(){t._updateGrouping()})}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new Eh),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,t=e.t,n=Jh(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",Qh(n,[]),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using(function(e){return e}),n}},{key:"_updateFocusCycleableItems",value:function(){var t=this;this.viewFocusables.clear(),this.ungroupedItems.map(function(e){t.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}},{key:"_areItemsOverflowing",get:function(){var e,t,n,r;return!!this.ungroupedItems.length&&(r=this.viewElement,e=this.viewLocale.uiLanguageDirection,t=new f(r.lastChild),n=new f(r),this.cachedPadding||(r=l.window.getComputedStyle(r),this.cachedPadding=Number.parseInt(r["ltr"===e?"paddingRight":"paddingLeft"])),"ltr"===e?t.right>n.right-this.cachedPadding:t.left<n.left+this.cachedPadding)}}]),Dh);function Dh(e){var l=this;wE(this,Dh),this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using(function(e){return e}),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),e.children.on("add",this._updateFocusCycleableItems.bind(this)),e.children.on("remove",this._updateFocusCycleableItems.bind(this)),e.items.on("change",function(e,t){var n,r=t.index,i=bE(t.removed);try{for(i.s();!(n=i.n()).done;){var o=n.value;(r>=l.ungroupedItems.length?l.groupedItems:l.ungroupedItems).remove(o)}}catch(e){i.e(e)}finally{i.f()}for(var a=r;a<r+t.added.length;a++){var s=t.added[a-r];a>l.ungroupedItems.length?l.groupedItems.add(s,a-l.ungroupedItems.length):l.ungroupedItems.add(s,a)}l._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}function Fh(e){wE(this,Fh);var t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(function(e){return e}),e.focusables.bindTo(e.items).using(function(e){return e}),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}function Vh(e){return wE(this,Vh),(e=Ih.call(this,e)).children=e.createCollection(),e.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:e.children}),e}function zh(e,t){wE(this,zh);var n,r=(n=Oh.call(this,e)).bindTemplate,i=n.t,t=(n.options=t||{},n.set("ariaLabel",i("Editor toolbar")),n.set("maxWidth","auto"),n.items=n.createCollection(),n.focusTracker=new Aa,n.keystrokes=new Ia,n.set("class"),n.set("isCompact",!1),n.itemsView=new Nh(e),n.children=n.createCollection(),n.children.add(n.itemsView),n.focusables=n.createCollection(),"rtl"===e.uiLanguageDirection);n._focusCycler=new rh({focusables:n.focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:[t?"arrowright":"arrowleft","arrowup"],focusNext:[t?"arrowleft":"arrowright","arrowdown"]}});var o,i=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];return n.options.shouldGroupWhenFull&&n.options.isFloating&&i.push("ck-toolbar_floating"),n.setTemplate({tag:"div",attributes:{class:i,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")}},children:n.children,on:{mousedown:(o=TE(n)).bindTemplate.to(function(e){e.target===o.element&&e.preventDefault()})}}),n._behavior=new(n.options.shouldGroupWhenFull?jh:Lh)(TE(n)),n}e(33);xE(Zh,S),Uh=SE(Zh),CE(Zh,[{key:"render",value:function(){var n=this;yE(RE(Zh.prototype),"render",this).call(this);var e,t=bE(this.items);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.focusTracker.add(r.element)}}catch(e){t.e(e)}finally{t.f()}this.items.on("add",function(e,t){n.focusTracker.add(t.element)}),this.items.on("remove",function(e,t){n.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]);var Bh,Hh,Uh,qh=Zh,Wh=(xE(Gh,S),Hh=SE(Gh),CE(Gh,[{key:"focus",value:function(){this.children.first.focus()}}]),Gh),$h=(xE(Kh,S),Bh=SE(Kh),Kh);function Kh(e){return wE(this,Kh),(e=Bh.call(this,e)).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),e}function Gh(e){return wE(this,Gh),(e=Hh.call(this,e)).children=e.createCollection(),e.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:e.children}),e}function Zh(){var e;return wE(this,Zh),(e=Uh.call(this)).items=e.createCollection(),e.focusTracker=new Aa,e.keystrokes=new Ia,e._focusCycler=new rh({focusables:e.items,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),e.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:e.items}),e}function Jh(e,t){var n,r,i,t=new(1<arguments.length&&void 0!==t?t:ch)(e),o=new ph(e),e=new wh(e,t,o);return t.bind("isEnabled").to(e),(t instanceof ch?t:t.arrowView).bind("isOn").to(e,"isOpen"),(i=o=e).on("render",function(){gu({emitter:i,activator:function(){return i.isOpen},callback:function(){i.isOpen=!1},contextElements:[i.element]})}),(r=o).on("execute",function(e){e.source instanceof nh||(r.isOpen=!1)}),(n=o).keystrokes.set("arrowdown",function(e,t){n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",function(e,t){n.isOpen&&(n.panelView.focusLast(),t())}),e}function Qh(e,t){var n=e.locale,r=n.t,i=e.toolbarView=new Mh(n);i.set("ariaLabel",r("Dropdown toolbar")),e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.map(function(e){return i.items.add(e)}),e.panelView.children.add(i),i.items.delegate("execute").to(e)}function Yh(e,t){var r=e.locale,n=e.listView=new qh(r);n.items.bindTo(t).using(function(e){var t,n=e.type,e=e.model;return"separator"===n?new $h(r):"button"===n||"switchbutton"===n?(t=new Wh(r),(n=new("button"===n?E:nh)(r)).bind.apply(n,_E(Object.keys(e))).to(e),n.delegate("execute").to(t),t.children.add(n),t):void 0}),e.panelView.children.add(n),n.items.delegate("execute").to(e)}e(35),e(37),e(39);xE(td,S),Xh=SE(td),CE(td,[{key:"render",value:function(){yE(RE(td.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),yE(RE(td.prototype),"destroy",this).call(this)}}]);var Xh,ed=td;function td(e){var t;return wE(this,td),(t=Xh.call(this,e)).body=new Wu(e),t}e(41);xE(hd,S),od=SE(hd);var nd,rd,id,od,ad=hd,ed=(xE(ud,ed),id=SE(ud),CE(ud,[{key:"_createVoiceLabel",value:function(){var e=this.t,t=new ad;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}]),ud),sd=(xE(cd,S),rd=SE(cd),CE(cd,[{key:"render",value:function(){var e=this;yE(RE(cd.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",function(){return e._updateIsFocusedClasses()}),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),yE(RE(cd.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var o=this._editingView;function a(n){o.change(function(e){var t=o.document.getRoot(n.name);e.addClass(n.isFocused?"ck-focused":"ck-blurred",t),e.removeClass(n.isFocused?"ck-blurred":"ck-focused",t)})}(o.isRenderingInProgress?function r(i){o.once("change:isRenderingInProgress",function(e,t,n){(n?r:a)(i)})}:a)(this)}}]),cd,xE(ld,cd),nd=SE(ld),CE(ld,[{key:"render",value:function(){var n=this,r=(yE(RE(ld.prototype),"render",this).call(this),this._editingView),i=this.t;r.change(function(e){var t=r.document.getRoot(n.name);e.setAttribute("aria-label",i("Rich Text Editor, %0",n.name),t)})}}]),ld);function ld(e,t,n){return wE(this,ld),(e=nd.call(this,e,t,n)).extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),e}function cd(e,t,n){var r;return wE(this,cd),(r=rd.call(this,e)).setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),r.name=null,r.set("isFocused",!1),r._editableElement=n,r._hasExternalElement=!!r._editableElement,r._editingView=t,r}function ud(e){var t;return wE(this,ud),(t=id.call(this,e)).top=t.createCollection(),t.main=t.createCollection(),t._voiceLabelView=t._createVoiceLabel(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":t._voiceLabelView.id},children:[t._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:t.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:t.main}]}),t}function hd(e){wE(this,hd),(e=od.call(this,e)).set("text"),e.set("for"),e.id="ck-editor__label_"+U();var t=e.bindTemplate;return e.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:e.id,for:t.to("for")},children:[{text:t.to("text")}]}),e}e(43),e(45);xE(pd,S),dd=SE(pd),CE(pd,[{key:"render",value:function(){var r=this;yE(RE(pd.prototype),"render",this).call(this),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",function(e,t,n){r._setDomElementValue(n),r._updateIsEmpty()})}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}},{key:"_updateIsEmpty",value:function(){this.isEmpty=!this.element.value}},{key:"_setDomElementValue",value:function(e){this.element.value=e||0===e?e:""}}]);var dd,fd=pd;function pd(e){wE(this,pd),(e=dd.call(this,e)).set("value"),e.set("id"),e.set("placeholder"),e.set("isReadOnly",!1),e.set("hasError",!1),e.set("ariaDescribedById"),e.focusTracker=new Aa,e.bind("isFocused").to(e.focusTracker),e.set("isEmpty",!0);var t=e.bindTemplate;return e.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to("input"),change:t.to(e._updateIsEmpty.bind(TE(e)))}}),e}e(47);xE(md,S),gd=SE(md),CE(md,[{key:"_createLabelView",value:function(e){var t=new ad(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}},{key:"_createStatusView",value:function(e){var t=new S(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",function(e){return!e})],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}},{key:"focus",value:function(){this.fieldView.focus()}}]);var gd,vd=md;function md(e,t){wE(this,md),e=gd.call(this,e);var n="ck-labeled-field-view-"+U(),r="ck-labeled-field-view-status-"+U(),t=(e.fieldView=t(TE(e),n,r),e.set("label"),e.set("isEnabled",!0),e.set("isEmpty",!0),e.set("isFocused",!1),e.set("errorText",null),e.set("infoText",null),e.set("class"),e.set("placeholder"),e.labelView=e._createLabelView(n),e.statusView=e._createStatusView(r),e.bind("_statusText").to(TE(e),"errorText",TE(e),"infoText",function(e,t){return e||t}),e.bindTemplate);return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",t.to("class"),t.if("isEnabled","ck-disabled",function(e){return!e}),t.if("isEmpty","ck-labeled-field-view_empty"),t.if("isFocused","ck-labeled-field-view_focused"),t.if("placeholder","ck-labeled-field-view_placeholder"),t.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[e.fieldView,e.labelView]},e.statusView]}),e}function yd(e,t,n){var r=new fd(e.locale);return r.set({id:t,ariaDescribedById:n}),r.bind("isReadOnly").to(e,"isEnabled",function(e){return!e}),r.bind("hasError").to(e,"errorText",function(e){return!!e}),r.on("input",function(){e.errorText=null}),e.bind("isEmpty","isFocused","placeholder").to(r),r}function kd(e,t){wE(this,kd),t&&$e(this,t),e&&this.set(e)}xE(wd,Gt),bd=SE(wd),CE(wd,[{key:"init",value:function(){this.on("show:warning",function(e,t){window.alert(t.message)},{priority:"lowest"})}},{key:"showSuccess",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}},{key:"showInfo",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}},{key:"showWarning",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}},{key:"_showNotification",value:function(e){this.fire("show:"+e.type+(e.namespace?":"+e.namespace:""),{message:e.message,type:e.type,title:e.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]);var bd,_d=wd;function wd(){return wE(this,wd),bd.apply(this,arguments)}o(kd,i),e(49);var Cd,xd=Ta("px"),Sd=l.document.body,I=(xE(Ed,S),Cd=SE(Ed),CE(Ed,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(e){this.show();var t=Ed.defaultPositions,t=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast],limiter:Sd,fitInViewport:!0},e),e=Ed._getOptimalPosition(t),t=parseInt(e.left),n=parseInt(e.top);Object.assign(this,{top:n,left:t,position:e.name})}},{key:"pin",value:function(e){var t=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){t.isVisible?t._startPinning(e):t._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(r){var i=this,o=(this.attachTo(r),Td(r.target)),a=r.limiter?Td(r.limiter):Sd;this.listenTo(l.document,"scroll",function(e,t){var t=t.target,n=o&&t.contains(o),t=a&&t.contains(a);!n&&!t&&o&&a||i.attachTo(r)},{useCapture:!0}),this.listenTo(l.window,"resize",function(){i.attachTo(r)})}},{key:"_stopPinning",value:function(){this.stopListening(l.document,"scroll"),this.stopListening(l.window,"resize")}}]),Ed);function Ed(e){wE(this,Ed);var t=(e=Cd.call(this,e)).bindTemplate;return e.set("top",0),e.set("left",0),e.set("position","arrow_nw"),e.set("isVisible",!1),e.set("withArrow",!0),e.set("class"),e.content=e.createCollection(),e.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",function(e){return"ck-balloon-panel_"+e}),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",xd),left:t.to("left",xd)}},children:e.content}),e}function Td(e){return vn(e)?e:ya(e)?e.commonAncestorContainer:"function"==typeof e?Td(e()):null}function Ad(e,t){return e.top-t.height-I.arrowVerticalOffset}function Pd(e){return e.bottom+I.arrowVerticalOffset}I.arrowHorizontalOffset=25,I.arrowVerticalOffset=10,I._getOptimalPosition=mh,I.defaultPositions={northWestArrowSouthWest:function(e,t){return{top:Ad(e,t),left:e.left-I.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(e,t){return{top:Ad(e,t),left:e.left-.25*t.width-I.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(e,t){return{top:Ad(e,t),left:e.left-t.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(e,t){return{top:Ad(e,t),left:e.left-.75*t.width+I.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(e,t){return{top:Ad(e,t),left:e.left-t.width+I.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(e,t){return{top:Ad(e,t),left:e.left+e.width/2-I.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(e,t){return{top:Ad(e,t),left:e.left+e.width/2-.25*t.width-I.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(e,t){return{top:Ad(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(e,t){return{top:Ad(e,t),left:e.left+e.width/2-.75*t.width+I.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(e,t){return{top:Ad(e,t),left:e.left+e.width/2-t.width+I.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(e,t){return{top:Ad(e,t),left:e.right-I.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(e,t){return{top:Ad(e,t),left:e.right-.25*t.width-I.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(e,t){return{top:Ad(e,t),left:e.right-t.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(e,t){return{top:Ad(e,t),left:e.right-.75*t.width+I.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(e,t){return{top:Ad(e,t),left:e.right-t.width+I.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(e,t){return{top:Pd(e),left:e.left-I.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(e,t){return{top:Pd(e),left:e.left-.25*t.width-I.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(e,t){return{top:Pd(e),left:e.left-t.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(e,t){return{top:Pd(e),left:e.left-.75*t.width+I.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(e,t){return{top:Pd(e),left:e.left-t.width+I.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(e,t){return{top:Pd(e),left:e.left+e.width/2-I.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(e,t){return{top:Pd(e),left:e.left+e.width/2-.25*t.width-I.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(e,t){return{top:Pd(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(e,t){return{top:Pd(e),left:e.left+e.width/2-.75*t.width+I.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(e,t){return{top:Pd(e),left:e.left+e.width/2-t.width+I.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(e,t){return{top:Pd(e),left:e.right-I.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(e,t){return{top:Pd(e),left:e.right-.25*t.width-I.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(e,t){return{top:Pd(e),left:e.right-t.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(e,t){return{top:Pd(e),left:e.right-.75*t.width+I.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(e,t){return{top:Pd(e),left:e.right-t.width+I.arrowHorizontalOffset,name:"arrow_ne"}}},e(51),e(53);var Rd,Id,Od,Md=Ta("px"),Nd=(xE(Vd,r),Od=SE(Vd),CE(Vd,null,[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),CE(Vd,[{key:"hasView",value:function(e){return Array.from(this._viewToStack.keys()).includes(e)}},{key:"add",value:function(e){if(this.hasView(e.view))throw new A.a("contextualballoon-add-view-exist",[this,e]);var t,n=e.stackId||"main";this._idToStack.has(n)?(t=this._idToStack.get(n),e.singleViewMode&&this.showStack(n),t.set(e.view,e),this._viewToStack.set(e.view,t),t===this._visibleStack&&this._showView(e)):(this._idToStack.set(n,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(n)),this._numberOfStacks=this._idToStack.size,this._visibleStack&&!e.singleViewMode||this.showStack(n))}},{key:"remove",value:function(e){if(!this.hasView(e))throw new A.a("contextualballoon-remove-view-not-exist",[this,e]);var t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?1<this._idToStack.size?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}},{key:"updatePosition",value:function(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(e){this.visibleStack=e;e=this._idToStack.get(e);if(!e)throw new A.a("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}},{key:"_getStackId",value:function(t){return Array.from(this._idToStack.entries()).find(function(e){return e[1]===t})[0]}},{key:"_showNextStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}},{key:"_showPrevStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}},{key:"_createRotatorView",value:function(){var r=this,e=new Ld(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",function(e,t){return!t&&1<e}),e.on("change:isNavigationVisible",function(){return r.updatePosition()},{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",function(e,t){var n;return t<2?"":(n=Array.from(r._idToStack.values()).indexOf(r._visibleStack)+1,i("%0 of %1",[n,t]))}),e.buttonNextView.on("execute",function(){e.focusTracker.isFocused&&r.editor.editing.view.focus(),r._showNextStack()}),e.buttonPrevView.on("execute",function(){e.focusTracker.isFocused&&r.editor.editing.view.focus(),r._showPrevStack()}),e}},{key:"_createFakePanelsView",value:function(){var e=new jd(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",function(e,t){return!t&&2<=e?Math.min(e-1,2):0}),e.listenTo(this.view,"change:top",function(){return e.updatePosition()}),e.listenTo(this.view,"change:left",function(){return e.updatePosition()}),this.editor.ui.view.body.add(e),e}},{key:"_showView",value:function(e){var t=e.view,n=e.balloonClassName,r=e.withArrow,r=void 0===r||r,e=e.singleViewMode,e=void 0!==e&&e;this.view.class=void 0===n?"":n,this.view.withArrow=r,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),e&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var e=Array.from(this._visibleStack.values()).pop().position;return e=e&&!e.limiter?Object.assign({},e,{limiter:this.positionLimiter}):e}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}}]),Vd),Ld=(xE(Fd,S),Id=SE(Fd),CE(Fd,[{key:"render",value:function(){yE(RE(Fd.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(e){this.hideView(),this.content.add(e)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(e,t){var n=new E(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}]),Fd),jd=(xE(Dd,S),Rd=SE(Dd),CE(Dd,[{key:"_addPanels",value:function(e){for(;e--;){var t=new S;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}},{key:"_removePanels",value:function(e){for(;e--;){var t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}},{key:"updatePosition",value:function(){var e,t,n,r;this.numberOfPanels&&(e=(t=this._balloonPanelView).top,t=t.left,r=(n=new f(this._balloonPanelView.element)).width,Object.assign(this,{top:e,left:t,width:r,height:n.height}))}}]),Dd);function Dd(e,t){wE(this,Dd);var i,e=(i=Rd.call(this,e)).bindTemplate;return i.set("top",0),i.set("left",0),i.set("height",0),i.set("width",0),i.set("numberOfPanels",0),i.content=i.createCollection(),i._balloonPanelView=t,i.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",e.to("numberOfPanels",function(e){return e?"":"ck-hidden"})],style:{top:e.to("top",Md),left:e.to("left",Md),width:e.to("width",Md),height:e.to("height",Md)}},children:i.content}),i.on("change:numberOfPanels",function(e,t,n,r){r<n?i._addPanels(n-r):i._removePanels(r-n),i.updatePosition()}),i}function Fd(e){wE(this,Fd),t=Id.call(this,e);var t,e=e.t,n=t.bindTemplate;return t.set("isNavigationVisible",!0),t.focusTracker=new Aa,t.buttonPrevView=t._createButtonView(e("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),t.buttonNextView=t._createButtonView(e("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),t.content=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",function(e){return e?"":"ck-hidden"})]},children:[t.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},t.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:t.content}]}),t}function Vd(e){var n;return wE(this,Vd),(n=Od.call(this,e)).positionLimiter=function(){var e=n.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},n.set("visibleView",null),n.view=new I(e.locale),e.ui.view.body.add(n.view),e.ui.focusTracker.add(n.view.element),n._viewToStack=new Map,n._idToStack=new Map,n.set("_numberOfStacks",0),n.set("_singleViewMode",!1),n._rotatorView=n._createRotatorView(),n._fakePanelsView=n._createFakePanelsView(),n}e(55);var zd,Bd=Ta("px"),Hd=(xE(Ud,S),zd=SE(Ud),CE(Ud,[{key:"render",value:function(){var e=this;yE(RE(Ud.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(l.window,"scroll",function(){e._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",function(){e._checkIfShouldBeSticky()})}},{key:"_checkIfShouldBeSticky",value:function(){var e,t=this._panelRect=this._contentPanel.getBoundingClientRect();this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Bd(-l.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),Ud);function Ud(e){wE(this,Ud);var t,e=(t=zd.call(this,e)).bindTemplate;return t.set("isActive",!1),t.set("isSticky",!1),t.set("limiterElement",null),t.set("limiterBottomOffset",50),t.set("viewportTopOffset",0),t.set("_marginLeft",null),t.set("_isStickyToTheLimiter",!1),t.set("_hasViewportTopOffset",!1),t.content=t.createCollection(),t._contentPanelPlaceholder=new wu({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",function(e){return e?"block":"none"}),height:e.to("isSticky",function(e){return e?Bd(t._panelRect.height):null})}}}).render(),t._contentPanel=new wu({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",function(e){return e?Bd(t._contentPanelPlaceholder.getBoundingClientRect().width):null}),top:e.to("_hasViewportTopOffset",function(e){return e?Bd(t.viewportTopOffset):null}),bottom:e.to("_isStickyToTheLimiter",function(e){return e?Bd(t.limiterBottomOffset):null}),marginLeft:e.to("_marginLeft")}},children:t.content}).render(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[t._contentPanelPlaceholder,t._contentPanel]}),t}Ta("px"),e(57),Ta("px"),Ta("px"),e(59);var qd=new WeakMap;function Wd(e,t){var n,e=qd.get(e),r=[],i=!1,o=bE(e);try{for(o.s();!(n=o.n()).done;){var a=kE(n.value,2),s=a[0],l=a[1];l.isDirectHost&&(r.push(s),$d(t,s,l))&&(i=!0)}}catch(e){o.e(e)}finally{o.f()}var c,u=bE(e);try{for(u.s();!(c=u.n()).done;){var h,d=kE(c.value,2),f=d[0],p=d[1];p.isDirectHost||!(h=(e=>{if(e.childCount){e=e.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null})(f))||r.includes(h)||(p.hostElement=h,$d(t,f,p)&&(i=!0))}}catch(e){u.e(e)}finally{u.f()}return i}function $d(e,t,n){var r=n.text,i=n.isDirectHost,o=n.hostElement,a=!1;return o.getAttribute("data-placeholder")!==r&&(e.setAttribute("data-placeholder",r,o),a=!0),(i||1==t.childCount)&&(r=o,i=n.keepOnFocus,r.isAttached())&&!Array.from(r.getChildren()).some(function(e){return!e.is("uiElement")})&&(i||!(i=r.document).isFocused||(i=i.selection.anchor)&&i.parent!==r)?(t=e,!(n=o).hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",n),1)&&(a=!0)):(i=e,(r=o).hasClass("ck-placeholder")&&(i.removeClass("ck-placeholder",r),1)&&(a=!0)),a}var Kd=new Map;function O(e,t,n){var r=Kd.get(e);r||(r=new Map,Kd.set(e,r)),r.set(t,n)}function Gd(e){return[e]}function Zd(e,t,n){var n=2<arguments.length&&void 0!==n?n:{},r=((e,t)=>(e=Kd.get(e))&&e.has(t)?e.get(t):Gd)(e.constructor,t.constructor);try{return r(e=e.clone(),t,n)}catch(e){throw e}}CE(Qd,[{key:"setOriginalOperations",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=n?this.originalOperations.get(n):null,i=bE(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.originalOperations.set(o,r||o)}}catch(e){i.e(e)}finally{i.f()}}},{key:"updateRelation",value:function(e,t){switch(e.constructor){case _:switch(t.constructor){case w:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case _:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter")}break;case x:switch(t.constructor){case w:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case _:var n;e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"splitBefore"):(n=P._createFromPositionAndShift(t.sourcePosition,t.howMany),e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)&&this._setRelation(e,t,{howMany:n.end.offset-e.splitPosition.offset,offset:e.splitPosition.offset-n.start.offset}))}break;case w:switch(t.constructor){case w:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case x:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case Xl:var r=e.newRange;if(!r)return;switch(t.constructor){case _:var i=P._createFromPositionAndShift(t.sourcePosition,t.howMany),o=i.containsPosition(r.start)||i.start.isEqual(r.start),a=i.containsPosition(r.end)||i.end.isEqual(r.end);!o&&!a||i.containsRange(r)||this._setRelation(e,t,{side:o?"left":"right",path:(o?r.start:r.end).path.slice()});break;case w:var a=r.start.isEqual(t.targetPosition),i=r.start.isEqual(t.deletionPosition),o=r.end.isEqual(t.deletionPosition),s=r.end.isEqual(t.sourcePosition);(a||i||o||s)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:i,wasEndBeforeMergedElement:o,wasInRightElement:s})}}}},{key:"getContext",value:function(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){e=this.originalOperations.get(e);return e.wasUndone||this._history.isUndoneOperation(e)}},{key:"_getRelation",value:function(e,t){t=this.originalOperations.get(t),t=this._history.getUndoneOperation(t);return t&&(e=this.originalOperations.get(e),e=this._relations.get(e))&&e.get(t)||null}},{key:"_setRelation",value:function(e,t,n){var e=this.originalOperations.get(e),t=this.originalOperations.get(t),r=this._relations.get(e);r||(r=new Map,this._relations.set(e,r)),r.set(t,n)}}]);var Jd=Qd;function Qd(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];wE(this,Qd),this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}function Yd(e,t){var n,r=bE(e);try{for(r.s();!(n=r.n()).done;)n.value.baseVersion=t++}catch(e){r.e(e)}finally{r.f()}}function Xd(e,t){for(var n=0;n<t;n++)e.push(new Lc(0))}function ef(e,t,n){var r=e.nodes.getNode(0).getAttribute(t);return r==n?null:(e=new P(e.position,e.position.getShiftedBy(e.howMany)),new Jl(e,t,r,n,0))}function tf(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function nf(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new _(i.start,i.end.offset-i.start.offset,t,0);n.push(o);for(var a=r+1;a<e.length;a++)e[a]=e[a]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}O(Jl,Jl,function(t,e,n){var r,i;return t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)?(r=t.range.getDifference(e.range).map(function(e){return new Jl(e,t.key,t.oldValue,t.newValue,0)}),(i=t.range.getIntersection(e.range))&&n.aIsStrong&&r.push(new Jl(i,e.key,e.newValue,t.newValue,0)),0==r.length?[new Lc(0)]:r):[t]}),O(Jl,Yl,function(t,e){var n,r;return t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)?(n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(function(e){return new Jl(e,t.key,t.oldValue,t.newValue,t.baseVersion)}),e.shouldReceiveAttributes&&(r=ef(e,t.key,t.oldValue))&&n.unshift(r),n):(t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t])}),O(Jl,w,function(t,e){var n=[],e=(t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(P._createFromPositionAndShift(e.graveyardPosition,1)),t.range._getTransformedByMergeOperation(e));return e.isCollapsed||n.push(e),n.map(function(e){return new Jl(e,t.key,t.oldValue,t.newValue,t.baseVersion)})}),O(Jl,_,function(t,e){return((e,t)=>{var n=P._createFromPositionAndShift(t.sourcePosition,t.howMany),r=null,i=[];n.containsRange(e,!0)?r=e:e.start.hasSameParentAs(n.start)?(i=e.getDifference(n),r=e.getIntersection(n)):i=[e];var o,a=[],s=bE(i);try{for(s.s();!(o=s.n()).done;){var l=(l=o.value)._getTransformedByDeletion(t.sourcePosition,t.howMany),c=t.getMovedRangeStart(),u=l.start.hasSameParentAs(c);l=l._getTransformedByInsertion(c,t.howMany,u),a.push.apply(a,_E(l))}}catch(e){s.e(e)}finally{s.f()}return r&&a.push(r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),a})(t.range,e).map(function(e){return new Jl(e,t.key,t.oldValue,t.newValue,t.baseVersion)})}),O(Jl,x,function(e,t){var n;return e.range.end.isEqual(t.insertionPosition)?(t.graveyardPosition||e.range.end.offset++,[e]):e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)?((n=e.clone()).range=new P(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]):(e.range=e.range._getTransformedBySplitOperation(t),[e])}),O(Yl,Jl,function(e,t){var n=[e];return e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)&&(e=ef(e,t.key,t.newValue))&&n.push(e),n}),O(Yl,Yl,function(e,t,n){return e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]}),O(Yl,_,function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]}),O(Yl,x,function(e,t){return e.position=e.position._getTransformedBySplitOperation(t),[e]}),O(Yl,w,function(e,t){return e.position=e.position._getTransformedByMergeOperation(t),[e]}),O(Xl,Yl,function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]}),O(Xl,Xl,function(e,t,n){if(e.name==t.name){if(!n.aIsStrong)return[new Lc(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]}),O(Xl,w,function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]}),O(Xl,_,function(e,t,n){if(e.oldRange&&(e.oldRange=P._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){var r=P._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=r.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=r.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=P._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]}),O(Xl,x,function(e,t,n){if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){var r;if(n.abRelation)return r=e.newRange._getTransformedBySplitOperation(t),e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=T._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=T._createAt(t.moveTargetPosition)),e.newRange.end=e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?T._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?T._createAt(t.insertionPosition):r.end,[e];e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]}),O(w,Yl,function(e,t){return e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]}),O(w,w,function(e,t,n){var r,i;return e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)?n.bWasUndone?((r=t.graveyardPosition.path.slice()).push(0),e.sourcePosition=new T(t.graveyardPosition.root,r),e.howMany=0,[e]):[new Lc(0)]:!e.sourcePosition.isEqual(t.sourcePosition)||e.targetPosition.isEqual(t.targetPosition)||n.bWasUndone||"splitAtSource"==n.abRelation?(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]):(r="$graveyard"==e.targetPosition.root.rootName,(i="$graveyard"==t.targetPosition.root.rootName)&&!r||(!r||i)&&n.aIsStrong?(r=t.targetPosition._getTransformedByMergeOperation(t),i=e.targetPosition._getTransformedByMergeOperation(t),[new _(r,e.howMany,i,0)]):[new Lc(0)])}),O(w,_,function(e,t,n){var r=P._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)?[new Lc(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])}),O(w,x,function(e,t,n){if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition))&&(e.howMany=t.howMany),e.targetPosition.isEqual(t.splitPosition)){var r=0!=t.howMany,i=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(r||i||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||0<e.sourcePosition.offset)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}),O(_,Yl,function(e,t){var n=P._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]}),O(_,_,function(e,t,n){var r=P._createFromPositionAndShift(e.sourcePosition,e.howMany),i=P._createFromPositionAndShift(t.sourcePosition,t.howMany),o=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),a=e.targetPosition.isEqual(t.targetPosition)&&a?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),tf(e,t)&&tf(t,e))return[t.getReversed()];if(r.containsPosition(t.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),nf([r],a);if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),nf([r],a);var s=Mn(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==s||"extension"==s)return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),nf([r],a);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(o=!1):o=!0;var l,c=[],u=bE(r.getDifference(i));try{for(u.s();!(l=u.n()).done;){var h=l.value,d=(h.start=h.start._getTransformedByDeletion(t.sourcePosition,t.howMany),h.end=h.end._getTransformedByDeletion(t.sourcePosition,t.howMany),"same"==Mn(h.start.getParentPath(),t.getMovedRangeStart().getParentPath())),f=h._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,d);c.push.apply(c,_E(f))}}catch(e){u.e(e)}finally{u.f()}s=r.getIntersection(i);return null!==s&&o&&(s.start=s.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),s.end=s.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===c.length?c.push(s):1==c.length?i.start.isBefore(r.start)||i.start.isEqual(r.start)?c.unshift(s):c.push(s):c.splice(1,0,s)),0===c.length?[new Lc(e.baseVersion)]:nf(c,a)}),O(_,x,function(e,t,n){var r=e.targetPosition.clone(),i=(e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=e.targetPosition._getTransformedBySplitOperation(t)),P._createFromPositionAndShift(e.sourcePosition,e.howMany));if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=r,[e];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition))return o=(o=new P(t.splitPosition,i.end))._getTransformedBySplitOperation(t),nf([new P(i.start,t.splitPosition),o],r);e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(r=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(r=e.targetPosition);var o=[i._getTransformedBySplitOperation(t)];return t.graveyardPosition&&(i=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition),1<e.howMany)&&i&&!n.aWasUndone&&o.push(P._createFromPositionAndShift(t.insertionPosition,1)),nf(o,r)}),O(_,w,function(e,t,n){var r,i,o,a=P._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new Lc(0)]}else if(!n.aWasUndone)return a=[],n=t.graveyardPosition.clone(),o=t.targetPosition._getTransformedByMergeOperation(t),1<e.howMany&&(a.push(new _(e.sourcePosition,e.howMany-1,e.targetPosition,0)),n=n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1)),s=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),(i=(r=new _(n,1,s,0)).getMovedRangeStart().path.slice()).push(0),i=new T(r.targetPosition.root,i),o=o._getTransformedByMove(n,s,1),n=new _(o,t.howMany,i,0),a.push(r),a.push(n),a;var s=P._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=s.start,e.howMany=s.end.offset-s.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]}),O(ec,Yl,function(e,t){return e.position=e.position._getTransformedByInsertOperation(t),[e]}),O(ec,w,function(e,t){return e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext"):e.position=e.position._getTransformedByMergeOperation(t),[e]}),O(ec,_,function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]}),O(ec,ec,function(e,t,n){if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new Lc(0)];e.oldName=t.newName}return[e]}),O(ec,x,function(e,t){return"same"!=Mn(e.position.path,t.splitPosition.getParentPath())||t.graveyardPosition?(e.position=e.position._getTransformedBySplitOperation(t),[e]):(t=new ec(e.position.getShiftedBy(1),e.oldName,e.newName,0),[e,t])}),O(tc,tc,function(e,t,n){if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new Lc(0)];e.oldValue=t.newValue}return[e]}),O(x,Yl,function(e,t){return e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t),[e]}),O(x,w,function(e,t,n){var r;return e.graveyardPosition||n.bWasUndone||!e.splitPosition.hasSameParentAs(t.sourcePosition)?(e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=x.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]):((n=t.graveyardPosition.path.slice()).push(0),r=new T(t.graveyardPosition.root,n),n=x.getInsertionPosition(new T(t.graveyardPosition.root,n)),r=new x(r,0,n,null,0),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=x.getInsertionPosition(e.splitPosition),e.graveyardPosition=r.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[r,e])}),O(x,_,function(e,t,n){var r=P._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){var i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&i)return i=e.splitPosition._getTransformedByMoveOperation(t),(a=(o=e.graveyardPosition._getTransformedByMoveOperation(t)).path.slice()).push(0),o=new T(o.root,a),[new _(i,e.howMany,o,0)];e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}var o,a=e.splitPosition.isEqual(t.targetPosition);return!a||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?a&&n.abRelation&&n.abRelation.howMany?(o=(i=n.abRelation).howMany,a=i.offset,e.howMany+=o,e.splitPosition=e.splitPosition.getShiftedBy(a)):e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)?(e.howMany-=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=x.getInsertionPosition(e.splitPosition)):(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.insertionPosition=e.graveyardPosition?e.insertionPosition._getTransformedByMoveOperation(t):x.getInsertionPosition(e.splitPosition)):(e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=x.getInsertionPosition(e.splitPosition)),[e]}),O(x,x,function(e,t,n){if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new Lc(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new Lc(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}var r,i;return e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)?(i="$graveyard"==e.splitPosition.root.rootName,(r="$graveyard"==t.splitPosition.root.rootName)&&!i||(!i||r)&&n.aIsStrong?(i=[],t.howMany&&i.push(new _(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&i.push(new _(e.splitPosition,e.howMany,e.moveTargetPosition,0)),i):[new Lc(0)]):(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation?(e.howMany++,[e]):t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation?((r=t.insertionPosition.path.slice()).push(0),i=new T(t.insertionPosition.root,r),[e,new _(e.insertionPosition,1,i,0)]):(e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=x.getInsertionPosition(e.splitPosition),[e]))});xE(hf,Kt),of=SE(hf),CE(hf,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]);var rf,of,af=hf,sf=(xE(uf,Kt),rf=SE(uf),CE(uf,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),uf),lf=(CE(cf,[{key:"createDocumentFragment",value:function(e){return new Ti(this.document,e)}},{key:"createElement",value:function(e,t,n){return new vr(this.document,e,t,n)}},{key:"createText",value:function(e){return new u(this.document,e)}},{key:"clone",value:function(e){return e._clone(1<arguments.length&&void 0!==arguments[1]&&arguments[1])}},{key:"appendChild",value:function(e,t){return t._appendChild(e)}},{key:"insertChild",value:function(e,t,n){return n._insertChild(e,t)}},{key:"removeChildren",value:function(e,t,n){return n._removeChildren(e,t)}},{key:"remove",value:function(e){var t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}},{key:"replace",value:function(e,t){var n=e.parent;return!!n&&(e=n.getChildIndex(e),this.removeChildren(e,1,n),this.insertChild(e,t,n),!0)}},{key:"unwrapElement",value:function(e){var t,n=e.parent;n&&(t=n.getChildIndex(e),this.remove(e),this.insertChild(t,e.getChildren(),n))}},{key:"rename",value:function(e,t){e=new vr(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,e)?e:null}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){(n=lt(e)&&void 0===n?t:n)._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"createPositionAt",value:function(e,t){return p._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return p._createAfter(e)}},{key:"createPositionBefore",value:function(e){return p._createBefore(e)}},{key:"createRange",value:function(e,t){return new g(e,t)}},{key:"createRangeOn",value:function(e){return g._createOn(e)}},{key:"createRangeIn",value:function(e){return g._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new jr(e,t,n)}}]),cf);function cf(e){wE(this,cf),this.document=e}function uf(e){return wE(this,uf),(e=rf.call(this,e)).domEventType=["mousedown","mouseup","mouseover","mouseout"],e}function hf(e){return wE(this,hf),(e=of.call(this,e)).domEventType="click",e}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);xE(pf,$t),df=SE(pf),CE(pf,[{key:"init",value:function(e){var t=this.view,n=this.editor.editing.view,r=t.editable,i=n.document.getRoot(),i=(r.name=i.rootName,t.render(),r.element);this.setEditableElement(r.name,i),this.focusTracker.add(i),t.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(i),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy(),yE(RE(pf.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var n,r,i,o,a,e=this.editor,t=this.view,s=e.editing.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),s={origin:s,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:t.toolbar},n=s.origin,e=s.originKeystrokeHandler,r=s.originFocusTracker,i=s.toolbar,o=s.beforeFocus,a=s.afterBlur,r.add(i.element),e.set("Alt+F10",function(e,t){r.isFocused&&!i.focusTracker.isFocused&&(o&&o(),i.focus(),t())}),i.keystrokes.set("Esc",function(e,t){i.focusTracker.isFocused&&(n.focus(),a&&a(),t())})}},{key:"_initPlaceholder",value:function(){var e,t,n=this.editor,r=n.editing.view,i=r.document.getRoot(),o=n.sourceElement,n=n.config.get("placeholder")||o&&"textarea"===o.tagName.toLowerCase()&&o.getAttribute("placeholder");n&&(r=(o={view:r,element:i,text:n,isDirectHost:!1,keepOnFocus:!0}).view,i=o.element,n=o.text,e=void 0===(e=o.isDirectHost)||e,o=void 0!==(o=o.keepOnFocus)&&o,t=r.document,qd.has(t)||(qd.set(t,new Map),t.registerPostFixer(function(e){return Wd(t,e)})),qd.get(t).set(i,{text:n,isDirectHost:e,keepOnFocus:o,hostElement:e?i:null}),r.change(function(e){return Wd(t,e)}))}},{key:"element",get:function(){return this.view.element}}]);var df,ff=pf;function pf(e,t){var n;return wE(this,pf),(n=df.call(this,e)).view=t,n._toolbarConfig=Rh(e.config.get("toolbar")),n._elementReplacer=new aa,n}e(61);xE(kf,ed),vf=SE(kf),CE(kf,[{key:"render",value:function(){yE(RE(kf.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]);var gf,vf,mf=kf,$t=(xE(yf,D),gf=SE(yf),CE(yf,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),yE(RE(yf.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(n){var r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e){var t=new r(n,i);e(t.initPlugins().then(function(){return t.ui.init(vn(n)?n:null)}).then(function(){if(!vn(n)&&i.initialData)throw new A.a("editor-create-initial-data",null);var e=void 0!==i.initialData?i.initialData:vn(e=n)?e instanceof HTMLTextAreaElement?e.value:e.innerHTML:e;return t.data.init(e)}).then(function(){return t.fire("ready")}).then(function(){return t}))})}}]),yf);function yf(e,t){wE(this,yf),t=gf.call(this,t),vn(e)&&(t.sourceElement=e),t.model.document.createRoot();var n,r,i,e=!t.config.get("toolbar.shouldNotGroupWhenFull"),e=new mf(t.locale,t.editing.view,{shouldToolbarGroupWhenFull:e}),o=(t.ui=new ff(TE(t),e),TE(t));if(ge(o.updateSourceElement))return(e=o.sourceElement)&&"textarea"===e.tagName.toLowerCase()&&e.form&&(r=e.form,i=function(){return o.updateSourceElement()},ge(r.submit)&&(n=r.submit,r.submit=function(){i(),n.apply(r)}),r.addEventListener("submit",i),o.on("destroy",function(){r.removeEventListener("submit",i),n&&(r.submit=n)})),t;throw new A.a("attachtoform-missing-elementapi-interface",o)}function kf(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return wE(this,kf),(n=vf.call(this,e)).stickyPanel=new Hd(e),n.toolbar=new Mh(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),n.editable=new sd(e,t),n}o($t,{setData:function(e){this.data.set(e)},getData:function(e){return this.data.get(e)}}),o($t,t);CE(Af,[{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,t){this._native.setData(e,t)}},{key:"types",get:function(){return this._native.types}},{key:"effectAllowed",set:function(e){this._native.effectAllowed=e},get:function(){return this._native.effectAllowed}},{key:"dropEffect",set:function(e){this._native.dropEffect=e},get:function(){return this._native.dropEffect}},{key:"isCanceled",get:function(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}]);var bf,_f,wf=Af,Cf=(xE(Tf,Kt),_f=SE(Tf),CE(Tf,[{key:"onDomEvent",value:function(e){var t,n,r,i,o,a,s={dataTransfer:new wf(e.clipboardData||e.dataTransfer)};"drop"!=e.type&&"dragover"!=e.type||(s.dropRange=(t=this.view,i=(n=e).target.ownerDocument,o=n.clientX,a=n.clientY,i.caretRangeFromPoint&&i.caretRangeFromPoint(o,a)?r=i.caretRangeFromPoint(o,a):n.rangeParent&&((r=i.createRange()).setStart(n.rangeParent,n.rangeOffset),r.collapse(!0)),r?t.domConverter.domRangeToView(r):null)),this.fire(e.type,e,s)}}]),Tf),xf=["figcaption","li"],Sf=(xE(Ef,r),bf=SE(Ef),CE(Ef,[{key:"init",value:function(){this.editor.editing.view.addObserver(Cf),this._setupPasteDrop(),this._setupCopyCut()}},{key:"_setupPasteDrop",value:function(){var o=this,t=this.editor,r=t.model,a=t.editing.view,e=a.document;this.listenTo(e,"clipboardInput",function(e){t.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(e,"clipboardInput",function(e,t){var n=t.dataTransfer,r=t.content||"",i=(r||(n.getData("text/html")?r=n.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(e,t){return 1==t.length?" ":t}):n.getData("text/plain")&&(r=i=(i=(i=n.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||i.includes("<br>")?"<p>".concat(i,"</p>"):i),r=o.editor.data.htmlProcessor.toView(r)),new F(o,"inputTransformation"));o.fire(i,{content:r,dataTransfer:n,targetRanges:t.targetRanges,method:t.method}),i.stop.called&&e.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",function(e,t){var n;t.content.isEmpty||0!=(n=o.editor.data.toModel(t.content,"$clipboardHolder")).childCount&&(e.stop(),r.change(function(){o.fire("contentInsertion",{content:n,method:t.method,dataTransfer:t.dataTransfer,targetRanges:t.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",function(e,t){t.resultRange=r.insertContent(t.content)},{priority:"low"})}},{key:"_setupCopyCut",value:function(){var n=this,r=this.editor,i=r.model.document,o=r.editing.view.document;function a(e,t){var n=t.dataTransfer,t=(t.preventDefault(),r.data.toView(r.model.getSelectedContent(i.selection)));o.fire("clipboardOutput",{dataTransfer:n,content:t,method:e.name})}this.listenTo(o,"copy",a,{priority:"low"}),this.listenTo(o,"cut",function(e,t){r.isReadOnly?t.preventDefault():a(e,t)},{priority:"low"}),this.listenTo(o,"clipboardOutput",function(e,t){t.content.isEmpty||(t.dataTransfer.setData("text/html",n.editor.data.htmlProcessor.toData(t.content)),t.dataTransfer.setData("text/plain",function e(t){var n="";if(t.is("$text")||t.is("$textProxy"))n=t.data;else if(t.is("element","img")&&t.hasAttribute("alt"))n=t.getAttribute("alt");else if(t.is("element","br"))n="\n";else{var r,i=null,o=bE(t.getChildren());try{for(o.s();!(r=o.n()).done;){var a=r.value,s=e(a);i&&(i.is("containerElement")||a.is("containerElement"))&&(xf.includes(i.name)||xf.includes(a.name)?n+="\n":n+="\n\n"),n+=s,i=a}}catch(e){o.e(e)}finally{o.f()}}return n}(t.content))),"cut"==t.method&&r.model.deleteContent(i.selection)},{priority:"low"})}}],[{key:"pluginName",get:function(){return"ClipboardPipeline"}}]),Ef);function Ef(){return wE(this,Ef),bf.apply(this,arguments)}function Tf(e){wE(this,Tf);var o=(e=_f.call(this,e)).document;function t(i){return function(e,t){t.preventDefault();var n=t.dropRange?[t.dropRange]:null,r=new F(o,i);o.fire(r,{dataTransfer:t.dataTransfer,method:e.name,targetRanges:n,target:t.target}),r.stop.called&&t.stopPropagation()}}return e.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],e.listenTo(o,"paste",t("clipboardInput"),{priority:"low"}),e.listenTo(o,"drop",t("clipboardInput"),{priority:"low"}),e.listenTo(o,"dragover",t("dragging"),{priority:"low"}),e}function Af(e){var t,n;wE(this,Af),this.files=(n=(t=e).files?Array.from(t.files):[],t=t.items?Array.from(t.items):[],n.length?n:t.filter(function(e){return"file"===e.kind}).map(function(e){return e.getAsFile()})),this._native=e}function Pf(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=bE(n),e.prev=1,r.s();case 3:if((i=r.n()).done)e.next=11;else{if(i=i.value,e.t0=i&&t.getAttributeProperties(i[0]).copyOnEnter,e.t0)return e.next=9,i;e.next=9}break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),r.e(e.t1);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}},B,null,[[1,13,16,19]])}xE(Of,a),Rf=SE(Of),CE(Of,[{key:"execute",value:function(){var c=this,u=this.editor.model,h=u.document;u.change(function(e){var t,n,r,i,o,a,s,l;t=c.editor.model,n=e,r=h.selection,i=u.schema,o=r.isCollapsed,a=r.getFirstRange(),s=a.start.parent,l=a.end.parent,i.isLimit(s)||i.isLimit(l)?o||s!=l||t.deleteContent(r):o?(i=Pf(n.model.schema,r.getAttributes()),Mf(n,a.start),n.setSelectionAttribute(i)):(o=!(a.start.isAtStart&&a.end.isAtEnd),i=s==l,t.deleteContent(r,{leaveUnmerged:o}),o&&(i?Mf(n,r.focus):n.setSelection(l,0))),c.fire("afterExecute",{writer:e})})}}]);var Rf,If=Of;function Of(){return wE(this,Of),Rf.apply(this,arguments)}function Mf(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}xE(Yf,Wt),Ff=SE(Yf),CE(Yf,[{key:"observe",value:function(){}}]);var Nf,Lf,jf,Df,Ff,Vf=Yf,zf=(xE(Qf,r),Df=SE(Qf),CE(Qf,[{key:"init",value:function(){var n=this.editor,r=n.editing.view,e=r.document;r.addObserver(Vf),n.commands.add("enter",new If(n)),this.listenTo(e,"enter",function(e,t){t.preventDefault(),t.isSoft||(n.execute("enter"),r.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),Qf),Bf=(CE(Jf,[{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}},{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}}]),Jf),Hf=(xE(Zf,a),jf=SE(Zf),CE(Zf,[{key:"execute",value:function(){var o=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=this.editor.model,l=s.document;s.enqueueChange(this._buffer.batch,function(e){o._buffer.lock();var t,n=e.createSelection(a.selection||l.selection),r=a.sequence||1,i=n.isCollapsed;n.isCollapsed&&s.modifySelection(n,{direction:o.direction,unit:a.unit}),o._shouldEntireContentBeReplacedWithParagraph(r)?o._replaceEntireContentWithParagraph(e):o._shouldReplaceFirstBlockWithParagraph(n,r)?o.editor.execute("paragraph",{selection:n}):n.isCollapsed||(t=0,n.getFirstRange().getMinimalFlatRanges().forEach(function(e){t+=Lr(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),s.deleteContent(n,{doNotResetEntireContent:i,direction:o.direction}),o._buffer.input(t),e.setSelection(n),o._buffer.unlock())})}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(e){var t,n;return!(1<e||(n=(e=this.editor.model).document.selection,t=e.schema.getLimitElement(n),!n.isCollapsed)||!n.containsEntireContent(t)||!e.schema.checkChild(t,"paragraph")||(n=t.getChild(0))&&"paragraph"===n.name)}},{key:"_replaceEntireContentWithParagraph",value:function(e){var t=this.editor.model,t=t.schema.getLimitElement(t.document.selection),n=e.createElement("paragraph");e.remove(e.createRangeIn(t)),e.insert(n,t),e.setSelection(n,0)}},{key:"_shouldReplaceFirstBlockWithParagraph",value:function(e,t){var n,r,i=this.editor.model;return!(1<t||"backward"!=this.direction||!e.isCollapsed||(t=e.getFirstPosition(),r=(n=i.schema.getLimitElement(t)).getChild(0),t.parent!=r)||!e.containsEntireContent(r)||!i.schema.checkChild(n,"paragraph")||"paragraph"==r.name)}},{key:"buffer",get:function(){return this._buffer}}]),Zf),Uf=(xE(Gf,Wt),Lf=SE(Gf),CE(Gf,[{key:"observe",value:function(){}}]),Gf),qf=(xE(Kf,r),Nf=SE(Kf),CE(Kf,[{key:"init",value:function(){var n,l=this.editor,c=l.editing.view,e=c.document,t=(c.addObserver(Uf),new Hf(l,"forward"));l.commands.add("deleteForward",t),l.commands.add("forwardDelete",t),l.commands.add("delete",new Hf(l,"backward")),this.listenTo(e,"delete",function(e,t){var n={unit:t.unit,sequence:t.sequence};if(t.selectionToRemove){var r,i=l.model.createSelection(),o=[],a=bE(t.selectionToRemove.getRanges());try{for(a.s();!(r=a.n()).done;){var s=r.value;o.push(l.editing.mapper.toModelRange(s))}}catch(e){a.e(e)}finally{a.f()}i.setTo(o),n.selection=i}l.execute("forward"==t.direction?"deleteForward":"delete",n),t.preventDefault(),c.scrollToTheSelection()},{priority:"low"}),li&&(n=null,this.listenTo(e,"delete",function(e,t){t=t.domTarget.ownerDocument.defaultView.getSelection();n={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}},{priority:"lowest"}),this.listenTo(e,"keyup",function(e,t){n&&((t=t.domTarget.ownerDocument.defaultView.getSelection()).collapse(n.anchorNode,n.anchorOffset),t.extend(n.focusNode,n.focusOffset),n=null)}))}}],[{key:"pluginName",get:function(){return"Delete"}}]),Kf),Wf=(CE($f,[{key:"add",value:function(e,t){var n=this._stack,r=n[0],e=(this._insertDescriptor(e),n[0]);r===e||Xf(r,e)||this.fire("change:top",{oldDescriptor:r,newDescriptor:e,writer:t})}},{key:"remove",value:function(e,t){var n=this._stack,r=n[0],e=(this._removeDescriptor(e),n[0]);r===e||Xf(r,e)||this.fire("change:top",{oldDescriptor:r,newDescriptor:e,writer:t})}},{key:"_insertDescriptor",value:function(t){var e,n,r=this._stack,i=r.findIndex(function(e){return e.id===t.id});if(!Xf(t,r[i])){-1<i&&r.splice(i,1);for(var o=0;r[o]&&(e=r[o],n=t,e.priority>n.priority||!(e.priority<n.priority)&&ep(e.classes)>ep(n.classes));)o++;r.splice(o,0,t)}}},{key:"_removeDescriptor",value:function(t){var e=this._stack,n=e.findIndex(function(e){return e.id===t});-1<n&&e.splice(n,1)}}]),$f);function $f(){wE(this,$f),this._stack=[]}function Kf(){return wE(this,Kf),Nf.apply(this,arguments)}function Gf(i){wE(this,Gf),e=Lf.call(this,i);var e,o=i.document,r=0;function a(e,t,n){var r=new Br(o,"delete",o.selection.getFirstRange());o.fire(r,new Uo(o,t,n)),r.stop.called&&e.stop()}return o.on("keyup",function(e,t){t.keyCode!=d.delete&&t.keyCode!=d.backspace||(r=0)}),o.on("keydown",function(e,t){var n={};if(t.keyCode==d.delete)n.direction="forward",n.unit="character";else{if(t.keyCode!=d.backspace)return;n.direction="backward",n.unit="codePoint"}n.unit=(oi?t.altKey:t.ctrlKey)?"word":n.unit,n.sequence=++r,a(e,t.domEvent,n)}),li&&o.on("beforeinput",function(e,t){var n,r;"deleteContentBackward"==t.domEvent.inputType&&(n={unit:"codepoint",direction:"backward",sequence:1},(r=t.domTarget.ownerDocument.defaultView.getSelection()).anchorNode==r.focusNode&&r.anchorOffset+1!=r.focusOffset&&(n.selectionToRemove=i.domConverter.domSelectionToView(r)),a(e,t.domEvent,n))}),e}function Zf(e,t){var n;return wE(this,Zf),(n=jf.call(this,e)).direction=t,n._buffer=new Bf(e.model,e.config.get("typing.undoStep")),n}function Jf(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;wE(this,Jf),this.model=e,this.size=0,this.limit=t,this.isLocked=!1,this._changeCallback=function(e,t){"transparent"!=t.type&&t!==n._batch&&n._reset(!0)},this._selectionChangeCallback=function(){n._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}function Qf(){return wE(this,Qf),Df.apply(this,arguments)}function Yf(e){wE(this,Yf);var r,i=(r=Ff.call(this,e)).document;return i.on("keydown",function(e,t){var n;r.isEnabled&&t.keyCode==d.enter&&(n=new Br(i,"enter",i.selection.getFirstRange()),i.fire(n,new Uo(i,t.domEvent,{isSoft:t.shiftKey})),n.stop.called)&&e.stop()}),r}function Xf(e,t){return e&&t&&e.priority==t.priority&&ep(e.classes)==ep(t.classes)}function ep(e){return Array.isArray(e)?e.sort().join(","):e}function M(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function tp(e,t,n){var r,i,n=2<arguments.length&&void 0!==n?n:{};if(e.is("containerElement"))return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=cp,n.label&&(i=n.label,t.setCustomProperty("widgetLabel",i,e)),n.hasSelectionHandle&&(i=e,r=(n=t).createUIElement("div",{class:"ck ck-widget__selection-handle"},function(e){var e=this.toDomElement(e),t=new Gu;return t.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),t.render(),e.appendChild(t.element),e}),n.insert(n.createPositionAt(i,0),r),n.addClass(["ck-widget_with-selection-handle"],i)),ip(e,t,np,rp),e;throw new A.a("widget-to-widget-wrong-element-type",null,{element:e})}function np(e,t,n){if(t.classes&&n.addClass(b(t.classes),e),t.attributes)for(var r in t.attributes)n.setAttribute(r,t.attributes[r],e)}function rp(e,t,n){if(t.classes&&n.removeClass(b(t.classes),e),t.attributes)for(var r in t.attributes)n.removeAttribute(r,e)}function ip(n,e,r,i){var o=new Wf;o.on("change:top",function(e,t){t.oldDescriptor&&i(n,t.oldDescriptor,t.writer),t.newDescriptor&&r(n,t.newDescriptor,t.writer)}),e.setCustomProperty("addHighlight",function(e,t,n){return o.add(t,n)},n),e.setCustomProperty("removeHighlight",function(e,t,n){return o.remove(t,n)},n)}function op(r,i){return i.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),i.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",function(e,t,n){i.setAttribute("contenteditable",n?"false":"true",r)}),r.on("change:isFocused",function(e,t,n){n?i.addClass("ck-editor__nested-editable_focused",r):i.removeClass("ck-editor__nested-editable_focused",r)}),r}function ap(e,t){var n=e.getSelectedElement();if(n){var r=hp(e);if(r)return t.createPositionAt(n,r);if(t.schema.isBlock(n))return t.createPositionAfter(n)}r=e.getSelectedBlocks().next().value;return r?r.isEmpty?t.createPositionAt(r,0):(n=t.createPositionAfter(r),e.focus.isTouching(n)?n:t.createPositionBefore(r)):e.focus}function sp(e,t){e=e.getSelectedElement();return e&&t.isObject(e)}function lp(e,t){var n=new f(l.window),r=n.getIntersection(e),i=t.height+I.arrowVerticalOffset;return e.top-i>n.top||e.bottom+i<n.bottom?null:(n=(i=r||e).left+i.width/2-t.width/2,{top:Math.max(e.top,0)+I.arrowVerticalOffset,left:n,name:"arrow_n"})}function cp(){return null}function up(e,t,n){return e&&M(e)&&!n.isInline(t)}function hp(e){return e.getAttribute("widget-type-around")}o(Wf,c);for(var dp=[pi("arrowUp"),pi("arrowRight"),pi("arrowDown"),pi("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],fp=112;fp<=135;fp++)dp.push(fp);function pp(e){return e.ctrlKey||e.metaKey||dp.includes(e.keyCode)}e(63);var gp,vp=["before","after"],mp=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,yp=(xE(kp,r),gp=SE(kp),CE(kp,null,[{key:"pluginName",get:function(){return"WidgetTypeAround"}},{key:"requires",get:function(){return[zf,qf]}}]),CE(kp,[{key:"init",value:function(){var n=this.editor,o=n.editing.view;this.on("change:isEnabled",function(e,t,i){o.change(function(e){var t,n=bE(o.document.roots);try{for(n.s();!(t=n.n()).done;){var r=t.value;i?e.removeClass("ck-widget__type-around_disabled",r):e.addClass("ck-widget__type-around_disabled",r)}}catch(e){n.e(e)}finally{n.f()}}),i||n.model.change(function(e){e.removeSelectionAttribute("widget-type-around")})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableDeleteContentIntegration()}},{key:"destroy",value:function(){this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(e,t){var n=this.editor,r=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(e,t)}),r.focus(),r.scrollToTheSelection()}},{key:"_listenToIfEnabled",value:function(e,t,n,r){var i=this;this.listenTo(e,t,function(){i.isEnabled&&n.apply(void 0,arguments)},r)}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var e=this.editor.model.document.selection,t=hp(e);return!!t&&(e=e.getSelectedElement(),this._insertParagraph(e,t),!0)}},{key:"_enableTypeAroundUIInjection",value:function(){var e=this.editor,i=e.model.schema,t=e.locale.t,o={before:t("Insert paragraph before block"),after:t("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",function(e,t,n){var c,r=n.mapper.toViewElement(t.item);up(r,t.item,i)&&(t=n.writer,c=o,n=r,r=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(e){var t,n,r,e=this.toDomElement(e),i=e,o=c,a=bE(vp);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=new wu({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+s],title:o[s]},children:[i.ownerDocument.importNode(mp,!0)]});i.appendChild(l.render())}}catch(e){a.e(e)}finally{a.f()}return t=e,n=new wu({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}}),t.appendChild(n.render()),e}),t.insert(t.createPositionAt(n,"end"),r))},{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var o=this,r=this.editor,e=r.model,t=e.document.selection,a=e.schema;function s(e){return"ck-widget_type-around_show-fake-caret_"+e}this._listenToIfEnabled(r.editing.view.document,"arrowKey",function(e,t){o._handleArrowKeyPress(e,t)},{context:[M,"$text"],priority:"high"}),this._listenToIfEnabled(t,"change:range",function(e,t){t.directChange&&r.model.change(function(e){e.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(e.document,"change:data",function(){var e=t.getSelectedElement();e&&up(r.editing.mapper.toViewElement(e),e,a)||r.model.change(function(e){e.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(r.editing.downcastDispatcher,"selection",function(e,t,n){var r=n.writer,i=(o._currentFakeCaretModelElement&&(i=n.mapper.toViewElement(o._currentFakeCaretModelElement))&&(r.removeClass(vp.map(s),i),o._currentFakeCaretModelElement=null),t.selection.getSelectedElement());i&&up(n=n.mapper.toViewElement(i),i,a)&&(t=hp(t.selection))&&(r.addClass(s(t),n),o._currentFakeCaretModelElement=i)}),this._listenToIfEnabled(r.ui.focusTracker,"change:isFocused",function(e,t,n){n||r.model.change(function(e){e.removeSelectionAttribute("widget-type-around")})})}},{key:"_handleArrowKeyPress",value:function(e,t){var n,r=this.editor,i=r.model,o=i.document.selection,i=i.schema,a=r.editing.view,s=yi(t.keyCode,r.locale.contentLanguageDirection),a=a.document.selection.getSelectedElement();up(a,r.editing.mapper.toModelElement(a),i)?n=this._handleArrowKeyPressOnSelectedWidget(s):o.isCollapsed&&(n=this._handleArrowKeyPressWhenSelectionNextToAWidget(s)),n&&(t.preventDefault(),e.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(t){var e=this.editor.model,n=hp(e.document.selection);return e.change(function(e){return n?n!==(t?"after":"before")&&(e.removeSelectionAttribute("widget-type-around"),!0):(e.setSelectionAttribute("widget-type-around",t?"after":"before"),!0)})}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(t){var e=this.editor,n=e.model,r=n.schema,i=e.plugins.get("Widget"),o=i._getObjectElementNextToSelection(t);return!!up(e.editing.mapper.toViewElement(o),o,r)&&(n.change(function(e){i._setSelectionOverElement(o),e.setSelectionAttribute("widget-type-around",t?"before":"after")}),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var i=this,o=this.editor,a=o.editing.view;this._listenToIfEnabled(a.document,"mousedown",function(e,t){var n,r=t.domTarget.closest(".ck-widget__type-around__button");r&&(n=r.classList.contains("ck-widget__type-around__button_before")?"before":"after",r=((e,t)=>(e=e.closest(".ck-widget"),t.mapDomToView(e)))(r,a.domConverter),r=o.editing.mapper.toModelElement(r),i._insertParagraph(r,n),t.preventDefault(),e.stop())})}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var a=this,s=this.editor,l=s.model.document.selection;this._listenToIfEnabled(s.editing.view.document,"enter",function(e,t){var n,r,i,o;"atTarget"==e.eventPhase&&(r=l.getSelectedElement(),i=s.editing.mapper.toViewElement(r),o=s.model.schema,a._insertParagraphAccordingToFakeCaretPosition()?n=!0:up(i,r,o)&&(a._insertParagraph(r,t.isSoft?"before":"after"),n=!0),n)&&(t.preventDefault(),e.stop())},{context:M})}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var n=this,r=[d.enter,d.delete,d.backspace];this._listenToIfEnabled(this.editor.editing.view.document,"keydown",function(e,t){r.includes(t.keyCode)||pp(t)||n._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}},{key:"_enableDeleteIntegration",value:function(){var s=this.editor,l=s.model,c=l.schema;this._listenToIfEnabled(s.editing.view.document,"delete",function(e,t){var n,r,i,o,a;"atTarget"==e.eventPhase&&(a=hp(l.document.selection))&&(n=t.direction,o=l.document.selection.getSelectedElement(),"before"===a==(r="forward"==n)?s.execute("delete",{selection:l.createSelection(o,"on")}):(i=c.getNearestSelectionRange(l.createPositionAt(o,a),n))&&(i.isCollapsed?(o=l.createSelection(i.start),l.modifySelection(o,{direction:n}),o.focus.isEqual(i.start)?(a=((e,t)=>{var n,r=t,i=bE(t.getAncestors({parentFirst:!0}));try{for(i.s();!(n=i.n()).done;){var o=n.value;if(1<o.childCount||e.isLimit(o))break;r=o}}catch(e){i.e(e)}finally{i.f()}return r})(c,i.start.parent),l.deleteContent(l.createSelection(a,"on"),{doNotAutoparagraph:!0})):l.change(function(e){e.setSelection(i),s.execute(r?"deleteForward":"delete")})):l.change(function(e){e.setSelection(i),s.execute(r?"deleteForward":"delete")})),t.preventDefault(),e.stop())},{context:M})}},{key:"_enableInsertContentIntegration",value:function(){var o=this.editor.model,a=o.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",function(e,t){var r,t=kE(t,2),i=t[0],t=t[1];return(!t||t.is("documentSelection"))&&(r=hp(a))?(e.stop(),o.change(function(e){var t=a.getSelectedElement(),t=o.createPositionAt(t,r),t=e.createSelection(t),n=o.insertContent(i,t);return e.setSelection(t),n})):void 0},{priority:"high"})}},{key:"_enableDeleteContentIntegration",value:function(){var n=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",function(e,t){t=kE(t,1)[0];t&&!t.is("documentSelection")||hp(n)&&e.stop()},{priority:"high"})}}]),kp);function kp(e){return wE(this,kp),(e=gp.call(this,e))._currentFakeCaretModelElement=null,e}function bp(e,t,n){var r,i=e.schema,o="forward"==n?"elementStart":"elementEnd",a=bE(e.createRangeIn(t.root).getWalker({startPosition:t,direction:n}));try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s.previousPosition,c=s.item,u=s.type;if(i.isLimit(c)&&!i.isInline(c))return l;if(u==o&&i.isBlock(c))return null}}catch(e){a.e(e)}finally{a.f()}return null}function _p(e,t,n){var r="backward"==n?t.end:t.start;if(e.checkChild(r,"$text"))return r;var i,o=bE(t.getWalker({direction:n}));try{for(o.s();!(i=o.n()).done;){var a=i.value.nextPosition;if(e.checkChild(a,"$text"))return a}}catch(e){o.e(e)}finally{o.f()}}e(65);xE(xp,r),wp=SE(xp),CE(xp,[{key:"init",value:function(){var u,h,g=this,e=this.editor.editing.view,t=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",function(e,t,n){g._clearPreviouslySelectedWidgets(n.writer);var r,i,o,a,s=n.writer,l=s.document.selection,c=l.getSelectedElement(),u=null,h=bE(l.getRanges());try{for(h.s();!(r=h.n()).done;){var d,f=bE(r.value);try{for(f.s();!(d=f.n()).done;){var p=d.value.item;!M(p)||(o=p,(a=u)&&Array.from(o.getAncestors()).includes(a))||(s.addClass("ck-widget_selected",p),g._previouslySelected.add(p),(u=p)==c&&s.setSelection(l.getRanges(),{fake:!0,label:(i=(i=c).getCustomProperty("widgetLabel"))?"function"==typeof i?i():i:""}))}}catch(e){f.e(e)}finally{f.f()}}}catch(e){h.e(e)}finally{h.f()}},{priority:"low"}),e.addObserver(sf),this.listenTo(t,"mousedown",function(){return g._onMousedown.apply(g,arguments)}),this.listenTo(t,"arrowKey",function(){g._handleSelectionChangeOnArrowKeyPress.apply(g,arguments)},{context:[M,"$text"]}),this.listenTo(t,"arrowKey",function(){g._preventDefaultOnArrowKeyPress.apply(g,arguments)},{context:"$root"}),this.listenTo(t,"arrowKey",(u=this.editor.editing,h=u.model,function(e,t){var c,r,n,i,o,a=t.keyCode==d.arrowdown,s=t.shiftKey,l=h.document.selection;t.keyCode!=d.arrowup&&!a||(c=a,s&&!l.isCollapsed&&l.isBackward==c)||(a=l,o=u.model,(r=c?(i=bp(o,n=a.isCollapsed?a.focus:a.getLastPosition(),"forward"))&&(i=o.createRange(n,i),i=_p(o.schema,i,"backward"))&&n.isBefore(i)?o.createRange(n,i):null:(i=bp(o,n=a.isCollapsed?a.focus:a.getFirstPosition(),"backward"))&&(a=o.createRange(i,n),i=_p(o.schema,a,"forward"))&&n.isAfter(i)?o.createRange(i,n):null)&&!r.isCollapsed&&((e,t)=>{var n=e.model,r=e.view.domConverter;c&&(a=n.createSelection(t.start),n.modifySelection(a),a.focus.isAtEnd||t.start.isEqual(a.focus)||(t=n.createRange(a.focus,t.end)));var i,o,n=e.mapper.toViewRange(t),a=r.viewRangeToDom(n),s=bE(f.getDomRangeRects(a));try{for(s.s();!(o=s.n()).done;){var l=o.value;if(void 0!==i){if(Math.round(l.top)>=i)return;i=Math.max(i,Math.round(l.bottom))}else i=Math.round(l.bottom)}}catch(e){s.e(e)}finally{s.f()}return 1})(u,r)&&(h.change(function(e){var t,n=c?r.end:r.start;s?((t=h.createSelection(l.anchor)).setFocus(n),e.setSelection(t)):e.setSelection(n)}),e.stop(),t.preventDefault(),t.stopPropagation()))}),{context:"$text"}),this.listenTo(t,"delete",function(e,t){g._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())},{context:"$root"})}},{key:"_onMousedown",value:function(e,t){var n,r,i,o=this.editor,a=o.editing.view,s=a.document,l=t.target;(e=>{for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return 1;if(M(e))return;e=e.parent}})(l)?(si||ai)&&3<=t.domEvent.detail&&(i=o.editing.mapper,n=l.is("attributeElement")?l.findAncestor(function(e){return!e.is("attributeElement")}):l,r=i.toModelElement(n),t.preventDefault(),this.editor.model.change(function(e){e.setSelection(r,"in")})):(M(l)||(l=l.findAncestor(M)))&&(li&&t.preventDefault(),s.isFocused||a.focus(),i=o.editing.mapper.toModelElement(l),this._setSelectionOverElement(i))}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(e,t){var n,r=t.keyCode,i=this.editor.model,o=i.schema,a=i.document.selection,s=a.getSelectedElement(),r=yi(r,this.editor.locale.contentLanguageDirection);s&&o.isObject(s)?(s=r?a.getLastPosition():a.getFirstPosition(),(n=o.getNearestSelectionRange(s,r?"forward":"backward"))&&(i.change(function(e){e.setSelection(n)}),t.preventDefault(),e.stop())):a.isCollapsed&&(s=this._getObjectElementNextToSelection(r))&&o.isObject(s)&&(this._setSelectionOverElement(s),t.preventDefault(),e.stop())}},{key:"_preventDefaultOnArrowKeyPress",value:function(e,t){var n=this.editor.model,r=n.schema,n=n.document.selection.getSelectedElement();n&&r.isObject(n)&&(t.preventDefault(),e.stop())}},{key:"_handleDelete",value:function(e){var r,i,o=this;return!this.editor.isReadOnly&&(r=this.editor.model.document.selection).isCollapsed&&(i=this._getObjectElementNextToSelection(e))?(this.editor.model.change(function(e){for(var t=r.anchor.parent;t.isEmpty;){var n=t,t=n.parent;e.remove(n)}o._setSelectionOverElement(i)}),!0):void 0}},{key:"_setSelectionOverElement",value:function(t){this.editor.model.change(function(e){e.setSelection(e.createRangeOn(t))})}},{key:"_getObjectElementNextToSelection",value:function(e){var t=this.editor.model,n=t.schema,r=t.createSelection(t.document.selection),t=(t.modifySelection(r,{direction:e?"forward":"backward"}),e?r.focus.nodeBefore:r.focus.nodeAfter);return t&&n.isObject(t)?t:null}},{key:"_clearPreviouslySelectedWidgets",value:function(e){var t,n=bE(this._previouslySelected);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.removeClass("ck-widget_selected",r)}}catch(e){n.e(e)}finally{n.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[yp,qf]}}]);var wp,Cp=xp;function xp(){return wE(this,xp),wp.apply(this,arguments)}function Sp(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return R(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Co(e,t,{leading:r,maxWait:t,trailing:i})}e(67),xE(Ap,r),Ep=SE(Ap),CE(Ap,[{key:"init",value:function(){var r=this,e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=Sp(function(e){return r._updateDropMarker(e)},40),this._removeDropMarkerDelayed=Ip(function(){return r._removeDropMarker()},40),this._clearDraggableAttributesDelayed=Ip(function(){return r._clearDraggableAttributes()},40),t.addObserver(Cf),t.addObserver(sf),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",function(e,t,n){n?r.forceDisabled("readOnlyMode"):r.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",function(e,t,n){n||r._finalizeDragging(!1)}),li&&this.forceDisabled("noAndroidSupport")}},{key:"destroy",value:function(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),yE(RE(Ap.prototype),"destroy",this).call(this)}},{key:"_setupDragging",value:function(){var i=this,o=this.editor,a=o.model,s=a.document,e=o.editing.view,l=e.document;this.listenTo(l,"dragstart",function(e,t){var n,r=s.selection;(!t.target||!t.target.is("editableElement"))&&((n=t.target?Op(t.target):null)?(n=o.editing.mapper.toModelElement(n),i._draggedRange=Cs.fromRange(a.createRangeOn(n))):l.selection.isCollapsed||(n=l.selection.getSelectedElement())&&M(n)||(i._draggedRange=Cs.fromRange(r.getFirstRange())),i._draggedRange)?(i._draggingUid=U(),t.dataTransfer.effectAllowed=i.isEnabled?"copyMove":"copy",t.dataTransfer.setData("application/ckeditor5-dragging-uid",i._draggingUid),n=a.createSelection(i._draggedRange.toRange()),r=o.data.toView(a.getSelectedContent(n)),l.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:r,method:e.name}),i.isEnabled||(i._draggedRange.detach(),i._draggedRange=null,i._draggingUid="")):t.preventDefault()},{priority:"low"}),this.listenTo(l,"dragend",function(e,t){i._finalizeDragging(!t.dataTransfer.isCanceled&&"move"==t.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(l,"dragenter",function(){i.isEnabled&&e.focus()}),this.listenTo(l,"dragleave",function(){i._removeDropMarkerDelayed()}),this.listenTo(l,"dragging",function(e,t){var n;i.isEnabled?(i._removeDropMarkerDelayed.cancel(),n=Pp(o,t.targetRanges,t.target),i._draggedRange||(t.dataTransfer.dropEffect="copy"),ai||("copy"==t.dataTransfer.effectAllowed?t.dataTransfer.dropEffect="copy":["all","copyMove"].includes(t.dataTransfer.effectAllowed)&&(t.dataTransfer.dropEffect="move")),n&&i._updateDropMarkerThrottled(n)):t.dataTransfer.dropEffect="none"},{priority:"low"})}},{key:"_setupClipboardInputIntegration",value:function(){var r=this,i=this.editor;this.listenTo(i.editing.view.document,"clipboardInput",function(e,t){var n;if("drop"==t.method)return n=Pp(i,t.targetRanges,t.target),r._removeDropMarker(),!n||(r._draggedRange&&r._draggingUid!=t.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(r._draggedRange.detach(),r._draggedRange=null,r._draggingUid=""),"move"==Rp(t.dataTransfer)&&r._draggedRange&&r._draggedRange.containsRange(n,!0))?(r._finalizeDragging(!1),void e.stop()):void(t.targetRanges=[i.editing.mapper.toViewRange(n)])},{priority:"high"})}},{key:"_setupContentInsertionIntegration",value:function(){var r=this,e=this.editor.plugins.get(Sf);e.on("contentInsertion",function(e,t){var n;r.isEnabled&&"drop"===t.method&&(n=t.targetRanges.map(function(e){return r.editor.editing.mapper.toModelRange(e)}),r.editor.model.change(function(e){return e.setSelection(n)}))},{priority:"high"}),e.on("contentInsertion",function(e,t){var n;r.isEnabled&&"drop"===t.method&&(n="move"==Rp(t.dataTransfer),r._finalizeDragging((!t.resultRange||!t.resultRange.isCollapsed)&&n))},{priority:"lowest"})}},{key:"_setupDraggableAttributeHandling",value:function(){var r=this,i=this.editor,o=i.editing.view,a=o.document;this.listenTo(a,"mousedown",function(e,t){var n;!li&&t&&(r._clearDraggableAttributesDelayed.cancel(),n=Op(t.target),n=!ci||i.isReadOnly||n||a.selection.isCollapsed||(t=a.selection.getSelectedElement())&&M(t)?n:a.selection.editableElement)&&(o.change(function(e){e.setAttribute("draggable","true",n)}),r._draggableElement=i.editing.mapper.toModelElement(n))}),this.listenTo(a,"mouseup",function(){li||r._clearDraggableAttributesDelayed()})}},{key:"_clearDraggableAttributes",value:function(){var t=this,n=this.editor.editing;n.view.change(function(e){t._draggableElement&&"$graveyard"!=t._draggableElement.root.rootName&&e.removeAttribute("draggable",n.mapper.toViewElement(t._draggableElement)),t._draggableElement=null})}},{key:"_setupDropMarker",value:function(){var n=this.editor;n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:function(e,t){t=t.writer;if(n.model.schema.checkChild(e.markerRange.start,"$text"))return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(e){e=this.toDomElement(e);return e.innerHTML="&NoBreak;<span></span>&NoBreak;",e})}})}},{key:"_updateDropMarker",value:function(t){var e=this.editor,n=e.model.markers;e.model.change(function(e){n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||e.updateMarker("drop-target",{range:t}):e.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}},{key:"_removeDropMarker",value:function(){var e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(function(e){e.removeMarker("drop-target")})}},{key:"_finalizeDragging",value:function(e){var t=this.editor.model;this._removeDropMarker(),this._clearDraggableAttributes(),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&t.deleteContent(t.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}],[{key:"pluginName",get:function(){return"DragDrop"}},{key:"requires",get:function(){return[Sf,Cp]}}]);var Ep,Tp=Ap;function Ap(){return wE(this,Ap),Ep.apply(this,arguments)}function Pp(r,e,t){var n,i,o,a=r.model,s=r.editing.mapper,e=e?e[0].start:null;return(n=(e=>{var t=r.model,n=r.editing.mapper;if(M(e))return t.createRangeOn(n.toModelElement(e));if(!e.is("editableElement")){e=e.findAncestor(function(e){return M(e)||e.is("editableElement")});if(M(e))return t.createRangeOn(n.toModelElement(e))}return null})(t=t.is("uiElement")?t.parent:t))||(n=t,t=r.editing.mapper,o=r.editing.view,n=(i=t.toModelElement(n))||(i=o.createPositionBefore(n),o=t.findMappedViewAncestor(i),t.toModelElement(o)),(i=e?s.toModelPosition(e):null)?(t=i,o=n,((s=r.model).schema.checkChild(o,"$block")&&(o=s.createPositionAt(o,0),o=t.path.slice(0,o.path.length),t=s.createPositionFromPath(t.root,o).nodeAfter)&&s.schema.isObject(t)?s.createRangeOn(t):null)||a.schema.getNearestSelectionRange(i,ai?"forward":"backward")||(e=>{for(var t=r.model;e;){if(t.schema.isObject(e))return t.createRangeOn(e);e=e.parent}})(i.parent)):(e=r.model,o=e.schema,e=e.createPositionAt(n,0),o.getNearestSelectionRange(e,"forward")))}function Rp(e){return ai?e.dropEffect:["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function Ip(r,i){var o;function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.cancel(),o=setTimeout(function(){return r.apply(void 0,t)},i)}return a.cancel=function(){clearTimeout(o)},a}function Op(e){return e.is("editableElement")?null:e.hasClass("ck-widget__selection-handle")?e.findAncestor(M):M(e)?e:(e=e.findAncestor(function(e){return M(e)||e.is("editableElement")}),M(e)?e:null)}xE(Bp,r),Lp=SE(Bp),CE(Bp,[{key:"init",value:function(){var e=this.editor,a=e.model,t=e.editing.view,n=t.document,s=a.document.selection,r=!1;t.addObserver(Cf),this.listenTo(n,"keydown",function(e,t){r=t.shiftKey}),e.plugins.get(Sf).on("contentInsertion",function(e,o){(r||((e,t)=>{if(!(1<e.childCount))return e=e.getChild(0),!t.isObject(e)&&0==_E(e.getAttributeKeys()).length})(o.content,a.schema))&&a.change(function(e){var t=Array.from(s.getAttributes()).filter(function(e){e=kE(e,1)[0];return a.schema.getAttributeProperties(e).isFormatting});s.isCollapsed||a.deleteContent(s,{doNotAutoparagraph:!0}),t.push.apply(t,_E(s.getAttributes()));var n,r=bE(e.createRangeIn(o.content).getItems());try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is("$textProxy")&&e.setAttributes(t,i)}}catch(e){r.e(e)}finally{r.f()}})})}}],[{key:"pluginName",get:function(){return"PastePlainText"}},{key:"requires",get:function(){return[Sf]}}]);var Mp,Np,Lp,jp=Bp,Dp=(xE(zp,r),Np=SE(zp),CE(zp,null,[{key:"pluginName",get:function(){return"Clipboard"}},{key:"requires",get:function(){return[Sf,Tp,jp]}}]),zp),Fp=(xE(Vp,a),Mp=SE(Vp),CE(Vp,[{key:"execute",value:function(){var l=this,c=this.editor.model,u=c.document;c.change(function(e){var t,n,r,i,o,a,s;t=c,n=e,r=u.selection,i=r.isCollapsed,o=r.getFirstRange(),a=o.end.parent,s=o.start.parent==a,i?(i=Pf(t.schema,r.getAttributes()),Hp(t,n,o.end),n.removeSelectionAttribute(r.getAttributeKeys()),n.setSelectionAttribute(i)):(i=!(o.start.isAtStart&&o.end.isAtEnd),t.deleteContent(r,{leaveUnmerged:i}),s?Hp(t,n,r.focus):i&&n.setSelection(a,0)),l.fire("afterExecute",{writer:e})})}},{key:"refresh",value:function(){var e,t,n=this.editor.model;this.isEnabled=(e=n.schema,!(1<(n=n.document.selection).rangeCount||!(t=n.anchor)||!e.checkChild(t,"softBreak")||(n=(t=n.getFirstRange()).start.parent,t=t.end.parent,(Up(n,e)||Up(t,e))&&n!==t)))}}]),Vp);function Vp(){return wE(this,Vp),Mp.apply(this,arguments)}function zp(){return wE(this,zp),Np.apply(this,arguments)}function Bp(){return wE(this,Bp),Lp.apply(this,arguments)}function Hp(e,t,n){var r=t.createElement("softBreak");e.insertContent(r,n),t.setSelection(r,"after")}function Up(e,t){return!e.is("rootElement")&&(t.isLimit(e)||Up(e.parent,t))}xE(Zp,r),Wp=SE(Zp),CE(Zp,[{key:"init",value:function(){var n=this.editor,e=n.conversion,r=n.editing.view,t=r.document;n.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),e.for("upcast").elementToElement({model:"softBreak",view:"br"}),e.for("downcast").elementToElement({model:"softBreak",view:function(e,t){return t.writer.createEmptyElement("br")}}),r.addObserver(Vf),n.commands.add("shiftEnter",new Fp(n)),this.listenTo(t,"enter",function(e,t){t.preventDefault(),t.isSoft&&(n.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]);var qp,Wp,$p=Zp,Kp=(xE(Gp,a),qp=SE(Gp),CE(Gp,[{key:"execute",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!Jp(e.schema,n))do{if(!(n=n.parent))return}while(!Jp(e.schema,n));e.change(function(e){e.setSelection(n,"in")})}}]),Gp);function Gp(){return wE(this,Gp),qp.apply(this,arguments)}function Zp(){return wE(this,Zp),Wp.apply(this,arguments)}function Jp(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}var Qp,Yp,Xp,eg,tg=gi("Ctrl+A"),ng=(xE(cg,r),eg=SE(cg),CE(cg,[{key:"init",value:function(){var n=this.editor,e=n.editing.view.document;n.commands.add("selectAll",new Kp(n)),this.listenTo(e,"keydown",function(e,t){pi(t)===tg&&(n.execute("selectAll"),t.preventDefault())})}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),cg),rg=(xE(lg,r),Xp=SE(lg),CE(lg,[{key:"init",value:function(){var r=this,i=this.editor;i.ui.componentFactory.add("selectAll",function(e){var t=i.commands.get("selectAll"),n=new E(e);return n.set({label:(0,e.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),n.bind("isOn","isEnabled").to(t,"value","isEnabled"),r.listenTo(n,"execute",function(){i.execute("selectAll"),i.editing.view.focus()}),n})}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),lg),ig=(xE(sg,r),Yp=SE(sg),CE(sg,null,[{key:"requires",get:function(){return[ng,rg]}},{key:"pluginName",get:function(){return"SelectAll"}}]),sg),og=(xE(ag,a),Qp=SE(ag),CE(ag,[{key:"destroy",value:function(){yE(RE(ag.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document,i=e.text||"",o=i.length,a=e.range?n.createSelection(e.range):r.selection,s=e.resultRange;n.enqueueChange(this._buffer.batch,function(e){t._buffer.lock(),t._batches.add(t._buffer.batch),n.deleteContent(a),i&&n.insertContent(e.createText(i,r.selection.getAttributes()),a),s?e.setSelection(s):a.is("documentSelection")||e.setSelection(a),t._buffer.unlock(),t._buffer.input(o)})}},{key:"buffer",get:function(){return this._buffer}}]),ag);function ag(e,t){var n;return wE(this,ag),(n=Qp.call(this,e))._buffer=new Bf(e.model,t),n._batches=new WeakSet,n}function sg(){return wE(this,sg),Yp.apply(this,arguments)}function lg(){return wE(this,lg),Xp.apply(this,arguments)}function cg(){return wE(this,cg),eg.apply(this,arguments)}function ug(e){var t,n,r,i,o;if(e.newChildren.length-e.oldChildren.length==1)return t=Qi(e.oldChildren,e.newChildren,hg),n=e.newChildren,i=[],o=0,t.forEach(function(e){"equal"==e?(a(),o++):"insert"==e?(s("insert")?r.values.push(n[o]):(a(),r={type:"insert",index:o,values:[n[o]]}),o++):s("delete")?r.howMany++:(a(),r={type:"delete",index:o,howMany:1})}),a(),!(1<(e=i).length)&&(t=e[0]).values[0]&&t.values[0].is("$text")?t:void 0;function a(){r&&(i.push(r),r=null)}function s(e){return r&&r.type==e}}function hg(e,t){return e&&e.is("$text")&&t&&t.is("$text")?e.data===t.data:e===t}CE(fg,[{key:"handle",value:function(e,t){if((e=>{if(0!=e.length){var t,n=bE(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("children"===r.type&&!ug(r))return 1}}catch(e){n.e(e)}finally{n.f()}}})(e))this._handleContainerChildrenMutations(e,t);else{var n,r=bE(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._handleTextMutation(i,t),this._handleTextNodeInsertion(i)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"_handleContainerChildrenMutations",value:function(t,e){var n,r,i,o,a,s=(()=>{var e=t.map(function(e){return e.node}).reduce(function(e,t){return e.getCommonAncestor(t,{includeSelf:!0})});if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(e){return e.is("containerElement")||e.is("rootElement")})})();s&&(n=this.editor.editing.view.domConverter.mapViewToDom(s),r=new uo(this.editor.editing.view.document),r=this.editor.data.toModel(r.domToView(n)).getChild(0),n=this.editor.editing.mapper.toModelElement(s))&&(s=Array.from(r.getChildren()),r=Array.from(n.getChildren()),i=s[s.length-1],a=r[r.length-1],i=i&&i.is("element","softBreak"),a=a&&!a.is("element","softBreak"),i&&a&&s.pop(),pg(s,i=this.editor.model.schema))&&pg(r,i)&&(a=s.map(function(e){return e.is("$text")?e.data:"@"}).join("").replace(/\u00A0/g," "),(i=r.map(function(e){return e.is("$text")?e.data:"@"}).join("").replace(/\u00A0/g," "))!==a)&&(r=(s=gg(Qi(i,a))).firstChangeAt,i=s.insertions,s=s.deletions,o=null,e&&(o=this.editing.mapper.toModelRange(e.getFirstRange())),e=a.substr(r,i),a=this.editor.model.createRange(this.editor.model.createPositionAt(n,r),this.editor.model.createPositionAt(n,r+s)),this.editor.execute("input",{text:e,range:a,resultRange:o}))}},{key:"_handleTextMutation",value:function(e,t){var n,r,i,o,a;"text"==e.type&&(n=e.newText.replace(/\u00A0/g," "),(o=e.oldText.replace(/\u00A0/g," "))!==n)&&(r=(o=gg(Qi(o,n))).firstChangeAt,i=o.insertions,o=o.deletions,a=null,t&&(a=this.editing.mapper.toModelRange(t.getFirstRange())),t=this.editing.view.createPositionAt(e.node,r),e=this.editing.mapper.toModelPosition(t),t=this.editor.model.createRange(e,e.getShiftedBy(o)),e=n.substr(r,i),this.editor.execute("input",{text:e,range:t,resultRange:a}))}},{key:"_handleTextNodeInsertion",value:function(e){var t;"children"==e.type&&(t=ug(e),e=this.editing.view.createPositionAt(e.node,t.index),e=this.editing.mapper.toModelPosition(e),this.editor.execute("input",{text:t.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(e)}))}}]);var dg=fg;function fg(e){wE(this,fg),this.editor=e,this.editing=this.editor.editing}function pg(e,t){return e.every(function(e){return t.isInline(e)})}function gg(e){for(var t=null,n=null,r=0;r<e.length;r++)"equal"!=e[r]&&(t=null===t?r:t,n=r);for(var i=0,o=0,a=t;a<=n;a++)"insert"!=e[a]&&i++,"delete"!=e[a]&&o++;return{insertions:o,deletions:i,firstChangeAt:t}}xE(_g,r),mg=SE(_g),CE(_g,[{key:"init",value:function(){var r,o,a,s,l,e=this.editor,t=new og(e,e.config.get("typing.undoStep")||20);function c(){var e=l.buffer,t=(e.lock(),e.batch);l._batches.add(t),a.enqueueChange(t,function(){a.deleteContent(a.document.selection)}),e.unlock()}e.commands.add("input",t),o=null,a=e.model,s=e.editing.view,l=e.commands.get("input"),s.document.on(li?"beforeinput":"keydown",function(e,t){return t=t,n=a.document,r=s.document.isComposing,i=o&&o.isEqual(n.selection),o=null,void(!l.isEnabled||pp(t)||n.selection.isCollapsed||r&&229===t.keyCode||!r&&229===t.keyCode&&i||c());var n,r,i},{priority:"lowest"}),s.document.on("compositionstart",function(){var e=a.document,t=1!==e.selection.rangeCount||e.selection.getFirstRange().isFlat;e.selection.isCollapsed||t||c()},{priority:"lowest"}),s.document.on("compositionend",function(){o=a.createSelection(a.document.selection)},{priority:"lowest"}),(r=e).editing.view.document.on("mutations",function(e,t,n){new dg(r).handle(t,n)})}},{key:"isInput",value:function(e){return this.editor.commands.get("input")._batches.has(e)}}],[{key:"pluginName",get:function(){return"Input"}}]);var vg,mg,yg=_g,kg=(xE(bg,r),vg=SE(bg),CE(bg,null,[{key:"requires",get:function(){return[yg,qf]}},{key:"pluginName",get:function(){return"Typing"}}]),bg);function bg(){return wE(this,bg),vg.apply(this,arguments)}function _g(){return wE(this,_g),mg.apply(this,arguments)}function wg(e,n){var r=e.start;return{text:Array.from(e.getItems()).reduce(function(e,t){return t.is("$text")||t.is("$textProxy")?e+t.data:(r=n.createPositionAfter(t),"")},""),range:n.createRange(r,e.end)}}CE(xg,[{key:"_startListening",value:function(){var n=this,r=this.model.document;this.listenTo(r.selection,"change:range",function(e,t){t.directChange&&(r.selection.isCollapsed?n._evaluateTextBeforeSelection("selection"):n.hasMatch&&(n.fire("unmatched"),n.hasMatch=!1))}),this.listenTo(r,"change:data",function(e,t){"transparent"!=t.type&&n._evaluateTextBeforeSelection("data",{batch:t})})}},{key:"_evaluateTextBeforeSelection",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.model,r=n.document.selection,r=wg(n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),n),n=r.text,r=r.range,i=this.testCallback(n);!i&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!i,i&&(t=Object.assign(t,{text:n,range:r}),"object"==typeof i&&Object.assign(t,i),this.fire("matched:"+e,t))}}]);var Cg=xg;function xg(e,t){var n=this;wE(this,xg),this.model=e,this.testCallback=t,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",function(){n.isEnabled?n._startListening():(n.stopListening(e.document.selection),n.stopListening(e.document))}),this._startListening()}o(Cg,i);xE(Tg,r),Sg=SE(Tg),CE(Tg,null,[{key:"pluginName",get:function(){return"TwoStepCaretMovement"}}]),CE(Tg,[{key:"init",value:function(){var o=this,e=this.editor,a=e.locale,s=e.model.document.selection;this.listenTo(e.editing.view.document,"arrowKey",function(e,t){var n,r,i;s.isCollapsed&&!(t.shiftKey||t.altKey||t.ctrlKey)&&(n=t.keyCode==d.arrowright,r=t.keyCode==d.arrowleft,n||r)&&!0===("ltr"===(i=a.contentLanguageDirection)&&n||"rtl"===i&&r?o._handleForwardMovement(t):o._handleBackwardMovement(t))&&e.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(s,"change:range",function(e,t){o._isNextGravityRestorationSkipped?o._isNextGravityRestorationSkipped=!1:!o._isGravityOverridden||!t.directChange&&Ig(s.getFirstPosition(),o.attributes)||o._restoreGravity()})}},{key:"registerAttribute",value:function(e){this.attributes.add(e)}},{key:"_handleForwardMovement",value:function(e){var t=this.attributes,n=this.editor.model.document.selection,r=n.getFirstPosition();return!this._isGravityOverridden&&(!r.isAtStart||!Ag(n,t))&&(Ig(r,t)?(Rg(e),this._overrideGravity(),!0):void 0)}},{key:"_handleBackwardMovement",value:function(e){var t,n=this.attributes,r=this.editor.model,i=r.document.selection,o=i.getFirstPosition();return this._isGravityOverridden?(Rg(e),this._restoreGravity(),Pg(r,n,o),!0):o.isAtStart?!!Ag(i,n)&&(Rg(e),Pg(r,n,o),!0):(t=n,Ig(o.getShiftedBy(-1),t)?o.isAtEnd&&!Ag(i,n)&&Ig(o,n)?(Rg(e),Pg(r,n,o),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0)}},{key:"_overrideGravity",value:function(){this._overrideUid=this.editor.model.change(function(e){return e.overrideSelectionGravity()})}},{key:"_restoreGravity",value:function(){var t=this;this.editor.model.change(function(e){e.restoreSelectionGravity(t._overrideUid),t._overrideUid=null})}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}}]);var Sg,Eg=Tg;function Tg(e){return wE(this,Tg),(e=Sg.call(this,e)).attributes=new Set,e._overrideUid=null,e}function Ag(e,t){var n,r=bE(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.hasAttribute(i))return 1}}catch(e){r.e(e)}finally{r.f()}}function Pg(e,t,n){var r=n.nodeBefore;e.change(function(e){r?e.setSelectionAttribute(r.getAttributes()):e.removeSelectionAttribute(t)})}function Rg(e){e.preventDefault()}function Ig(e,t){var n,r=e.nodeBefore,i=e.nodeAfter,o=bE(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=r?r.getAttribute(a):void 0;if((i?i.getAttribute(a):void 0)!==s)return!0}}catch(e){o.e(e)}finally{o.f()}return!1}var Og=/[\\^$.*+?()[\]{}|]/g,Mg=RegExp(Og.source),Ng={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:"1/2",to:""},oneThird:{from:"1/3",to:""},twoThirds:{from:"2/3",to:""},oneForth:{from:"1/4",to:""},threeQuarters:{from:"3/4",to:""},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Dg('"'),to:[null,"",null,""]},quotesSecondary:{from:Dg("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Dg("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Dg('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Dg('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Dg("'"),to:[null,"",null,""]}},Lg={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},jg=["symbols","mathematical","typography","quotes"];function Dg(e){return new RegExp("(^|\\s)(".concat(e,")([^").concat(e,"]*)(").concat(e,")$"))}function Fg(e,t,n,r){return r.createRange(Vg(e,t,n,!0,r),Vg(e,t,n,!1,r))}function Vg(e,t,n,r,i){for(var o=e.textNode||(r?e.nodeBefore:e.nodeAfter),a=null;o&&o.getAttribute(t)==n;)a=o,o=r?o.previousSibling:o.nextSibling;return a?i.createPositionAt(a,r?"before":"after"):e}function zg(a,s,l,c){var n=a.editing.view,u=new Set;n.document.registerPostFixer(function(e){var t=a.model.document.selection,n=!1;if(t.hasAttribute(s)){var r,t=Fg(t.getFirstPosition(),s,t.getAttribute(s),a.model),i=bE(a.editing.mapper.toViewRange(t).getItems());try{for(i.s();!(r=i.n()).done;){var o=r.value;o.is("element",l)&&!o.hasClass(c)&&(e.addClass(c,o),u.add(o),n=!0)}}catch(e){i.e(e)}finally{i.f()}}return n}),a.conversion.for("editingDowncast").add(function(e){function t(){n.change(function(e){var t,n=bE(u.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.removeClass(c,r),u.delete(r)}}catch(e){n.e(e)}finally{n.f()}})}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})})}xE(Hg,a),Bg=SE(Hg),CE(Hg,[{key:"refresh",value:function(){this.isEnabled=0<this._stack.length}},{key:"addBatch",value:function(e){var t=this.editor.model.document.selection,t={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:t}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(e,t,n){var r,i=this.editor.model,o=i.document,a=[],e=e.map(function(e){return e.getTransformedByOperations(n)}),s=e.flat(),l=bE(e);try{for(l.s();!(r=l.n()).done;){var c=r.value.filter(function(e){return e.root!=o.graveyard}).filter(function(e){return t=e,!s.some(function(e){return e!==t&&e.containsRange(t,!0)});var t});if(c.length){{u=void 0;h=void 0;d=void 0;var u=c;u.sort(function(e,t){return e.start.isBefore(t.start)?-1:1});for(var h=1;h<u.length;h++){var d=u[h-1].getJoined(u[h],!0);d&&(h--,u.splice(h,2,d))}}a.push(c[0])}}}catch(e){l.e(e)}finally{l.f()}a.length&&i.change(function(e){e.setSelection(a,{backward:t})})}},{key:"_undo",value:function(e,t){var n=this.editor.model,r=n.document,e=(this._createdBatches.add(t),e.operations.slice().filter(function(e){return e.isDocumentOperation}));e.reverse();var i,o=bE(e);try{for(o.s();!(i=o.n()).done;){var a,s=i.value,l=Array.from(r.history.getOperations(s.baseVersion+1)),c=bE(((e,t,n)=>{e=e.slice(),t=t.slice();var r=new Jd(n.document,n.useRelations,n.forceWeakRemove),i=(r.setOriginalOperations(e),r.setOriginalOperations(t),r.originalOperations);if(0!=e.length&&0!=t.length){var o,a=new WeakMap,s=bE(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;a.set(l,0)}}catch(e){s.e(e)}finally{s.f()}for(var c,u={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length},h=0;h<e.length;){var d=e[h],f=a.get(d);if(f!=t.length){var p=t[f],g=Zd(d,p,r.getContext(d,p,!0)),v=Zd(p,d,r.getContext(p,d,!1));r.updateRelation(d,p),r.setOriginalOperations(g,d),r.setOriginalOperations(v,p);var m,y=bE(g);try{for(y.s();!(m=y.n()).done;){var k=m.value;a.set(k,f+v.length)}}catch(e){y.e(e)}finally{y.f()}e.splice.apply(e,[h,1].concat(_E(g))),t.splice.apply(t,[f,1].concat(_E(v)))}else h++}n.padWithNoOps&&(n=e.length-u.originalOperationsACount,Xd(e,(c=t.length-u.originalOperationsBCount)-n),Xd(t,n-c)),Yd(e,u.nextBaseVersionB),Yd(t,u.nextBaseVersionA)}return{operationsA:e,operationsB:t,originalOperations:i}})([s.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA);try{for(c.s();!(a=c.n()).done;){var u=a.value;t.addOperation(u),n.applyOperation(u),r.history.setOperationAsUndone(s,u)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){o.e(e)}finally{o.f()}}}]);var Bg,ed=Hg;function Hg(e){var t;return wE(this,Hg),(t=Bg.call(this,e))._stack=[],t._createdBatches=new WeakSet,t.refresh(),t.listenTo(e.data,"set",function(){return t.clearStack()}),t}xE(sv,ed),Kg=SE(sv),CE(sv,[{key:"execute",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=n?this._stack.findIndex(function(e){return e.batch==n}):this._stack.length-1,r=this._stack.splice(e,1)[0],i=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(i,function(){t._undo(r.batch,i);var e=t.editor.model.document.history.getOperations(r.batch.baseVersion);t._restoreSelection(r.selection.ranges,r.selection.isBackward,e),t.fire("revert",r.batch,i)}),this.refresh()}}]);var Ug,qg,Wg,$g,Kg,Gg=sv,Zg=(xE(av,ed),$g=SE(av),CE(av,[{key:"execute",value:function(){var t=this,n=this._stack.pop(),r=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(r,function(){var e=t.editor.model.document.history.getOperations(n.batch.operations[n.batch.operations.length-1].baseVersion+1);t._restoreSelection(n.selection.ranges,n.selection.isBackward,e),t._undo(n.batch,r)}),this.refresh()}}]),av),Jg=(xE(ov,r),Wg=SE(ov),CE(ov,null,[{key:"pluginName",get:function(){return"UndoEditing"}}]),CE(ov,[{key:"init",value:function(){var i=this,e=this.editor;this._undoCommand=new Gg(e),this._redoCommand=new Zg(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",function(e,t){var n,r,t=t[0];t.isDocumentOperation&&(t=t.batch,n=i._redoCommand._createdBatches.has(t),r=i._undoCommand._createdBatches.has(t),i._batchRegistry.has(t)||"transparent"==t.type&&!n&&!r||(n?i._undoCommand.addBatch(t):r||(i._undoCommand.addBatch(t),i._redoCommand.clearStack()),i._batchRegistry.add(t)))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",function(e,t,n){i._redoCommand.addBatch(n)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}]),ov),Qg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Yg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',Xg=(xE(iv,r),qg=SE(iv),CE(iv,[{key:"init",value:function(){var e=this.editor,t=e.locale,e=e.t,n="ltr"==t.uiLanguageDirection?Qg:Yg,t="ltr"==t.uiLanguageDirection?Yg:Qg;this._addButton("undo",e("Undo"),"CTRL+Z",n),this._addButton("redo",e("Redo"),"CTRL+Y",t)}},{key:"_addButton",value:function(n,r,i,o){var a=this,s=this.editor;s.ui.componentFactory.add(n,function(e){var t=s.commands.get(n),e=new E(e);return e.set({label:r,icon:o,keystroke:i,tooltip:!0}),e.bind("isEnabled").to(t,"isEnabled"),a.listenTo(e,"execute",function(){s.execute(n),s.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"UndoUI"}}]),iv),ev=(xE(rv,r),Ug=SE(rv),CE(rv,null,[{key:"requires",get:function(){return[Jg,Xg]}},{key:"pluginName",get:function(){return"Undo"}}]),rv),tv=(CE(nv,[{key:"read",value:function(n){var r=this,i=this._reader;return this.total=n.size,new Promise(function(t,e){i.onload=function(){var e=i.result;r._data=e,t(e)},i.onerror=function(){e("error")},i.onabort=function(){e("aborted")},r._reader.readAsDataURL(n)})}},{key:"abort",value:function(){this._reader.abort()}},{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}}]),nv);function nv(){var t=this,e=(wE(this,nv),new window.FileReader);this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=function(e){t.loaded=e.loaded}}function rv(){return wE(this,rv),Ug.apply(this,arguments)}function iv(){return wE(this,iv),qg.apply(this,arguments)}function ov(e){return wE(this,ov),(e=Wg.call(this,e))._batchRegistry=new WeakSet,e}function av(){return wE(this,av),$g.apply(this,arguments)}function sv(){return wE(this,sv),Kg.apply(this,arguments)}o(tv,i);xE(uv,r),lv=SE(uv),CE(uv,[{key:"init",value:function(){var e=this;this.loaders=new wn,this.loaders.on("add",function(){return e._updatePendingAction()}),this.loaders.on("remove",function(){return e._updatePendingAction()}),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(e,t){return t?e/t*100:0})}},{key:"getLoader",value:function(e){return this._loadersMap.get(e)||null}},{key:"createLoader",value:function(e){var t,i=this;return this.createUploadAdapter?(t=new hv(Promise.resolve(e),this.createUploadAdapter),this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(function(e){i._loadersMap.set(e,t)}).catch(function(){}),t.on("change:uploaded",function(){var e,t=0,n=bE(i.loaders);try{for(n.s();!(e=n.n()).done;)t+=e.value.uploaded}catch(e){n.e(e)}finally{n.f()}i.uploaded=t}),t.on("change:uploadTotal",function(){var e,t=0,n=bE(i.loaders);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.uploadTotal&&(t+=r.uploadTotal)}}catch(e){n.e(e)}finally{n.f()}i.uploadTotal=t}),t):(Object(A.b)("filerepository-no-upload-adapter"),null)}},{key:"destroyLoader",value:function(e){var n=this,r=e instanceof hv?e:this.getLoader(e);r._destroy(),this.loaders.remove(r),this._loadersMap.forEach(function(e,t){e===r&&n._loadersMap.delete(t)})}},{key:"_updatePendingAction",value:function(){var t,e,n=this.editor.plugins.get(su);this.loaders.length?this._pendingAction||(t=this.editor.t,this._pendingAction=n.add((e=function(e){return"".concat(t("Upload in progress")," ").concat(parseInt(e),"%.")})(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",e)):(n.remove(this._pendingAction),this._pendingAction=null)}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[su]}}]);var lv,cv=uv;function uv(){return wE(this,uv),lv.apply(this,arguments)}o(cv,i);CE(dv,[{key:"read",value:function(){var t=this;if("idle"!=this.status)throw new A.a("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(function(e){return t._reader.read(e)}).then(function(e){if("reading"!==t.status)throw t.status;return t.status="idle",e}).catch(function(e){if("aborted"===e)throw t.status="aborted";throw t.status="error",t._reader.error||e})}},{key:"upload",value:function(){var t=this;if("idle"!=this.status)throw new A.a("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(function(){return t._adapter.upload()}).then(function(e){return t.uploadResponse=e,t.status="idle",e}).catch(function(e){if("aborted"===t.status)throw"aborted";throw t.status="error",e})}},{key:"abort",value:function(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(function(){}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(e){var r={};return r.promise=new Promise(function(t,n){r.rejecter=n,r.isFulfilled=!1,e.then(function(e){r.isFulfilled=!0,t(e)}).catch(function(e){r.isFulfilled=!0,n(e)})}),r}},{key:"file",get:function(){var t=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(function(e){return t._filePromiseWrapper?e:null}):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}}]);var hv=dv;function dv(e,t){wE(this,dv),this.id=U(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new tv,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(e,t){return t?e/t*100:0}),this.set("uploadResponse",null)}o(hv,i);xE(bv,S),pv=SE(bv),CE(bv,[{key:"focus",value:function(){this.buttonView.focus()}}]);var fv,pv,gv=bv,vv=(xE(kv,S),fv=SE(kv),CE(kv,[{key:"open",value:function(){this.element.click()}}]),kv),mv=(CE(yv,[{key:"upload",value:function(){var r=this;return this.loader.file.then(function(n){return new Promise(function(e,t){r._initRequest(),r._initListeners(e,t,n),r._sendRequest(n)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}},{key:"_initListeners",value:function(t,n,e){var r=this.xhr,i=this.loader,o=(0,this.t)("Cannot upload file:")+" ".concat(e.name,".");r.addEventListener("error",function(){return n(o)}),r.addEventListener("abort",function(){return n()}),r.addEventListener("load",function(){var e=r.response;if(!e||!e.uploaded)return n(e&&e.error&&e.error.message?e.error.message:o);t({default:e.url})}),r.upload&&r.upload.addEventListener("progress",function(e){e.lengthComputable&&(i.uploadTotal=e.total,i.uploaded=e.loaded)})}},{key:"_sendRequest",value:function(e){var t,n=new FormData;n.append("upload",e),n.append("ckCsrfToken",((e=(e=>{e="ckCsrfToken".toLowerCase();var t,n=bE(document.cookie.split(";"));try{for(n.s();!(t=n.n()).done;){var r=t.value.split("=");if(decodeURIComponent(r[0].trim().toLowerCase())===e)return decodeURIComponent(r[1])}}catch(e){n.e(e)}finally{n.f()}return null})())&&40==e.length||(t=e=(()=>{var e="",t=new Uint8Array(40);window.crypto.getRandomValues(t);for(var n=0;n<t.length;n++){var r="abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[n]%"abcdefghijklmnopqrstuvwxyz0123456789".length);e+=.5<Math.random()?r.toUpperCase():r}return e})(),document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(t)+";path=/"),e)),this.xhr.send(n)}}]),yv);function yv(e,t,n){wE(this,yv),this.loader=e,this.url=t,this.t=n}function kv(e){wE(this,kv),(t=fv.call(this,e)).set("acceptedType"),t.set("allowMultipleFiles",!1);var t,e=t.bindTemplate;return t.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(function(){t.element&&t.element.files&&t.element.files.length&&t.fire("done",t.element.files),t.element.value=""})}}),t}function bv(e){var t;return wE(this,bv),(t=pv.call(this,e)).buttonView=new E(e),t._fileInputView=new vv(e),t._fileInputView.bind("acceptedType").to(TE(t)),t._fileInputView.bind("allowMultipleFiles").to(TE(t)),t._fileInputView.delegate("done").to(TE(t)),t.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[t.buttonView,t._fileInputView]}),t.buttonView.on("execute",function(){t._fileInputView.open()}),t}function _v(a,s,l,c){var u=null,h="function"==typeof c?c:(u=a.commands.get(c),function(){a.execute(c)});a.model.document.on("change:data",function(e,t){var n,i,r,o;u&&!u.isEnabled||!s.isEnabled||(n=v(a.model.document.selection.getRanges())).isCollapsed&&"transparent"!=t.type&&(r=(t=Array.from(a.model.document.differ.getChanges()))[0],1!=t.length||"insert"!==r.type||"$text"!=r.name||1!=r.length||(i=r.position.parent).is("element","codeBlock")||i.is("element","listItem")&&"function"!=typeof c&&!["numberedList","bulletedList","todoList"].includes(c)||u&&!0===u.value||(t=i.getChild(0),((r=a.model.createRangeOn(t)).containsRange(n)||n.end.isEqual(r.end))&&(o=l.exec(t.data.substr(0,n.end.offset)))&&a.model.enqueueChange(function(e){var t,n=e.createPositionAt(i,0),r=e.createPositionAt(i,o[0].length),n=new Cs(n,r);!1!==h({match:o})&&(e.remove(n),r=a.model.document.selection.getFirstRange(),t=e.createRangeIn(i),!i.isEmpty||t.isEqual(r)||t.containsRange(r,!0)||e.remove(i)),n.detach()})))})}function wv(c,u,e,h){var l,d;e instanceof RegExp?l=e:d=e,d=d||function(e){for(var t=[],n=[];null!==(s=l.exec(e))&&!(s&&s.length<4);){var r=s.index,i=s[1],o=s[2],a=s[3],s=[(r+=s[0].length-(i+o+a).length)+i.length+o.length,r+i.length+o.length+a.length];t.push([r,r+i.length]),t.push(s),n.push([r+i.length,r+i.length+o.length])}return{remove:t,format:n}},c.model.document.on("change:data",function(e,t){var n,r,i,o,a,s,l;"transparent"!=t.type&&u.isEnabled&&(a=(t=c.model).document.selection).isCollapsed&&(n=(r=Array.from(t.document.differ.getChanges()))[0],1==r.length)&&"insert"===n.type&&"$text"==n.name&&1==n.length&&(n=(r=a.focus).parent,a=t.createRange(t.createPositionAt(n,0),r),s=t,l=a.start,r=(n={text:Array.from(a.getItems()).reduce(function(e,t){return!t.is("$text")&&!t.is("$textProxy")||t.getAttribute("code")?(l=s.createPositionAfter(t),""):e+t.data},""),range:s.createRange(l,a.end)}).range,a=d(n.text),i=Cv(r.start,a.format,t),o=Cv(r.start,a.remove,t),i.length)&&o.length&&t.enqueueChange(function(e){if(!1!==h(e,i)){var t,n=bE(o.reverse());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.remove(r)}}catch(e){n.e(e)}finally{n.f()}}})})}function Cv(t,e,n){return e.filter(function(e){return void 0!==e[0]&&void 0!==e[1]}).map(function(e){return n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1]))})}function xv(o,a){return function(e,t){if(!o.commands.get(a).isEnabled)return!1;var n,r=bE(o.model.schema.getValidRanges(t,a));try{for(r.s();!(n=r.n()).done;){var i=n.value;e.setAttribute(a,!0,i)}}catch(e){r.e(e)}finally{r.f()}e.removeSelectionAttribute(a)}}xE(Hv,a),Rv=SE(Hv),CE(Hv,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:"execute",value:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.model,a=o.document.selection,s=void 0===e.forceValue?!this.value:e.forceValue;o.change(function(e){if(a.isCollapsed)s?e.setSelectionAttribute(i.attributeKey,!0):e.removeSelectionAttribute(i.attributeKey);else{var t,n=bE(o.schema.getValidRanges(a.getRanges(),i.attributeKey));try{for(n.s();!(t=n.n()).done;){var r=t.value;s?e.setAttribute(i.attributeKey,s,r):e.removeAttribute(i.attributeKey,r)}}catch(e){n.e(e)}finally{n.f()}}})}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,t=e.schema,e=e.document.selection;if(e.isCollapsed)return e.hasAttribute(this.attributeKey);var n,r=bE(e.getRanges());try{for(r.s();!(n=r.n()).done;){var i,o=bE(n.value.getItems());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.checkAttribute(a,this.attributeKey))return a.hasAttribute(this.attributeKey)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return!1}}]);var Sv,Ev,Tv,Av,Pv,Rv,Iv=Hv,Ov=(xE(Bv,r),Pv=SE(Bv),CE(Bv,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"bold"}),e.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",function(e){e=e.getStyle("font-weight");return e?"bold"==e||600<=Number(e)?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add("bold",new Iv(e,"bold")),e.keystrokes.set("CTRL+B","bold")}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),Bv),Mv=(xE(zv,r),Av=SE(zv),CE(zv,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("bold",function(e){var t=r.commands.get("bold"),e=new E(e);return e.set({label:i("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("bold"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"BoldUI"}}]),zv),Nv=(xE(Vv,r),Tv=SE(Vv),CE(Vv,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"italic"}),e.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add("italic",new Iv(e,"italic")),e.keystrokes.set("CTRL+I","italic")}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),Vv),Lv=(xE(Fv,r),Ev=SE(Fv),CE(Fv,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("italic",function(e){var t=r.commands.get("italic"),e=new E(e);return e.set({label:i("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("italic"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"ItalicUI"}}]),Fv),jv=(xE(Dv,a),Sv=SE(Dv),CE(Dv,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,r=t.schema,i=Array.from(t.document.selection.getSelectedBlocks()),o=void 0===e.forceValue?!this.value:e.forceValue;t.change(function(e){var t;o?(t=i.filter(function(e){return Uv(e)||Wv(r,e)}),n._applyQuote(e,t)):n._removeQuote(e,i.filter(Uv))})}},{key:"_getValue",value:function(){var e=v(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Uv(e))}},{key:"_checkEnabled",value:function(){var e,t;return!!this.value||(e=this.editor.model.schema,!!(t=v(this.editor.model.document.selection.getSelectedBlocks()))&&Wv(e,t))}},{key:"_removeQuote",value:function(n,e){qv(n,e).reverse().forEach(function(e){var t;e.start.isAtStart&&e.end.isAtEnd?n.unwrap(e.start.parent):e.start.isAtStart?(t=n.createPositionBefore(e.start.parent),n.move(e,t)):(e.end.isAtEnd||n.split(e.end),t=n.createPositionAfter(e.end.parent),n.move(e,t))})}},{key:"_applyQuote",value:function(n,e){var r=[];qv(n,e).reverse().forEach(function(e){var t=Uv(e.start);t||(t=n.createElement("blockQuote"),n.wrap(e,t)),r.push(t)}),r.reverse().reduce(function(e,t){return e.nextSibling==t?(n.merge(n.createPositionAfter(e)),e):t})}}]),Dv);function Dv(){return wE(this,Dv),Sv.apply(this,arguments)}function Fv(){return wE(this,Fv),Ev.apply(this,arguments)}function Vv(){return wE(this,Vv),Tv.apply(this,arguments)}function zv(){return wE(this,zv),Av.apply(this,arguments)}function Bv(){return wE(this,Bv),Pv.apply(this,arguments)}function Hv(e,t){return wE(this,Hv),(e=Rv.call(this,e)).attributeKey=t,e}function Uv(e){return"blockQuote"==e.parent.name?e.parent:null}function qv(e,t){for(var n=0,r=[];n<t.length;){var i=t[n],o=t[n+1],a=a||e.createPositionBefore(i);o&&i.nextSibling==o||(r.push(e.createRange(a,e.createPositionAfter(i))),a=null),n++}return r}function Wv(e,t){var n=e.checkChild(t.parent,"blockQuote"),e=e.checkChild(["$root","blockQuote"],t);return n&&e}xE(Gv,r),$v=SE(Gv),CE(Gv,[{key:"init",value:function(){var c=this.editor,u=c.model.schema,e=(c.commands.add("blockQuote",new jv(c)),u.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),c.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),c.model.document.registerPostFixer(function(e){var t,n=bE(c.model.document.differ.getChanges());try{for(n.s();!(t=n.n()).done;){var r=t.value;if("insert"==r.type){var i=r.position.nodeAfter;if(i){if(i.is("element","blockQuote")&&i.isEmpty)return e.remove(i),!0;if(i.is("element","blockQuote")&&!u.checkChild(r.position,i))return e.unwrap(i),!0;if(i.is("element")){var o,a=bE(e.createRangeIn(i).getItems());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.is("element","blockQuote")&&!u.checkChild(e.createPositionBefore(s),s))return e.unwrap(s),!0}}catch(e){a.e(e)}finally{a.f()}}}}else if("remove"==r.type){var l=r.position.parent;if(l.is("element","blockQuote")&&l.isEmpty)return e.remove(l),!0}}}catch(e){n.e(e)}finally{n.f()}return!1}),this.editor.editing.view.document),r=c.model.document.selection,i=c.commands.get("blockQuote");this.listenTo(e,"enter",function(e,t){r.isCollapsed&&i.value&&r.getLastPosition().parent.isEmpty&&(c.execute("blockQuote"),c.editing.view.scrollToTheSelection(),t.preventDefault(),e.stop())},{context:"blockquote"}),this.listenTo(e,"delete",function(e,t){var n;"backward"==t.direction&&r.isCollapsed&&i.value&&(n=r.getLastPosition().parent).isEmpty&&!n.previousSibling&&(c.execute("blockQuote"),c.editing.view.scrollToTheSelection(),t.preventDefault(),e.stop())},{context:"blockquote"})}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}},{key:"requires",get:function(){return[zf,qf]}}]);var $v,Kv=Gv;function Gv(){return wE(this,Gv),$v.apply(this,arguments)}e(69);xE(rm,r),Qv=SE(rm),CE(rm,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("blockQuote",function(e){var t=r.commands.get("blockQuote"),e=new E(e);return e.set({label:i("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("blockQuote"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"BlockQuoteUI"}}]);var Zv,Jv,Qv,Yv=rm,Xv=(xE(nm,r),Jv=SE(nm),CE(nm,[{key:"init",value:function(){var n=this.editor,r=n.t;n.ui.componentFactory.add("ckfinder",function(e){var t=n.commands.get("ckfinder"),e=new E(e);return e.set({label:r("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),e.bind("isEnabled").to(t),e.on("execute",function(){n.execute("ckfinder"),n.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),nm),em=(xE(tm,a),Zv=SE(tm),CE(tm,[{key:"refresh",value:function(){var e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}},{key:"execute",value:function(){var h=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new A.a("ckfinder-unknown-openermethod",h);var t=this.editor.config.get("ckfinder.options")||{},n=(t.chooseFiles=!0,t.onInit);t.language||(t.language=h.locale.uiLanguage),t.onInit=function(u){n&&n(u),u.on("files:choose",function(e){var t,e=e.data.files.toArray(),n=e.filter(function(e){return!e.isImage()}),e=e.filter(function(e){return e.isImage()}),r=bE(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;h.execute("link",i.getUrl())}}catch(e){r.e(e)}finally{r.f()}var o,a=[],s=bE(e);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=l.getUrl();a.push(c||u.request("file:getProxyUrl",{file:l}))}}catch(e){s.e(e)}finally{s.f()}a.length&&im(h,a)}),u.on("file:choose:resizedImage",function(e){var t,e=e.data.resizedUrl;e?im(h,[e]):(e=h.plugins.get("Notification"),t=h.locale.t,e.showWarning(t("Could not obtain resized image URL."),{title:t("Selecting resized image failed"),namespace:"ckfinder"}))})},window.CKFinder[e](t)}}]),tm);function tm(e){var t;return wE(this,tm),(t=Zv.call(this,e)).stopListening(t.editor.model.document,"change"),t.listenTo(t.editor.model.document,"change",function(){return t.refresh()},{priority:"low"}),t}function nm(){return wE(this,nm),Jv.apply(this,arguments)}function rm(){return wE(this,rm),Qv.apply(this,arguments)}function im(e,t){e.commands.get("insertImage").isEnabled?e.execute("insertImage",{source:t}):(t=e.plugins.get("Notification"),e=e.locale.t,t.showWarning(e("Could not insert image at the current position."),{title:e("Inserting image failed"),namespace:"ckfinder"}))}xE(gm,r),sm=SE(gm),CE(gm,[{key:"init",value:function(){var e=this.editor;e.commands.add("ckfinder",new em(e))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[_d,"ImageEditing","LinkEditing"]}}]);var om,am,sm,lm=gm,cm=(xE(pm,r),am=SE(pm),CE(pm,[{key:"init",value:function(){var t=this,e=this.editor,n=e.plugins.get("CloudServices"),r=n.token,n=n.uploadUrl;r&&(this._uploadGateway=e.plugins.get("CloudServicesCore").createUploadGateway(r,n),e.plugins.get(cv).createUploadAdapter=function(e){return new um(t._uploadGateway,e)})}}],[{key:"pluginName",get:function(){return"CloudServicesUploadAdapter"}},{key:"requires",get:function(){return["CloudServices",cv]}}]),pm),um=(CE(fm,[{key:"upload",value:function(){var n=this;return this.loader.file.then(function(e){return n.fileUploader=n.uploadGateway.upload(e),n.fileUploader.on("progress",function(e,t){n.loader.uploadTotal=t.total,n.loader.uploaded=t.uploaded}),n.fileUploader.send()})}},{key:"abort",value:function(){this.fileUploader.abort()}}]),fm),hm=(xE(dm,a),om=SE(dm),CE(dm,[{key:"refresh",value:function(){var e=this.editor.model,t=v(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&vm(t,e.schema)}},{key:"execute",value:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=this.editor.model,a=o.document;o.change(function(e){var t,n=bE((i.selection||a.selection).getSelectedBlocks());try{for(n.s();!(t=n.n()).done;){var r=t.value;!r.is("element","paragraph")&&vm(r,o.schema)&&e.rename(r,"paragraph")}}catch(e){n.e(e)}finally{n.f()}})}}]),dm);function dm(){return wE(this,dm),om.apply(this,arguments)}function fm(e,t){wE(this,fm),this.uploadGateway=e,this.loader=t}function pm(){return wE(this,pm),am.apply(this,arguments)}function gm(){return wE(this,gm),sm.apply(this,arguments)}function vm(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}xE(wm,a),ym=SE(wm),CE(wm,[{key:"execute",value:function(e){var r=this.editor.model,i=e.position;r.change(function(e){var t=e.createElement("paragraph");if(!r.schema.checkChild(i.parent,t)){var n=r.schema.findAllowedParent(i,t);if(!n)return;i=e.split(i,n).position}r.insertContent(t,i),e.setSelection(t,"in")})}}]);var mm,ym,km=wm,bm=(xE(_m,r),mm=SE(_m),CE(_m,[{key:"init",value:function(){var e=this.editor,t=e.model;e.commands.add("paragraph",new hm(e)),e.commands.add("insertParagraph",new km(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:function(e,t){t=t.writer;return!_m.paragraphLikeElements.has(e.name)||e.isEmpty?null:t.createElement("paragraph")},view:/.+/,converterPriority:"low"})}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),_m);function _m(){return wE(this,_m),mm.apply(this,arguments)}function wm(){return wE(this,wm),ym.apply(this,arguments)}bm.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);xE(Sm,a),Cm=SE(Sm),CE(Sm,[{key:"refresh",value:function(){var t=this,n=v(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(function(e){return Em(n,e,t.editor.model.schema)})}},{key:"execute",value:function(e){var i=this.editor.model,o=i.document,a=e.value;i.change(function(e){var t,n=bE(Array.from(o.selection.getSelectedBlocks()).filter(function(e){return Em(e,a,i.schema)}));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.is("element",a)||e.rename(r,a)}}catch(e){n.e(e)}finally{n.f()}})}}]);var Cm,xm=Sm;function Sm(e,t){return wE(this,Sm),(e=Cm.call(this,e)).modelElements=t,e}function Em(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}xE(Pm,r),Tm=SE(Pm),CE(Pm,null,[{key:"pluginName",get:function(){return"HeadingEditing"}}]),CE(Pm,[{key:"init",value:function(){var e,t=this.editor,n=[],r=bE(t.config.get("heading.options"));try{for(r.s();!(e=r.n()).done;){var i=e.value;"paragraph"!==i.model&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model))}}catch(e){r.e(e)}finally{r.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new xm(t,n))}},{key:"afterInit",value:function(){var r=this.editor,e=r.commands.get("enter"),i=r.config.get("heading.options");e&&this.listenTo(e,"afterExecute",function(e,t){var n=r.model.document.selection.getFirstPosition().parent;i.some(function(e){return n.is("element",e.model)})&&!n.is("element","paragraph")&&0===n.childCount&&t.writer.rename(n,"paragraph")})}},{key:"_addDefaultH1Conversion",value:function(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:q.get("low")+1})}}],[{key:"requires",get:function(){return[bm]}}]);var Tm,Am=Pm;function Pm(e){var t;return wE(this,Pm),t=Tm.call(this,e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),t}e(12);xE(Lm,r),Im=SE(Lm),CE(Lm,[{key:"init",value:function(){var e,t,n,l=this,c=this.editor,r=c.t,u=(t=(e=c).t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")},e.config.get("heading.options").map(function(e){var t=n[e.title];return t&&t!=e.title&&(e.title=t),e})),h=r("Choose heading"),d=r("Heading");c.ui.componentFactory.add("heading",function(e){var n,r={},i=new wn,o=c.commands.get("heading"),a=c.commands.get("paragraph"),s=[o],t=bE(u);try{for(t.s();!(n=t.n()).done;)(()=>{var t=n.value,e={type:"button",model:new kd({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(a,"value"),e.model.set("commandName","paragraph"),s.push(a)):(e.model.bind("isOn").to(o,"value",function(e){return e===t.model}),e.model.set({commandName:"heading",commandValue:t.model})),i.add(e),r[t.model]=t.title})()}catch(e){t.e(e)}finally{t.f()}e=Jh(e);return Yh(e,i),e.buttonView.set({isOn:!1,withText:!0,tooltip:d}),e.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),e.bind("isEnabled").toMany(s,"isEnabled",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return e})}),e.buttonView.bind("label").to(o,"value",a,"value",function(e,t){e=e||t&&"paragraph";return r[e]||h}),l.listenTo(e,"execute",function(e){c.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),c.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"HeadingUI"}}]);var Rm,Im,Om=Lm,Mm=(xE(Nm,r),Rm=SE(Nm),CE(Nm,[{key:"init",value:function(){var e,t=this,n=this.editor;n.plugins.has("BalloonToolbar")&&(e=n.plugins.get("BalloonToolbar"),this.listenTo(e,"show",function(e){var t;(t=n.editing.view.document.selection.getSelectedElement())&&M(t)&&e.stop()},{priority:"high"})),this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",function(){t._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",function(){t._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",function(){t._updateToolbarsVisibility()},{priority:"low"})}},{key:"destroy",value:function(){yE(RE(Nm.prototype),"destroy",this).call(this);var e,t=bE(this._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;)e.value.view.destroy()}catch(e){t.e(e)}finally{t.f()}}},{key:"register",value:function(e,t){var n=t.ariaLabel,r=t.items,i=t.getRelatedElement,t=t.balloonClassName,t=void 0===t?"ck-toolbar-container":t;if(r.length){var o=this.editor,a=o.t,s=new Mh(o.locale);if(s.ariaLabel=n||a("Widget toolbar"),this._toolbarDefinitions.has(e))throw new A.a("widget-toolbar-duplicated",this,{toolbarId:e});s.fillFromConfig(r,o.ui.componentFactory),this._toolbarDefinitions.set(e,{view:s,getRelatedElement:i,balloonClassName:t})}else Object(A.b)("widget-toolbar-no-items",{toolbarId:e})}},{key:"_updateToolbarsVisibility",value:function(){var e,t=0,n=null,r=null,i=bE(this._toolbarDefinitions.values());try{for(i.s();!(e=i.n()).done;){var o,a=e.value,s=a.getRelatedElement(this.editor.editing.view.document.selection);this.isEnabled&&s?this.editor.ui.focusTracker.isFocused?t<(o=s.getAncestors().length)&&(t=o,n=s,r=a):this._isToolbarVisible(a)&&this._hideToolbar(a):this._isToolbarInBalloon(a)&&this._hideToolbar(a)}}catch(e){i.e(e)}finally{i.f()}r&&this._showToolbar(r,n)}},{key:"_hideToolbar",value:function(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(e,t){var i=this;this._isToolbarVisible(e)?jm(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:Dm(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",function(){var e,t=bE(i._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value;i._isToolbarVisible(r)&&(n=r.getRelatedElement(i.editor.editing.view.document.selection),jm(i.editor,n))}}catch(e){t.e(e)}finally{t.f()}}))}},{key:"_isToolbarVisible",value:function(e){return this._balloon.visibleView===e.view}},{key:"_isToolbarInBalloon",value:function(e){return this._balloon.hasView(e.view)}}],[{key:"requires",get:function(){return[Nd]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),Nm);function Nm(){return wE(this,Nm),Rm.apply(this,arguments)}function Lm(){return wE(this,Lm),Im.apply(this,arguments)}function jm(e,t){var n=e.plugins.get("ContextualBalloon"),e=Dm(e,t);n.updatePosition(e)}function Dm(e,t){var n=I.defaultPositions;return{target:e.editing.view.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,lp]}}CE(Vm,[{key:"begin",value:function(e,t,n){var r,i=new f(t),t=(this.activeHandlePosition=(e=>{for(var t=0,n=["top-left","top-right","bottom-right","bottom-left"];t<n.length;t++){var r=n[t];if(e.classList.contains("ck-widget__resizer__handle-"+r))return r}})(e),this._referenceCoordinates=(e=t,t=(t=this.activeHandlePosition).split("-"),r="".concat((r={top:"bottom",bottom:"top",left:"right",right:"left"})[t[0]],"-").concat(r[t[1]]),t=new f(e),(r={x:"right"==(r=r.split("-"))[1]?t.right:t.left,y:"bottom"==r[0]?t.bottom:t.top}).x+=e.ownerDocument.defaultView.scrollX,r.y+=e.ownerDocument.defaultView.scrollY,r),this.originalWidth=i.width,this.originalHeight=i.height,this.aspectRatio=i.width/i.height,n.style.width);this.originalWidthPercents=t&&t.match(/^\d+(\.\d*)?%$/)?parseFloat(t):(e=i,r=n.parentElement,r=parseFloat(r.ownerDocument.defaultView.getComputedStyle(r).width),e.width/r*100)}},{key:"update",value:function(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}]);var Fm=Vm;function Vm(e){wE(this,Vm),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}o(Fm,i);CE(Bm,[{key:"attach",value:function(){var n=this,i=this,r=this._options.viewElement;this._options.editor.editing.view.change(function(e){var t=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(e){var r=this.toDomElement(e);return i._appendHandles(r),i._appendSizeUI(r),i._domResizerWrapper=r,i.on("change:isEnabled",function(e,t,n){r.style.display=n?"":"none"}),r.style.display=i.isEnabled?"":"none",r});e.insert(e.createPositionAt(r,"end"),t),e.addClass("ck-widget_with-resizer",r),n._viewResizerWrapper=t})}},{key:"begin",value:function(e){this.state=new Fm(this._options),this._sizeUI.bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}},{key:"updateSize",value:function(e){var n=this,r=this._proposeNewSize(e),e=(this._options.editor.editing.view.change(function(e){var t=n._options.unit||"%";e.setStyle("width",("%"===t?r.widthPercents:r.width)+t,n._options.viewElement)}),this._getHandleHost()),t=new f(e),e=(r.handleHostWidth=Math.round(t.width),r.handleHostHeight=Math.round(t.height),new f(e));r.width=Math.round(e.width),r.height=Math.round(e.height),this.redraw(t),this.state.update(r)}},{key:"commit",value:function(){var e=this,t=this._options.unit||"%",n=("%"===t?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change(function(){e._cleanup(),e._options.onCommit(n)})}},{key:"cancel",value:function(){this._cleanup()}},{key:"destroy",value:function(){this.cancel()}},{key:"redraw",value:function(e){var t,n,r,i=this._domResizerWrapper;i&&i.ownerDocument&&i.ownerDocument.contains(i)&&(i=i.parentElement,t=this._getHandleHost(),"same"!==Mn([(n=this._viewResizerWrapper).getStyle("width"),n.getStyle("height"),n.getStyle("left"),n.getStyle("top")],r=i.isSameNode(t)?[(i=e||new f(t)).width+"px",i.height+"px",void 0,void 0]:[t.offsetWidth+"px",t.offsetHeight+"px",t.offsetLeft+"px",t.offsetTop+"px"]))&&this._options.editor.editing.view.change(function(e){e.setStyle({width:r[0],height:r[1],left:r[2],top:r[3]},n)})}},{key:"containsHandle",value:function(e){return this._domResizerWrapper.contains(e)}},{key:"_cleanup",value:function(){var t=this;this._sizeUI.dismiss(),this._sizeUI.isVisible=!1,this._options.editor.editing.view.change(function(e){e.setStyle("width",t._initialViewWidth,t._options.viewElement)})}},{key:"_proposeNewSize",value:function(e){var t=this.state,n=e.pageX,e=e.pageY,r=!this._options.isCentered||this._options.isCentered(this),e={x:t._referenceCoordinates.x-(n+t.originalWidth),y:e-t.originalHeight-t._referenceCoordinates.y},n=(r&&t.activeHandlePosition.endsWith("-right")&&(e.x=n-(t._referenceCoordinates.x+t.originalWidth)),r&&(e.x*=2),{width:Math.abs(t.originalWidth+e.x),height:Math.abs(t.originalHeight+e.y)}),r=(n.dominant=n.width/t.aspectRatio>n.height?"width":"height",n.max=n[n.dominant],{width:n.width,height:n.height});return"width"==n.dominant?r.height=r.width/t.aspectRatio:r.width=r.height*t.aspectRatio,{width:Math.round(r.width),height:Math.round(r.height),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*r.width*100)/100,100)}}},{key:"_getResizeHost",value:function(){return this._options.getResizeHost(this._domResizerWrapper.parentElement)}},{key:"_getHandleHost",value:function(){return this._options.getHandleHost(this._domResizerWrapper.parentElement)}},{key:"_appendHandles",value:function(e){for(var t=0,n=["top-left","top-right","bottom-right","bottom-left"];t<n.length;t++)e.appendChild(new wu({tag:"div",attributes:{class:"ck-widget__resizer__handle "+"ck-widget__resizer__handle-"+n[t]}}).render())}},{key:"_appendSizeUI",value:function(e){var t=new qm;t.render(),this._sizeUI=t,e.appendChild(t.element)}}],[{key:"isResizeHandle",value:function(e){return e.classList.contains("ck-widget__resizer__handle")}}]);var zm=Bm;function Bm(e){var t=this;wE(this,Bm),this._options=e,this._domResizerWrapper=null,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",function(e){t.state.proposedWidth||t.state.proposedWidthPercents||(t._cleanup(),e.stop())},{priority:"high"}),this.on("change:isEnabled",function(){t.isEnabled&&t.redraw()})}o(zm,i);xE(Wm,S),Hm=SE(Wm),CE(Wm,[{key:"bindToState",value:function(r,e){this.bind("isVisible").to(e,"proposedWidth",e,"proposedHeight",function(e,t){return null!==e&&null!==t}),this.bind("label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",function(e,t,n){return"px"===r.unit?"".concat(e,"").concat(t):n+"%"}),this.bind("activeHandlePosition").to(e)}},{key:"dismiss",value:function(){this.unbind(),this.isVisible=!1}}]);var Hm,Um,qm=Wm;function Wm(){wE(this,Wm);var e,t=(e=Hm.call(this)).bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("activeHandlePosition",function(e){return e?"ck-orientation-"+e:""})],style:{display:t.if("isVisible","none",function(e){return!e})}},children:[{text:t.to("label")}]}),e}function $m(){return wE(this,$m),Um.apply(this,arguments)}e(72),o((xE($m,r),Um=SE($m),CE($m,[{key:"init",value:function(){function e(){t.visibleResizer&&t.visibleResizer.redraw()}var t=this,n=(this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map,l.window.document),r=(this.editor.model.schema.setAttributeProperties("width",{isFormatting:!0}),this.editor.editing.view.addObserver(sf),this._observer=Object.create(mo),this.listenTo(this.editor.editing.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(n,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(n,"mouseup",this._mouseUpListener.bind(this)),this._redrawFocusedResizerThrottled=Sp(e,200),this.on("change:visibleResizer",e),this.editor.ui.on("update",this._redrawFocusedResizerThrottled),this._observer.listenTo(l.window,"resize",this._redrawFocusedResizerThrottled),this.editor.editing.view.document.selection);r.on("change",function(){var e=r.getSelectedElement();t.visibleResizer=t.getResizerByViewElement(e)||null})}},{key:"destroy",value:function(){this._observer.stopListening();var e,t=bE(this._resizers.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}this._redrawFocusedResizerThrottled.cancel()}},{key:"attachTo",value:function(e){var t,n=new zm(e),r=this.editor.plugins,r=(n.attach(),r.has("WidgetToolbarRepository")&&(t=r.get("WidgetToolbarRepository"),n.on("begin",function(){t.forceDisabled("resize")},{priority:"lowest"}),n.on("cancel",function(){t.clearForceDisabled("resize")},{priority:"highest"}),n.on("commit",function(){t.clearForceDisabled("resize")},{priority:"highest"})),this._resizers.set(e.viewElement,n),this.editor.editing.view.document.selection.getSelectedElement());return this.getResizerByViewElement(r)==n&&(this.visibleResizer=n),n}},{key:"getResizerByViewElement",value:function(e){return this._resizers.get(e)}},{key:"_getResizerByHandle",value:function(e){var t,n=bE(this._resizers.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.containsHandle(e))return r}}catch(e){n.e(e)}finally{n.f()}}},{key:"_mouseDownListener",value:function(e,t){var n=t.domTarget;zm.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n),this._activeResizer)&&(this._activeResizer.begin(n),e.stop(),t.preventDefault())}},{key:"_mouseMoveListener",value:function(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}},{key:"_mouseUpListener",value:function(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}],[{key:"pluginName",get:function(){return"WidgetResize"}}]),$m),i);xE(Zm,Wt),Km=SE(Zm),CE(Zm,[{key:"observe",value:function(e){var r=this;this.listenTo(e,"load",function(e,t){var n=t.target;r.checkShouldIgnoreEventFromTarget(n)||"IMG"==n.tagName&&r._fireEvents(t)},{useCapture:!0})}},{key:"_fireEvents",value:function(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}]);var Km,Gm=Zm;function Zm(){return wE(this,Zm),Km.apply(this,arguments)}function Jm(e){return!!e.getCustomProperty("image")&&M(e)}function Qm(e){e=e.getSelectedElement();return e&&Jm(e)?e:null}function Ym(e){return!!e&&e.is("element","image")}function Xm(r,e,t){var i=1<arguments.length&&void 0!==e?e:{},o=2<arguments.length&&void 0!==t?t:null;r.change(function(e){var t=e.createElement("image",i),n=o||ap(r.document.selection,r);r.insertContent(t,n),t.parent&&e.setSelection(t,"on")})}function ey(e){var t=e.schema,n=e.document.selection;return((e,t,n)=>(n=(e=ap(e,n).parent).isEmpty&&!e.is("element","$root")?e.parent:e,t.checkChild(n,"image")))(n,t,e)&&!sp(n,t)&&_E(n.focus.getAncestors()).every(function(e){return!e.is("element","image")})}function ty(e){var t,n=[],r=bE(e.getChildren());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i),i.is("element")&&n.push.apply(n,_E(i.getChildren()))}}catch(e){r.e(e)}finally{r.f()}return n.find(function(e){return e.is("element","img")})}function ny(t){return function(e){e.on("attribute:".concat(t,":image"),n)};function n(e,t,n){n.consumable.consume(t.item,e.name)&&(e=n.writer,n=ty(n.mapper.toViewElement(t.item)),e.setAttribute(t.attributeKey,t.attributeNewValue||"",n))}}xE(ly,a),iy=SE(ly),CE(ly,[{key:"refresh",value:function(){this.isEnabled=ey(this.editor.model)}},{key:"execute",value:function(e){var t,n=this.editor.model,r=bE(b(e.source));try{for(r.s();!(t=r.n()).done;)Xm(n,{src:t.value})}catch(e){r.e(e)}finally{r.f()}}}]);var ry,iy,oy=ly,ay=(xE(sy,r),ry=SE(sy),CE(sy,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,i=e.t,n=e.conversion;function r(e,t,n){var r;n.consumable.test(t.viewItem,{name:!0,classes:"image"})&&(r=ty(t.viewItem))&&r.hasAttribute("src")&&n.consumable.test(r,{name:!0})&&(r=v(n.convertItem(r,t.modelCursor).modelRange.getItems()))&&(n.convertChildren(t.viewItem,r),n.updateConversionResult(r,t))}function o(e,t,n){var r;n.consumable.consume(t.item,e.name)&&(e=n.writer,n=ty(n.mapper.toViewElement(t.item)),null===t.attributeNewValue?(r=t.attributeOldValue).data&&(e.removeAttribute("srcset",n),e.removeAttribute("sizes",n),r.width)&&e.removeAttribute("width",n):(r=t.attributeNewValue).data&&(e.setAttribute("srcset",r.data,n),e.setAttribute("sizes","100vw",n),r.width)&&e.setAttribute("width",r.width,n))}e.editing.view.addObserver(Gm),t.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),n.for("dataDowncast").elementToElement({model:"image",view:function(e,t){return cy(t.writer)}}),n.for("editingDowncast").elementToElement({model:"image",view:function(e,t){var n,r,t=t.writer;return n=cy(t),t=t,r=i("image widget"),t.setCustomProperty("image",!0,n),tp(n,t,{label:function(){var e=ty(n).getAttribute("alt");return e?"".concat(e," ").concat(r):r}})}}),n.for("downcast").add(ny("src")).add(ny("alt")).add(function(e){e.on("attribute:srcset:image",o)}),n.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(e,t){return t.writer.createElement("image",{src:e.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(e){var t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}}).add(function(e){e.on("element:figure",r)});t=new oy(e);e.commands.add("insertImage",t),e.commands.add("imageInsert",t)}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),sy);function sy(){return wE(this,sy),ry.apply(this,arguments)}function ly(){return wE(this,ly),iy.apply(this,arguments)}function cy(e){var t=e.createEmptyElement("img"),n=e.createContainerElement("figure",{class:"image"});return e.insert(e.createPositionAt(n,0),t),n}xE(gy,a),hy=SE(gy),CE(gy,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Ym(e),this.value=!(!Ym(e)||!e.hasAttribute("alt"))&&e.getAttribute("alt")}},{key:"execute",value:function(t){var e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(function(e){e.setAttribute("alt",t.newValue,n)})}}]);var uy,hy,dy=gy,fy=(xE(py,r),uy=SE(py),CE(py,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new dy(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),py);function py(){return wE(this,py),uy.apply(this,arguments)}function gy(){return wE(this,gy),hy.apply(this,arguments)}e(74),e(10);xE(yy,S),vy=SE(yy),CE(yy,[{key:"render",value:function(){var t=this;yE(RE(yy.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),mu({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(function(e){t._focusables.add(e),t.focusTracker.add(e.element)})}},{key:"_createButton",value:function(e,t,n,r){var i=new E(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}},{key:"_createLabeledInputView",value:function(){var e=this.locale.t,t=new vd(this.locale,yd);return t.label=e("Text alternative"),t}}]);var vy,my=yy;function yy(e){wE(this,yy);var t=(e=vy.call(this,e)).locale.t;return e.focusTracker=new Aa,e.keystrokes=new Ia,e.labeledInput=e._createLabeledInputView(),e.saveButtonView=e._createButton(t("Save"),cu,"ck-button-save"),e.saveButtonView.type="submit",e.cancelButtonView=e._createButton(t("Cancel"),lu,"ck-button-cancel","cancel"),e._focusables=new ku,e._focusCycler=new rh({focusables:e._focusables,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),e.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[e.labeledInput,e.saveButtonView,e.cancelButtonView]}),vu(TE(e)),e}function ky(e){var e=e.editing.view,t=I.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast]}}xE(Sy,r),_y=SE(Sy),CE(Sy,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){yE(RE(Sy.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("imageTextAlternative",function(e){var t=r.commands.get("imageTextAlternative"),e=new E(e);return e.set({label:i("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),e.bind("isEnabled").to(t,"isEnabled"),n.listenTo(e,"execute",function(){n._showForm()}),e})}},{key:"_createForm",value:function(){var n=this,r=this.editor,i=r.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new my(r.locale),this._form.render(),this.listenTo(this._form,"submit",function(){r.execute("imageTextAlternative",{newValue:n._form.labeledInput.fieldView.element.value}),n._hideForm(!0)}),this.listenTo(this._form,"cancel",function(){n._hideForm(!0)}),this._form.keystrokes.set("Esc",function(e,t){n._hideForm(!0),t()}),this.listenTo(r.ui,"update",function(){var e,t;Qm(i.selection)?n._isVisible&&(t=(e=r).plugins.get("ContextualBalloon"),Qm(e.editing.view.document.selection))&&(e=ky(e),t.updatePosition(e)):n._hideForm(!0)}),gu({emitter:this._form,activator:function(){return n._isVisible},contextElements:[this._balloon.view.element],callback:function(){return n._hideForm()}})}},{key:"_showForm",value:function(){var e,t,n;this._isVisible||(t=(e=this.editor).commands.get("imageTextAlternative"),n=this._form.labeledInput,this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:ky(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions())}},{key:"_hideForm",value:function(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e)&&this.editor.editing.view.focus()}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[Nd]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]);var by,_y,wy=Sy,Cy=(xE(xy,r),by=SE(xy),CE(xy,null,[{key:"requires",get:function(){return[fy,wy]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),xy);function xy(){return wE(this,xy),by.apply(this,arguments)}function Sy(){return wE(this,Sy),_y.apply(this,arguments)}e(77);xE(Ay,a),Ey=SE(Ay),CE(Ay,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Ym(e),e?e.hasAttribute("imageStyle")?(e=e.getAttribute("imageStyle"),this.value=!!this.styles[e]&&e):this.value=this.defaultStyle:this.value=!1}},{key:"execute",value:function(e){var t=this,n=e.value,e=this.editor.model,r=e.document.selection.getSelectedElement();e.change(function(e){t.styles[n].isDefault?e.removeAttribute("imageStyle",r):e.setAttribute("imageStyle",n,r)})}}]);var Ey,Ty=Ay;function Ay(e,t){var n;return wE(this,Ay),(n=Ey.call(this,e)).defaultStyle=!1,n.styles=t.reduce(function(e,t){return(e[t.name]=t).isDefault&&(n.defaultStyle=t.name),e},{}),n}function Py(e,t){var n,r=bE(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.name===e)return i}}catch(e){r.e(e)}finally{r.f()}}var Ry={full:{name:"full",title:"Full size image",icon:fu,isDefault:!0},side:{name:"side",title:"Side image",icon:du,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:s,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:hu,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:du,className:"image-style-align-right"}},Iy={full:fu,left:s,right:du,center:hu};function Oy(e){return(0<arguments.length&&void 0!==e?e:[]).map(My)}function My(e){if("string"==typeof e){var t=e;e=Ry[t]?Object.assign({},Ry[t]):(Object(A.b)("image-style-not-found",{name:t}),{name:t})}else if(Ry[e.name]){var n,r=Ry[e.name],i=Object.assign({},e);for(n in r)Object.prototype.hasOwnProperty.call(e,n)||(i[n]=r[n]);e=i}return"string"==typeof e.icon&&Iy[e.icon]&&(e.icon=Iy[e.icon]),e}xE(jy,r),Ny=SE(jy),CE(jy,[{key:"init",value:function(){function e(e,t,n){var r;n.consumable.consume(t.item,e.name)&&(e=Py(t.attributeNewValue,i),r=Py(t.attributeOldValue,i),t=n.mapper.toViewElement(t.item),n=n.writer,r&&n.removeClass(r.className,t),e)&&n.addClass(e.className,t)}var i,l,t=this.editor,n=t.model.schema,r=t.data,o=t.editing,a=(t.config.define("image.styles",["full","side"]),Oy(t.config.get("image.styles")));n.extend("image",{allowAttributes:"imageStyle"}),i=a;o.downcastDispatcher.on("attribute:imageStyle:image",e),r.downcastDispatcher.on("attribute:imageStyle:image",e),r.upcastDispatcher.on("element:figure",(l=a.filter(function(e){return!e.isDefault}),function(e,t,n){if(t.modelRange){var r=t.viewItem,i=v(t.modelRange.getItems());if(!i||n.schema.checkAttribute(i,"imageStyle")){var o,a=bE(l);try{for(a.s();!(o=a.n()).done;){var s=o.value;n.consumable.consume(r,{classes:s.className})&&n.writer.setAttribute("imageStyle",s.name,i)}}catch(e){a.e(e)}finally{a.f()}}}}),{priority:"low"}),t.commands.add("imageStyle",new Ty(t,a))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]);var Ny,Ly=jy;function jy(){return wE(this,jy),Ny.apply(this,arguments)}e(79);xE(Vy,r),Dy=SE(Vy),CE(Vy,[{key:"init",value:function(){var e,t=((e,t)=>{var n,r=bE(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t[i.title]&&(i.title=t[i.title])}}catch(e){r.e(e)}finally{r.f()}return e})(Oy(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles),n=bE(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._createButton(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_createButton",value:function(n){var r=this,i=this.editor;i.ui.componentFactory.add("imageStyle:"+n.name,function(e){var t=i.commands.get("imageStyle"),e=new E(e);return e.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),e.bind("isEnabled").to(t,"isEnabled"),e.bind("isOn").to(t,"value",function(e){return e===n.name}),r.listenTo(e,"execute",function(){i.execute("imageStyle",{value:n.name}),i.editing.view.focus()}),e})}},{key:"localizedDefaultStylesTitles",get:function(){var e=this.editor.t;return{"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]);var Dy,Fy=Vy;function Vy(){return wE(this,Vy),Dy.apply(this,arguments)}function zy(e){e=e.map(function(e){return e.replace("+","\\+")});return new RegExp("^image\\/(".concat(e.join("|"),")$"))}function By(e){return new Promise(function(o,t){var a=e.getAttribute("src");fetch(a).then(function(e){return e.blob()}).then(function(e){var t=Hy(e,a),n=t.replace("image/",""),e=new File([e],"image."+n,{type:t});o(e)}).catch(function(e){return e&&"TypeError"===e.name?(i=r=a,new Promise(function(t,n){var r=l.document.createElement("img");r.addEventListener("load",function(){var e=l.document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0),e.toBlob(function(e){return e?t(e):n()})}),r.addEventListener("error",function(){return n()}),r.src=i}).then(function(e){var t=Hy(e,r),n=t.replace("image/","");return new File([e],"image."+n,{type:t})}).then(o).catch(t)):t(e);var r,i})})}function Hy(e,t){return e.type||(t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg")}xE(Wy,r),Uy=SE(Wy),CE(Wy,[{key:"init",value:function(){function e(e){var e=new gv(e),t=i.commands.get("uploadImage"),n=i.config.get("image.upload.types"),r=zy(n);return e.set({acceptedType:n.map(function(e){return"image/"+e}).join(","),allowMultipleFiles:!0}),e.buttonView.set({label:o("Insert image"),icon:uu,tooltip:!0}),e.buttonView.bind("isEnabled").to(t),e.on("done",function(e,t){t=Array.from(t).filter(function(e){return r.test(e.type)});t.length&&i.execute("uploadImage",{file:t})}),e}var i=this.editor,o=i.t;i.ui.componentFactory.add("uploadImage",e),i.ui.componentFactory.add("imageUpload",e)}}],[{key:"pluginName",get:function(){return"ImageUploadUI"}}]);var Uy,qy=Wy;function Wy(){return wE(this,Wy),Uy.apply(this,arguments)}e(81),e(83),e(85);xE(Gy,r),$y=SE(Gy),CE(Gy,null,[{key:"pluginName",get:function(){return"ImageUploadProgress"}}]),CE(Gy,[{key:"init",value:function(){var e=this;this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",function(){return e.uploadStatusChange.apply(e,arguments)})}},{key:"uploadStatusChange",value:function(e,t,n){var r,i,o,a,s,l,c,u,h,d,f,p=this.editor,g=t.item,v=g.getAttribute("uploadId");n.consumable.consume(t.item,e.name)&&(e=p.plugins.get(cv),t=v?t.attributeNewValue:null,r=this.placeholder,g=p.editing.mapper.toViewElement(g),n=n.writer,"reading"==t?(Zy(g,n),Jy(r,g,n)):"uploading"==t?(i=e.loaders.get(v),Zy(g,n),i?(Qy(g,n),s=g,l=n,c=i,u=p.editing.view,d=(h=l).createUIElement("div",{class:"ck-progress-bar"}),h.setCustomProperty("progressBar",!0,d),f=d,l.insert(l.createPositionAt(s,"end"),f),c.on("change:uploadedPercent",function(e,t,n){u.change(function(e){e.setStyle("width",n+"%",f)})}),h=n,(d=i).data&&(l=ty(g),h.setAttribute("src",d.data,l))):Jy(r,g,n)):("complete"==t&&e.loaders.get(v)&&(s=g,c=n,o=p.editing.view,a=c.createUIElement("div",{class:"ck-image-upload-complete-icon"}),c.insert(c.createPositionAt(s,"end"),a),setTimeout(function(){o.change(function(e){return e.remove(e.createRangeOn(a))})},3e3)),Xy(g,n,"progressBar"),Qy(g,n),n.removeClass("ck-appear",g)))}}]);var $y,Ky=Gy;function Gy(e){return wE(this,Gy),(e=$y.call(this,e)).placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'),e}function Zy(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function Jy(e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);var r=ty(t);r.getAttribute("src")!==e&&n.setAttribute("src",e,r),Yy(t,"placeholder")||n.insert(n.createPositionAfter(r),(t=(e=n).createUIElement("div",{class:"ck-upload-placeholder-loader"}),e.setCustomProperty("placeholder",!0,t),t))}function Qy(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),Xy(e,t,"placeholder")}function Yy(e,t){var n,r=bE(e.getChildren());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.getCustomProperty(t))return i}}catch(e){r.e(e)}finally{r.f()}}function Xy(e,t,n){e=Yy(e,n);e&&t.remove(t.createRangeOn(e))}xE(nk,a),ek=SE(nk),CE(nk,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement(),e=e&&"image"===e.name||!1;this.isEnabled=ey(this.editor.model)||e}},{key:"execute",value:function(e){var t,n=this.editor,r=n.model,i=n.plugins.get(cv),o=bE(b(e.file));try{for(o.s();!(t=o.n()).done;){l=s=a=void 0;var a=r,s=i,l=t.value;(s=s.createLoader(l))&&Xm(a,{uploadId:s.id})}}catch(e){o.e(e)}finally{o.f()}}}]);var ek,tk=nk;function nk(){return wE(this,nk),ek.apply(this,arguments)}xE(ok,r),rk=SE(ok),CE(ok,null,[{key:"requires",get:function(){return[cv,_d,Sf]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),CE(ok,[{key:"init",value:function(){var u=this,h=this.editor,d=h.model.document,e=h.model.schema,t=h.conversion,f=h.plugins.get(cv),i=zy(h.config.get("image.upload.types")),e=(e.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),new tk(h));h.commands.add("uploadImage",e),h.commands.add("imageUpload",e),t.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(h.editing.view.document,"clipboardInput",function(e,t){var n,r=t.dataTransfer;Array.from(r.types).includes("text/html")&&""!==r.getData("text/html")||(n=Array.from(t.dataTransfer.files).filter(function(e){return!!e&&i.test(e.type)})).length&&(e.stop(),h.model.change(function(e){t.targetRanges&&e.setSelection(t.targetRanges.map(function(e){return h.editing.mapper.toModelRange(e)})),h.model.enqueueChange("default",function(){h.execute("uploadImage",{file:n})})}))}),this.listenTo(h.plugins.get("ClipboardPipeline"),"inputTransformation",function(e,t){t=Array.from(h.editing.view.createRangeIn(t.content)).filter(function(e){return!(!(t=e.item).is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))&&!e.item.getAttribute("uploadProcessed");var t}).map(function(e){return{promise:By(e.item),imageElement:e.item}});if(t.length){var n,r=new lf(h.editing.view.document),i=bE(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=(r.setAttribute("uploadProcessed",!0,o.imageElement),f.createLoader(o.promise));a&&(r.setAttribute("src","",o.imageElement),r.setAttribute("uploadId",a.id,o.imageElement))}}catch(e){i.e(e)}finally{i.f()}}}),h.editing.view.document.on("dragover",function(e,t){t.preventDefault()}),d.on("change",function(){var e,t=bE(d.differ.getChanges({includeChangesInGraveyard:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value;if("insert"==n.type&&"$text"!=n.name){var r,i=n.position.nodeAfter,o="$graveyard"==n.position.root.rootName,a=bE(Array.from(h.model.createRangeOn(i)).filter(function(e){return e.item.is("element","image")}).map(function(e){return e.item}));try{for(a.s();!(r=a.n()).done;){var s,l=r.value,c=l.getAttribute("uploadId");c&&(s=f.loaders.get(c))&&(o?s.abort():"idle"==s.status&&u._readAndUpload(s,l))}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){t.e(e)}finally{t.f()}}),this.on("uploadComplete",function(e,t){var n=t.imageElement,t=t.data,r=t.urls||t;u.editor.model.change(function(e){e.setAttribute("src",r.default,n),u._parseAndSetSrcsetAttributeOnImage(r,n,e)})},{priority:"low"})}},{key:"_readAndUpload",value:function(t,r){var n=this,i=this.editor,o=i.model,a=i.locale.t,e=i.plugins.get(cv),s=i.plugins.get(_d);return o.enqueueChange("transparent",function(e){e.setAttribute("uploadStatus","reading",r)}),t.read().then(function(){var n,e=t.upload();return si&&(n=ty(i.editing.mapper.toViewElement(r)),i.editing.view.once("render",function(){var e,t;n.parent&&(e=i.editing.view.domConverter.mapViewToDom(n.parent))&&(t=e.style.display,e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=t)})),o.enqueueChange("transparent",function(e){e.setAttribute("uploadStatus","uploading",r)}),e}).then(function(t){o.enqueueChange("transparent",function(e){e.setAttribute("uploadStatus","complete",r),n.fire("uploadComplete",{data:t,imageElement:r})}),l()}).catch(function(e){if("error"!==t.status&&"aborted"!==t.status)throw e;"error"==t.status&&e&&s.showWarning(e,{title:a("Upload failed"),namespace:"upload"}),l(),o.enqueueChange("transparent",function(e){e.remove(r)})});function l(){o.enqueueChange("transparent",function(e){e.removeAttribute("uploadId",r),e.removeAttribute("uploadStatus",r)}),e.destroyLoader(t)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(t,e,n){var r=0,i=Object.keys(t).filter(function(e){e=parseInt(e,10);if(!isNaN(e))return r=Math.max(r,e),!0}).map(function(e){return"".concat(t[e]," ").concat(e,"w")}).join(", ");""!=i&&n.setAttribute("srcset",{data:i,width:r},e)}}]);var rk,ik=ok;function ok(e){var t;return wE(this,ok),t=rk.call(this,e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),t}function ak(e){return vk.test(e)}xE(Sk,r),ck=SE(Sk),CE(Sk,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[ik,qy,Ky]}}]);var sk,lk,ck,uk=Sk,hk=(xE(xk,r),lk=SE(xk),CE(xk,[{key:"init",value:function(){var e=this.editor;e.commands.add("indent",new ht(e)),e.commands.add("outdent",new ht(e))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),xk),dk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',fk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',pk=(xE(Ck,r),sk=SE(Ck),CE(Ck,[{key:"init",value:function(){var e=this.editor,t=e.locale,e=e.t,n="ltr"==t.uiLanguageDirection?dk:fk,t="ltr"==t.uiLanguageDirection?fk:dk;this._defineButton("indent",e("Increase indent"),n),this._defineButton("outdent",e("Decrease indent"),t)}},{key:"_defineButton",value:function(n,r,i){var o=this,a=this.editor;a.ui.componentFactory.add(n,function(e){var t=a.commands.get(n),e=new E(e);return e.set({label:r,icon:i,tooltip:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),o.listenTo(e,"execute",function(){a.execute(n),a.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),Ck),gk=(CE(wk,[{key:"add",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t._definitions.add(e)}):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var c=this;return function(e){e.on("attribute:linkHref",function(e,t,n){if(n.consumable.test(t.item,"attribute:linkHref")){var r,i=n.writer,o=i.document.selection,a=bE(c._definitions);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=i.createAttributeElement("a",s.attributes,{priority:5});i.setCustomProperty("link",!0,l),s.callback(t.attributeNewValue)?t.item.is("selection")?i.wrap(o.getFirstRange(),l):i.wrap(n.mapper.toViewRange(t.range),l):i.unwrap(n.mapper.toViewRange(t.range),l)}}catch(e){a.e(e)}finally{a.f()}}},{priority:"high"})}}},{key:"getDispatcherForLinkedImage",value:function(){var k=this;return function(e){e.on("attribute:linkHref:image",function(e,t,n){var r,i=n.mapper.toViewElement(t.item),o=Array.from(i.getChildren()).find(function(e){return"a"===e.name}),a=bE(k._definitions);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=Bn(s.attributes);if(s.callback(t.attributeNewValue)){var c,u=bE(l);try{for(u.s();!(c=u.n()).done;){var h=kE(c.value,2),d=h[0],f=h[1];"class"===d?n.writer.addClass(f,o):n.writer.setAttribute(d,f,o)}}catch(e){u.e(e)}finally{u.f()}}else{var p,g=bE(l);try{for(g.s();!(p=g.n()).done;){var v=kE(p.value,2),m=v[0],y=v[1];"class"===m?n.writer.removeClass(y,o):n.writer.removeAttribute(m,o)}}catch(e){g.e(e)}finally{g.f()}}}}catch(e){a.e(e)}finally{a.f()}})}}},{key:"length",get:function(){return this._definitions.size}}]),wk),vk=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),D="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",t="\\ud83c[\\udffb-\\udfff]",ed="[^\\ud800-\\udfff]",Wt="(?:\\ud83c[\\udde6-\\uddff]){2}",fu="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+D+"|"+t+")?",du="[\\ufe0e\\ufe0f]?"+s+"(?:\\u200d(?:"+[ed,Wt,fu].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",hu="(?:"+[ed+D+"?",D,Wt,fu,"[\\ud800-\\udfff]"].join("|")+")",mk=RegExp(t+"(?="+t+")|"+hu+du,"g"),yk=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,kk=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,bk=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,_k=/^((\w+:(\/{2,})?)|(\W))/i;function wk(){wE(this,wk),this._definitions=new Set}function Ck(){return wE(this,Ck),sk.apply(this,arguments)}function xk(){return wE(this,xk),lk.apply(this,arguments)}function Sk(){return wE(this,Sk),ck.apply(this,arguments)}function Ek(e,t){t=t.writer,e=t.createAttributeElement("a",{href:e},{priority:5});return t.setCustomProperty("link",!0,e),e}function Tk(e){return(e=String(e)).replace(yk,"").match(kk)?e:"#"}function Ak(e,t){return e&&e.is("element","image")&&t.checkAttribute("image","linkHref")}function Pk(e,t){var t=bk.test(e)?"mailto:":t,n=!!t&&!_k.test(e);return e&&n?t+e:e}function Rk(e){var t=e.id,n=e.label,r=e.attributes,e=e.defaultValue;wE(this,Rk),this.id=t,this.set("value"),this.defaultValue=e,this.label=n,this.attributes=r}xE(jk,a),Ok=SE(jk),CE(jk,[{key:"restoreManualDecoratorStates",value:function(){var e,t=bE(this.manualDecorators);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.value=this._getDecoratorStateFromModel(n.id)}}catch(e){t.e(e)}finally{t.f()}}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=v(t.selection.getSelectedBlocks());Ak(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.selection.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref"));var r,i=bE(this.manualDecorators);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(e){i.e(e)}finally{i.f()}}},{key:"execute",value:function(p){var e,g=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},v=this.editor.model,m=v.document.selection,y=[],k=[];for(e in t)(t[e]?y:k).push(e);v.change(function(n){if(m.isCollapsed){var t,r,e=m.getFirstPosition();m.hasAttribute("linkHref")?(t=Fg(e,"linkHref",m.getAttribute("linkHref"),v),n.setAttribute("linkHref",p,t),y.forEach(function(e){n.setAttribute(e,!0,t)}),k.forEach(function(e){n.removeAttribute(e,t)}),n.setSelection(n.createPositionAfter(t.end.nodeBefore))):""!==p&&((r=Bn(m.getAttributes())).set("linkHref",p),y.forEach(function(e){r.set(e,!0)}),e=v.insertContent(n.createText(p,r),e).end,n.setSelection(e)),["linkHref"].concat(y,k).forEach(function(e){n.removeSelectionAttribute(e)})}else{var i,e=v.schema.getValidRanges(m.getRanges(),"linkHref"),o=[],a=bE(m.getSelectedBlocks());try{for(a.s();!(i=a.n()).done;){var s=i.value;v.schema.checkAttribute(s,"linkHref")&&o.push(n.createRangeOn(s))}}catch(e){a.e(e)}finally{a.f()}var l,c=o.slice(),u=bE(e);try{for(u.s();!(l=u.n()).done;){var h=l.value;g._isRangeToUpdate(h,o)&&c.push(h)}}catch(e){u.e(e)}finally{u.f()}var d,f=bE(c);try{for(f.s();!(d=f.n()).done;)(()=>{var t=d.value;n.setAttribute("linkHref",p,t),y.forEach(function(e){n.setAttribute(e,!0,t)}),k.forEach(function(e){n.removeAttribute(e,t)})})()}catch(e){f.e(e)}finally{f.f()}}})}},{key:"_getDecoratorStateFromModel",value:function(e){var t=this.editor.model,n=t.document,r=v(n.selection.getSelectedBlocks());return(Ak(r,t.schema)?r:n.selection).getAttribute(e)}},{key:"_isRangeToUpdate",value:function(e,t){var n,r=bE(t);try{for(r.s();!(n=r.n()).done;)if(n.value.containsRange(e))return!1}catch(e){r.e(e)}finally{r.f()}return!0}}]);var Ik,Ok,Mk=jk,Nk=(xE(Lk,a),Ik=SE(Lk),CE(Lk,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=v(t.selection.getSelectedBlocks());this.isEnabled=Ak(n,e.schema)?e.schema.checkAttribute(n,"linkHref"):e.schema.checkAttributeInSelection(t.selection,"linkHref")}},{key:"execute",value:function(){var s=this.editor.model,l=s.document.selection,c=this.editor.commands.get("link");s.change(function(e){var t,n=bE(l.isCollapsed?[Fg(l.getFirstPosition(),"linkHref",l.getAttribute("linkHref"),s)]:s.schema.getValidRanges(l.getRanges(),"linkHref"));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.removeAttribute("linkHref",r),c){var i,o=bE(c.manualDecorators);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.removeAttribute(a.id,r)}}catch(e){o.e(e)}finally{o.f()}}}}catch(e){n.e(e)}finally{n.f()}})}}]),Lk);function Lk(){return wE(this,Lk),Ik.apply(this,arguments)}function jk(e){return wE(this,jk),(e=Ok.call(this,e)).manualDecorators=new wn,e.automaticDecorators=new gk,e}o(Rk,i),e(87);var Dk,Fk=/^(https?:)?\/\//,Vk=(xE(zk,r),Dk=SE(zk),CE(zk,null,[{key:"pluginName",get:function(){return"LinkEditing"}},{key:"requires",get:function(){return[Eg,yg,Sf]}}]),CE(zk,[{key:"init",value:function(){var e,t,n=this.editor,r=(n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ek}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(e,t){return Ek(Tk(e),t)}}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(e){return e.getAttribute("href")}}}),n.commands.add("link",new Mk(n)),n.commands.add("unlink",new Nk(n)),r=n.t,e=(e=>{var t,n=[];if(e)for(var r=0,i=Object.entries(e);r<i.length;r++){var o=kE(i[r],2),a=o[0],o=Object.assign({},o[1],{id:"link"+(t=o=void 0,a=Zn(a=a),o=ak(a)?ak(o=a)?o.match(mk)||[]:o.split(""):void 0,t=o?o[0]:a.charAt(0),a=o?Xn(o,1,o.length).join(""):a.slice(1),t.toUpperCase()+a)});n.push(o)}return n})(n.config.get("link.decorators")),t={"Open in a new tab":r("Open in a new tab"),Downloadable:r("Downloadable")},e.forEach(function(e){return e.label&&t[e.label]&&(e.label=t[e.label]),e}),e);this._enableAutomaticDecorators(r.filter(function(e){return"automatic"===e.mode})),this._enableManualDecorators(r.filter(function(e){return"manual"===e.mode})),n.plugins.get(Eg).registerAttribute("linkHref"),zg(n,"linkHref","a","ck-link_selected"),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}},{key:"_enableAutomaticDecorators",value:function(e){var t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:function(e){return Fk.test(e)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}},{key:"_enableManualDecorators",value:function(e){var t,r;e.length&&(t=this.editor,r=t.commands.get("link").manualDecorators,e.forEach(function(n){t.model.schema.extend("$text",{allowAttributes:n.id}),r.add(new Rk(n)),t.conversion.for("downcast").attributeToElement({model:n.id,view:function(e,t){t=t.writer;if(e)return e=r.get(n.id).attributes,e=t.createAttributeElement("a",e,{priority:5}),t.setCustomProperty("link",!0,e),e}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:r.get(n.id).attributes},model:{key:n.id}})}))}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var n=this.editor.model,r=n.document.selection;this.listenTo(n,"insertContent",function(){var e=r.anchor.nodeBefore,t=r.anchor.nodeAfter;r.hasAttribute("linkHref")&&e&&e.hasAttribute("linkHref")&&(t&&t.hasAttribute("linkHref")||n.change(function(e){Bk(e,Uk(n.schema))}))},{priority:"low"})}},{key:"_enableClickingAfterLink",value:function(){var e=this.editor,n=e.model,r=(e.editing.view.addObserver(sf),!1);this.listenTo(e.editing.view.document,"mousedown",function(){r=!0}),this.listenTo(e.editing.view.document,"selectionChange",function(){var e,t;r&&(r=!1,(t=n.document.selection).isCollapsed)&&t.hasAttribute("linkHref")&&(t=Fg(e=t.getFirstPosition(),"linkHref",t.getAttribute("linkHref"),n),e.isTouching(t.start)||e.isTouching(t.end))&&n.change(function(e){Bk(e,Uk(n.schema))})})}},{key:"_enableTypingOverLink",value:function(){var s,o,l=this.editor;this.listenTo(l.editing.view.document,"delete",function(){o=!0},{priority:"high"}),this.listenTo(l.model,"deleteContent",function(){var e,t,n,r,i=l.model.document.selection;i.isCollapsed||(o?o=!1:Hk(l)&&(e=l.model,t=e.document.selection,n=t.getFirstPosition(),t=t.getLastPosition(),r=n.nodeAfter)&&r.is("$text")&&r.hasAttribute("linkHref")&&(r===(t.textNode||t.nodeBefore)||Fg(n,"linkHref",r.getAttribute("linkHref"),e).containsRange(e.createRange(n,t),!0))&&(s=i.getAttributes()))},{priority:"high"}),this.listenTo(l.model,"insertContent",function(e,t){var a=kE(t,1)[0];o=!1,Hk(l)&&s&&(l.model.change(function(e){var t,n=bE(s);try{for(n.s();!(t=n.n()).done;){var r=kE(t.value,2),i=r[0],o=r[1];e.setAttribute(i,o,a)}}catch(e){n.e(e)}finally{n.f()}}),s=null)},{priority:"high"})}},{key:"_handleDeleteContentAfterLink",value:function(){var e=this.editor,n=e.model,r=n.document.selection,i=!1,o=!1;this.listenTo(e.editing.view.document,"delete",function(e,t){o=t.domEvent.keyCode===d.backspace},{priority:"high"}),this.listenTo(n,"deleteContent",function(){i=!1;var e=r.getFirstPosition(),t=r.getAttribute("linkHref");t&&(t=Fg(e,"linkHref",t,n),i=t.containsPosition(e)||t.end.isEqual(e))},{priority:"high"}),this.listenTo(n,"deleteContent",function(){o&&(o=!1,i||e.model.enqueueChange(function(e){Bk(e,Uk(n.schema))}))},{priority:"low"})}}]),zk);function zk(e){var t;return wE(this,zk),t=Dk.call(this,e),e.config.define("link",{addTargetToExternalLinks:!1}),t}function Bk(e,t){e.removeSelectionAttribute("linkHref");var n,r=bE(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.removeSelectionAttribute(i)}}catch(e){r.e(e)}finally{r.f()}}function Hk(e){return e.plugins.get("Input").isInput(e.model.change(function(e){return e.batch}))}function Uk(e){return e.getDefinition("$text").allowAttributes.filter(function(e){return e.startsWith("link")})}e(89);xE($k,S),qk=SE($k),CE($k,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce(function(e,t){return e[t.name]=t.isOn,e},{})}},{key:"render",value:function(){var t=this;yE(RE($k.prototype),"render",this).call(this),mu({view:this}),[this.urlInputView].concat(_E(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach(function(e){t._focusables.add(e),t.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=this.locale.t,t=new vd(this.locale,yd);return t.label=e("Link URL"),t}},{key:"_createButton",value:function(e,t,n,r){var i=new E(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}},{key:"_createManualDecoratorSwitches",value:function(t){var r,i=this,o=this.createCollection(),n=bE(t.manualDecorators);try{for(n.s();!(r=n.n()).done;)(()=>{var n=r.value,e=new nh(i.locale);e.set({name:n.id,label:n.label,withText:!0}),e.bind("isOn").toMany([n,t],"value",function(e,t){return void 0===t&&void 0===e?n.defaultValue:e}),e.on("execute",function(){n.set("value",!e.isOn)}),o.add(e)})()}catch(e){n.e(e)}finally{n.f()}return o}},{key:"_createFormChildren",value:function(e){var t=this.createCollection();return t.add(this.urlInputView),e.length&&((e=new S).setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(function(e){return{tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}}),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(e)),t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}]);var qk,Wk=$k;function $k(e,t){wE(this,$k),n=qk.call(this,e);var n,e=e.t,e=(n.focusTracker=new Aa,n.keystrokes=new Ia,n.urlInputView=n._createUrlInput(),n.saveButtonView=n._createButton(e("Save"),cu,"ck-button-save"),n.saveButtonView.type="submit",n.cancelButtonView=n._createButton(e("Cancel"),lu,"ck-button-cancel","cancel"),n._manualDecoratorSwitches=n._createManualDecoratorSwitches(t),n.children=n._createFormChildren(t.manualDecorators),n._focusables=new ku,n._focusCycler=new rh({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),["ck","ck-link-form","ck-responsive-form"]);return t.manualDecorators.length&&e.push("ck-link-form_layout-vertical","ck-vertical-form"),n.setTemplate({tag:"form",attributes:{class:e,tabindex:"-1"},children:n.children}),vu(TE(n)),n}e(91);xE(Xk,S),Gk=SE(Xk),CE(Xk,[{key:"render",value:function(){var t=this;yE(RE(Xk.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(function(e){t._focusables.add(e),t.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,t,n){var r=new E(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.delegate("execute").to(this,n),r}},{key:"_createPreviewButton",value:function(){var e=new E(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",function(e){return e&&Tk(e)}),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",function(e){return e||n("This link has no URL")}),e.bind("isEnabled").to(this,"href",function(e){return!!e}),e.template.tag="a",e.template.eventListeners={},e}}]);var Kk,Gk,Zk=Xk,Jk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Qk=(xE(Yk,r),Kk=SE(Yk),CE(Yk,[{key:"init",value:function(){var e=this.editor;e.editing.view.addObserver(af),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(Nd),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:"link-ui",view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:"link-ui",view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}},{key:"destroy",value:function(){yE(RE(Yk.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var n=this,e=this.editor,t=new Zk(e.locale),r=e.commands.get("link"),i=e.commands.get("unlink");return t.bind("href").to(r,"value"),t.editButtonView.bind("isEnabled").to(r),t.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(t,"edit",function(){n._addFormView()}),this.listenTo(t,"unlink",function(){e.execute("unlink"),n._hideUI()}),t.keystrokes.set("Esc",function(e,t){n._hideUI(),t()}),t.keystrokes.set("Ctrl+K",function(e,t){n._addFormView(),t()}),t}},{key:"_createFormView",value:function(){var n=this,t=this.editor,e=t.commands.get("link"),r=t.config.get("link.defaultProtocol"),i=new Wk(t.locale,e);return i.urlInputView.fieldView.bind("value").to(e,"value"),i.urlInputView.bind("isReadOnly").to(e,"isEnabled",function(e){return!e}),i.saveButtonView.bind("isEnabled").to(e),this.listenTo(i,"submit",function(){var e=Pk(i.urlInputView.fieldView.element.value,r);t.execute("link",e,i.getDecoratorSwitchesState()),n._closeFormView()}),this.listenTo(i,"cancel",function(){n._closeFormView()}),i.keystrokes.set("Esc",function(e,t){n._closeFormView(),t()}),i}},{key:"_createToolbarLinkButton",value:function(){var n=this,e=this.editor,r=e.commands.get("link"),t=e.t;e.keystrokes.set("Ctrl+K",function(e,t){t(),r.isEnabled&&n._showUI(!0)}),e.ui.componentFactory.add("link",function(e){e=new E(e);return e.isEnabled=!0,e.label=t("Link"),e.icon=Jk,e.keystroke="Ctrl+K",e.tooltip=!0,e.isToggleable=!0,e.bind("isEnabled").to(r,"isEnabled"),e.bind("isOn").to(r,"value",function(e){return!!e}),n.listenTo(e,"execute",function(){return n._showUI(!0)}),e})}},{key:"_enableUserBalloonInteractions",value:function(){var n=this;this.listenTo(this.editor.editing.view.document,"click",function(){n._getSelectedLinkElement()&&n._showUI()}),this.editor.keystrokes.set("Tab",function(e,t){n._areActionsVisible&&!n.actionsView.focusTracker.isFocused&&(n.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",function(e,t){n._isUIVisible&&(n._hideUI(),t())}),gu({emitter:this.formView,activator:function(){return n._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return n._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){var e;this._isFormInPanel||(e=this.editor.commands.get("link"),this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||"")}},{key:"_closeFormView",value:function(){var e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}},{key:"_showUI",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){var e;this._isUIInPanel&&(e=this.editor,this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection())}},{key:"_startUpdatingUI",value:function(){function e(){var e=n._getSelectedLinkElement(),t=a();i&&!e||!i&&t!==o?n._hideUI():n._isUIVisible&&n._balloon.updatePosition(n._getBalloonPositionData()),i=e,o=t}var n=this,t=this.editor,r=t.editing.view.document,i=this._getSelectedLinkElement(),o=a();function a(){return r.selection.focus.getAncestors().reverse().find(function(e){return e.is("element")})}this.listenTo(t.ui,"update",e),this.listenTo(this._balloon,"change:visibleView",e)}},{key:"_getBalloonPositionData",value:function(){var e,t=this.editor.editing.view,n=t.document;return{target:this.editor.model.markers.has("link-ui")?(e=Array.from(this.editor.editing.mapper.markerNameToElements("link-ui")),e=t.createRange(t.createPositionBefore(e[0]),t.createPositionAfter(e[e.length-1])),t.domConverter.viewRangeToDom(e)):(e=this._getSelectedLinkElement(),n=n.selection.getFirstRange(),e?t.domConverter.mapViewToDom(e):t.domConverter.viewRangeToDom(n))}}},{key:"_getSelectedLinkElement",value:function(){var e,t,n=this.editor.editing.view,r=n.document.selection;return r.isCollapsed?eb(r.getFirstPosition()):(e=eb((r=r.getFirstRange().getTrimmed()).start),t=eb(r.end),e&&e==t&&n.createRangeIn(e).getTrimmed().isEqual(r)?e:null)}},{key:"_showFakeVisualSelection",value:function(){var r=this.editor.model;r.change(function(e){var t,n=r.document.selection.getFirstRange();r.markers.has("link-ui")?e.updateMarker("link-ui",{range:n}):n.start.isAtEnd?(t=n.start.getLastMatchingPosition(function(e){e=e.item;return!r.schema.isContent(e)},{boundaries:n}),e.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:e.createRange(t,n.end)})):e.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:n})})}},{key:"_hideFakeVisualSelection",value:function(){var e=this.editor.model;e.markers.has("link-ui")&&e.change(function(e){e.removeMarker("link-ui")})}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}}],[{key:"requires",get:function(){return[Nd]}},{key:"pluginName",get:function(){return"LinkUI"}}]),Yk);function Yk(){return wE(this,Yk),Kk.apply(this,arguments)}function Xk(e){wE(this,Xk),t=Gk.call(this,e);var t,e=e.t;return t.focusTracker=new Aa,t.keystrokes=new Ia,t.previewButtonView=t._createPreviewButton(),t.unlinkButtonView=t._createButton(e("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),t.editButtonView=t._createButton(e("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',"edit"),t.set("href"),t._focusables=new ku,t._focusCycler=new rh({focusables:t._focusables,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[t.previewButtonView,t.editButtonView,t.unlinkButtonView]}),t}function eb(e){return e.getAncestors().find(function(e){return(e=e).is("attributeElement")&&!!e.getCustomProperty("link")})}var tb,nb=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),rb=(xE(ib,r),tb=SE(ib),CE(ib,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",function(){e.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}},{key:"afterInit",value:function(){this._enableEnterHandling(),this._enableShiftEnterHandling()}},{key:"_enableTypingHandling",value:function(){var i=this,o=this.editor,e=new Cg(o.model,function(e){return 4<e.length&&" "===e[e.length-1]&&" "!==e[e.length-2]&&(e=ob(e.substr(0,e.length-1)))?{url:e}:void 0}),a=o.plugins.get("Input");e.on("matched:data",function(e,t){var n=t.batch,r=t.range,t=t.url;a.isInput(n)&&(r=(n=r.end.getShiftedBy(-1)).getShiftedBy(-t.length),r=o.model.createRange(r,n),i._applyAutoLink(t,r))}),e.bind("isEnabled").to(this)}},{key:"_enableEnterHandling",value:function(){var t=this,e=this.editor,n=e.model,e=e.commands.get("enter");e&&e.on("execute",function(){var e=n.document.selection.getFirstPosition();e.parent.previousSibling&&(e=n.createRangeIn(e.parent.previousSibling),t._checkAndApplyAutoLinkOnRange(e))})}},{key:"_enableShiftEnterHandling",value:function(){var t=this,e=this.editor,n=e.model,e=e.commands.get("shiftEnter");e&&e.on("execute",function(){var e=n.document.selection.getFirstPosition(),e=n.createRange(n.createPositionAt(e.parent,0),e.getShiftedBy(-1));t._checkAndApplyAutoLinkOnRange(e)})}},{key:"_checkAndApplyAutoLinkOnRange",value:function(e){var t=this.editor.model,e=wg(e,t),n=e.text,e=e.range,n=ob(n);n&&(t=t.createRange(e.end.getShiftedBy(-n.length),e.end),this._applyAutoLink(n,t))}},{key:"_applyAutoLink",value:function(n,r){var i=this,e=this.editor.model;this.isEnabled&&e.schema.checkAttributeInSelection(e.createSelection(r),"linkHref")&&e.enqueueChange(function(e){var t=i.editor.config.get("link.defaultProtocol"),t=Pk(n,t);e.setAttribute("linkHref",t,r)})}}],[{key:"pluginName",get:function(){return"AutoLink"}}]),ib);function ib(){return wE(this,ib),tb.apply(this,arguments)}function ob(e){e=nb.exec(e);return e?e[2]:null}xE(lb,a),ab=SE(lb),CE(lb,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var g=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,v=Array.from(t.document.selection.getSelectedBlocks()).filter(function(e){return ub(e,t.schema)}),m=void 0!==e.forceValue?!e.forceValue:this.value;t.change(function(e){if(m){for(var t=v[v.length-1].nextSibling,n=Number.POSITIVE_INFINITY,r=[];t&&"listItem"==t.name&&0!==t.getAttribute("listIndent");){var i=t.getAttribute("listIndent");i<n&&(n=i),r.push({element:t,listIndent:i-n}),t=t.nextSibling}var o,a=bE(r=r.reverse());try{for(a.s();!(o=a.n()).done;){var s=o.value;e.setAttribute("listIndent",s.listIndent,s.element)}}catch(e){a.e(e)}finally{a.f()}}if(!m){var l,c=Number.POSITIVE_INFINITY,u=bE(v);try{for(u.s();!(l=u.n()).done;){var h=l.value;h.is("element","listItem")&&h.getAttribute("listIndent")<c&&(c=h.getAttribute("listIndent"))}}catch(e){u.e(e)}finally{u.f()}cb(v,!0,c=0===c?1:c),cb(v,!1,c)}var d,f=bE(v.reverse());try{for(f.s();!(d=f.n()).done;){var p=d.value;m&&"listItem"==p.name?e.rename(p,"paragraph"):m||"listItem"==p.name?m||"listItem"!=p.name||p.getAttribute("listType")==g.type||e.setAttribute("listType",g.type,p):(e.setAttributes({listType:g.type,listIndent:0},p),e.rename(p,"listItem"))}}catch(e){f.e(e)}finally{f.f()}g.fire("_executeCleanup",v)})}},{key:"_getValue",value:function(){var e=v(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){var e,t;return!!this.value||(e=this.editor.model.schema,!!(t=v(this.editor.model.document.selection.getSelectedBlocks()))&&ub(t,e))}}]);var ab,sb=lb;function lb(e,t){return wE(this,lb),(e=ab.call(this,e)).type=t,e}function cb(e,t,n){var r=t?e[0]:e[e.length-1];if(r.is("element","listItem"))for(var i=r[t?"previousSibling":"nextSibling"],o=r.getAttribute("listIndent");i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=n;)o>i.getAttribute("listIndent")&&(o=i.getAttribute("listIndent")),i.getAttribute("listIndent")==o&&e[t?"unshift":"push"](i),i=i[t?"previousSibling":"nextSibling"]}function ub(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}xE(fb,a),hb=SE(fb),CE(fb,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var s=this,e=this.editor.model,l=Array.from(e.document.selection.getSelectedBlocks());e.change(function(e){for(var t=l[l.length-1],n=t.nextSibling;n&&"listItem"==n.name&&n.getAttribute("listIndent")>t.getAttribute("listIndent");)l.push(n),n=n.nextSibling;var r,i=bE(l=s._indentBy<0?l.reverse():l);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.getAttribute("listIndent")+s._indentBy;a<0?e.rename(o,"paragraph"):e.setAttribute("listIndent",a,o)}}catch(e){i.e(e)}finally{i.f()}s.fire("_executeCleanup",l)})}},{key:"_checkEnabled",value:function(){var e=v(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(0<this._indentBy){for(var t=e.getAttribute("listIndent"),n=e.getAttribute("listType"),r=e.previousSibling;r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=t;){if(r.getAttribute("listIndent")==t)return r.getAttribute("listType")==n;r=r.previousSibling}return!1}return!0}}]);var hb,db=fb;function fb(e,t){return wE(this,fb),(e=hb.call(this,e))._indentBy="forward"==t?1:-1,e}function pb(e,t){var n,r=t.mapper,t=t.writer,i="numbered"==e.getAttribute("listType")?"ol":"ul",i=((n=t.createContainerElement("li")).getFillerOffset=_b,t.createContainerElement(i,null));return t.insert(t.createPositionAt(i,0),n),r.bindElements(e,n),n}function gb(e,t,n,r){var i=t.parent,o=n.mapper,a=n.writer,n=o.toViewPosition(r.createPositionBefore(e)),s=yb(e.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:e.getAttribute("listIndent")}),l=e.previousSibling;if(n=mb(n=s&&s.getAttribute("listIndent")==e.getAttribute("listIndent")?(s=o.toViewElement(s),a.breakContainer(a.createPositionAfter(s))):l&&"listItem"==l.name?(n=o.toViewPosition(r.createPositionAt(l,"end")),(u=bb(s=o.findMappedViewAncestor(n)))?a.createPositionBefore(u):a.createPositionAt(s,"end")):o.toViewPosition(r.createPositionBefore(e))),a.insert(n,i),l&&"listItem"==l.name){var c,u=o.toViewElement(l),h=a.createRange(a.createPositionAt(u,0),n).getWalker({ignoreElementEnd:!0}),d=bE(h);try{for(d.s();!(c=d.n()).done;){var f,p,g,v=c.value;v.item.is("element","li")&&(f=a.breakContainer(a.createPositionBefore(v.item)),p=v.item.parent,g=a.createPositionAt(t,"end"),vb(a,g.nodeBefore,g.nodeAfter),a.move(a.createRangeOn(p),g),h.position=f)}}catch(e){d.e(e)}finally{d.f()}}else{s=i.nextSibling;if(s&&(s.is("element","ul")||s.is("element","ol"))){var m,y=null,k=bE(s.getChildren());try{for(k.s();!(m=k.n()).done;){var b=m.value,_=o.toModelElement(b);if(!(_&&_.getAttribute("listIndent")>e.getAttribute("listIndent")))break;y=b}}catch(e){k.e(e)}finally{k.f()}y&&(a.breakContainer(a.createPositionAfter(y)),a.move(a.createRangeOn(y.parent),a.createPositionAt(t,"end")))}}vb(a,i,i.nextSibling),vb(a,i.previousSibling,i)}function vb(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function mb(e){return e.getLastMatchingPosition(function(e){return e.item.is("uiElement")})}function yb(e,t){for(var n=!!t.sameIndent,r=!!t.smallerIndent,i=t.listIndent,o=e;o&&"listItem"==o.name;){var a=o.getAttribute("listIndent");if(n&&i==a||r&&a<i)return o;o="forward"===t.direction?o.nextSibling:o.previousSibling}return null}function kb(n,r,i,o){n.ui.componentFactory.add(r,function(e){var t=n.commands.get(r),e=new E(e);return e.set({label:i,icon:o,tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),e.on("execute",function(){n.execute(r),n.editing.view.focus()}),e})}function bb(e){var t,n=bE(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;if("ul"==r.name||"ol"==r.name)return r}}catch(e){n.e(e)}finally{n.f()}return null}function _b(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:wr.call(this)}function wb(i){return function(e,t,n){var r=n.consumable;r.test(t.item,"insert")&&r.test(t.item,"attribute:listType")&&r.test(t.item,"attribute:listIndent")&&(r.consume(t.item,"insert"),r.consume(t.item,"attribute:listType"),r.consume(t.item,"attribute:listIndent"),gb(r=t.item,pb(r,n),n,i))}}function Cb(e,t,n){var r;n.consumable.consume(t.item,"attribute:listType")&&(r=n.mapper.toViewElement(t.item),(n=n.writer).breakContainer(n.createPositionBefore(r)),n.breakContainer(n.createPositionAfter(r)),n.rename("numbered"==t.attributeNewValue?"ol":"ul",r.parent))}function xb(e,t,n){var r=n.mapper.toViewElement(t.item).parent,i=n.writer;vb(i,r,r.nextSibling),vb(i,r.previousSibling,r);var o,a=bE(t.item.getChildren());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.consumable.consume(s,"insert")}}catch(e){a.e(e)}finally{a.f()}}function Sb(e,t,n){if("listItem"!=t.item.name){for(var r=n.mapper.toViewPosition(t.range.start),i=n.writer,o=[];("ul"==r.parent.name||"ol"==r.parent.name)&&"li"==(r=i.breakContainer(r)).parent.name;){var a=r,s=i.createPositionAt(r.parent,"end");a.isEqual(s)||(a=i.remove(i.createRange(a,s)),o.push(a)),r=i.createPositionAfter(r.parent)}if(0<o.length){for(var l=0;l<o.length;l++){var c,u=r.nodeBefore,r=i.insert(r,o[l]).end;0<l&&(c=vb(i,u,u.nextSibling))&&c.parent==u&&r.offset--}vb(i,r.nodeBefore,r.nodeAfter)}}}function Eb(e,t,n){t=n.mapper.toViewPosition(t.position);vb(n.writer,t.nodeBefore,t.nodeAfter)}function Tb(e,r,t){var n,i,o;t.consumable.consume(r.viewItem,{name:!0})&&(i=(n=t.writer).createElement("listItem"),o=(()=>{for(var e,t=0,n=r.viewItem.parent;n;)(n.is("element","li")||(e=n.previousSibling)&&e.is("element","li"))&&t++,n=n.parent;return t})(),n.setAttribute("listIndent",o,i),n.setAttribute("listType",r.viewItem.parent&&"ol"==r.viewItem.parent.name?"numbered":"bulleted",i),t.safeInsert(i,r.modelCursor))&&(o=((e,t,n)=>{var r,i=n.writer,o=n.schema,a=i.createPositionAfter(e),s=bE(t);try{for(s.s();!(r=s.n()).done;){var l,c,u=r.value;"ul"==u.name||"ol"==u.name?a=n.convertItem(u,a).modelCursor:(c=(l=n.convertItem(u,i.createPositionAt(e,"end"))).modelRange.start.nodeAfter)&&c.is("element")&&!o.checkChild(e,c.name)&&(e=l.modelCursor.parent.is("element","listItem")?l.modelCursor.parent:(e=>{for(var t,n=new Qa({startPosition:e});!(t=n.next()).value.item.is("element","listItem"););return t.value.item})(l.modelCursor),a=i.createPositionAfter(e))}}catch(e){s.e(e)}finally{s.f()}return a})(i,r.viewItem.getChildren(),t),r.modelRange=n.createRange(r.modelCursor,o),t.updateConversionResult(i,r))}function Ab(e,t,n){if(n.consumable.test(t.viewItem,{name:!0}))for(var r=0,i=Array.from(t.viewItem.getChildren());r<i.length;r++){var o=i[r];o.is("element","li")||Mb(o)||o._remove()}}function Pb(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})&&0!==t.viewItem.childCount){var r,i=!1,o=!0,a=bE(_E(t.viewItem.getChildren()));try{for(a.s();!(r=a.n()).done;){var s=r.value;i&&!Mb(s)&&s._remove(),s.is("$text")?(o&&(s._data=s.data.trimStart()),s.nextSibling&&!Mb(s.nextSibling)||(s._data=s.data.trimEnd())):Mb(s)&&(i=!0),o=!1}}catch(e){a.e(e)}finally{a.f()}}}function Rb(s){return function(e,t){if(!t.isPhantom){var n=t.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){var r,n=t.mapper.toViewElement(n),i=n.getAncestors().find(Mb),o=bE(s.createPositionAt(n,0).getWalker());try{for(o.s();!(r=o.n()).done;){var a=r.value;if("elementStart"==a.type&&a.item.is("element","li")){t.viewPosition=a.previousPosition;break}if("elementEnd"==a.type&&a.item==i){t.viewPosition=a.nextPosition;break}}}catch(e){o.e(e)}finally{o.f()}}}}}function Ib(e,t){var t=kE(t,2),n=t[0],t=t[1],r=n.is("documentFragment")?n.getChild(0):n,n=t?this.createSelection(t):this.document.selection;if(r&&r.is("element","listItem")){t=n.getFirstPosition(),n=null;if(t.parent.is("element","listItem")?n=t.parent:t.nodeBefore&&t.nodeBefore.is("element","listItem")&&(n=t.nodeBefore),n){var i=n.getAttribute("listIndent");if(0<i)for(;r&&r.is("element","listItem");)r._setAttribute("listIndent",r.getAttribute("listIndent")+i),r=r.nextSibling}}}function Ob(e,t,n,r,i,o){var a,t=yb(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),s=i.mapper,l=i.writer,i=t?t.getAttribute("listIndent"):null;a=mb(a=t?i==e?(i=s.toViewElement(t).parent,l.createPositionAfter(i)):(e=o.createPositionAt(t,"end"),s.toViewPosition(e)):n);for(var c=0,u=_E(r.getChildren());c<u.length;c++){var h=u[c];Mb(h)&&(a=l.move(l.createRangeOn(h),a).end,vb(l,h,h.nextSibling),vb(l,h.previousSibling,h))}}function Mb(e){return e.is("element","ol")||e.is("element","ul")}xE(jb,r),Nb=SE(jb),CE(jb,[{key:"init",value:function(){var i=this,S=this.editor;S.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});function e(n){return function(e,t){i.editor.commands.get(n).isEnabled&&(i.editor.execute(n),t())}}var c,t=S.data,n=S.editing,t=(S.model.document.registerPostFixer(function(e){var t,n=S.model,r=e,e=n.document.differ.getChanges(),i=new Map,o=!1,a=bE(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if("insert"==s.type&&"listItem"==s.name)x(s.position);else if("insert"==s.type&&"listItem"!=s.name){if("$text"!=s.name){var l=s.position.nodeAfter;l.hasAttribute("listIndent")&&(r.removeAttribute("listIndent",l),o=!0),l.hasAttribute("listType")&&(r.removeAttribute("listType",l),o=!0),l.hasAttribute("listStyle")&&(r.removeAttribute("listStyle",l),o=!0);var c,u=bE(Array.from(n.createRangeIn(l)).filter(function(e){return e.item.is("element","listItem")}));try{for(u.s();!(c=u.n()).done;)x(c.value.previousPosition)}catch(e){u.e(e)}finally{u.f()}}x(s.position.getShiftedBy(s.length))}else"remove"==s.type&&"listItem"==s.name?x(s.position):("attribute"==s.type&&"listIndent"==s.attributeKey||"attribute"==s.type&&"listType"==s.attributeKey)&&x(s.range.start)}}catch(e){a.e(e)}finally{a.f()}var h,d=bE(i.values());try{for(d.s();!(h=d.n()).done;){for(var f=h.value,p=(m=y=v=g=p=void 0,f),g=0,v=null;p&&p.is("element","listItem");){var m,y=p.getAttribute("listIndent");g<y?(m=void 0,m=null===v?(v=y-g,g):y-(v=y<v?y:v),r.setAttribute("listIndent",m,p),o=!0):(v=null,g=p.getAttribute("listIndent")+1),p=p.nextSibling}w=C=_=b=k=void 0;for(var k=f,b=[],_=null;k&&k.is("element","listItem");){var w,C=k.getAttribute("listIndent");_&&_.getAttribute("listIndent")>C&&(b=b.slice(0,C+1)),0!=C&&(b[C]?(w=b[C],k.getAttribute("listType")!=w&&(r.setAttribute("listType",w,k),o=!0)):b[C]=k.getAttribute("listType")),k=(_=k).nextSibling}}}catch(e){d.e(e)}finally{d.f()}return o;function x(e){var t=e.nodeBefore;if(t&&t.is("element","listItem")){var n=t;if(!i.has(n)){for(var r=n.previousSibling;r&&r.is("element","listItem");r=n.previousSibling)if(n=r,i.has(n))return;i.set(t,n)}}else{t=e.nodeAfter;t&&t.is("element","listItem")&&i.set(t,t)}}}),n.mapper.registerViewToModelLength("li",Db),t.mapper.registerViewToModelLength("li",Db),n.mapper.on("modelToViewPosition",Rb(n.view)),n.mapper.on("viewToModelPosition",(c=S.model,function(e,t){var n,r=t.viewPosition,i=r.parent,o=t.mapper;if("ul"==i.name||"ol"==i.name)r.isAtEnd?(n=o.toModelElement(r.nodeBefore),a=o.getModelLength(r.nodeBefore),t.modelPosition=c.createPositionBefore(n).getShiftedBy(a)):(n=o.toModelElement(r.nodeAfter),t.modelPosition=c.createPositionBefore(n)),e.stop();else if("li"==i.name&&r.nodeBefore&&("ul"==r.nodeBefore.name||"ol"==r.nodeBefore.name)){for(var a=o.toModelElement(i),s=1,l=r.nodeBefore;l&&Mb(l);)s+=o.getModelLength(l),l=l.previousSibling;t.modelPosition=c.createPositionBefore(a).getShiftedBy(s),e.stop()}})),t.mapper.on("modelToViewPosition",Rb(n.view)),S.conversion.for("editingDowncast").add(function(e){var h,u;e.on("insert",Sb,{priority:"high"}),e.on("insert:listItem",wb(S.model)),e.on("attribute:listType:listItem",Cb,{priority:"high"}),e.on("attribute:listType:listItem",xb,{priority:"low"}),e.on("attribute:listIndent:listItem",(u=S.model,function(e,t,n){if(n.consumable.consume(t.item,"attribute:listIndent")){var r=n.mapper.toViewElement(t.item),i=n.writer,o=(i.breakContainer(i.createPositionBefore(r)),i.breakContainer(i.createPositionAfter(r)),r.parent),a=o.previousSibling,o=i.createRangeOn(o);i.remove(o),a&&a.nextSibling&&vb(i,a,a.nextSibling),Ob(t.attributeOldValue+1,t.range.start,o.start,r,n,u),gb(t.item,r,n,u);var s,l=bE(t.item.getChildren());try{for(l.s();!(s=l.n()).done;){var c=s.value;n.consumable.consume(c,"insert")}}catch(e){l.e(e)}finally{l.f()}}})),e.on("remove:listItem",(h=S.model,function(e,t,n){var r=n.mapper.toViewPosition(t.position).getLastMatchingPosition(function(e){return!e.item.is("element","li")}).nodeAfter,i=n.writer,o=(i.breakContainer(i.createPositionBefore(r)),i.breakContainer(i.createPositionAfter(r)),r.parent),a=o.previousSibling,o=i.createRangeOn(o),s=i.remove(o);a&&a.nextSibling&&vb(i,a,a.nextSibling),Ob(n.mapper.toModelElement(r).getAttribute("listIndent")+1,t.position,o.start,r,n,h);var l,c=bE(i.createRangeIn(s).getItems());try{for(c.s();!(l=c.n()).done;){var u=l.value;n.mapper.unbindViewElement(u)}}catch(e){c.e(e)}finally{c.f()}e.stop()})),e.on("remove",Eb,{priority:"low"})}),S.conversion.for("dataDowncast").add(function(e){e.on("insert",Sb,{priority:"high"}),e.on("insert:listItem",wb(S.model))}),S.conversion.for("upcast").add(function(e){e.on("element:ul",Ab,{priority:"high"}),e.on("element:ol",Ab,{priority:"high"}),e.on("element:li",Pb,{priority:"high"}),e.on("element:li",Tb)}),S.model.on("insertContent",Ib,{priority:"high"}),S.commands.add("numberedList",new sb(S,"numbered")),S.commands.add("bulletedList",new sb(S,"bulleted")),S.commands.add("indentList",new db(S,"forward")),S.commands.add("outdentList",new db(S,"backward")),n.view.document);this.listenTo(t,"enter",function(e,t){var n=i.editor.model.document,r=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(i.editor.execute("outdentList"),t.preventDefault(),e.stop())},{context:"li"}),this.listenTo(t,"delete",function(e,t){var n;"backward"!==t.direction||!(n=i.editor.model.document.selection).isCollapsed||!(n=n.getFirstPosition()).isAtStart||"listItem"!==(n=n.parent).name||n.previousSibling&&"listItem"===n.previousSibling.name||(i.editor.execute("outdentList"),t.preventDefault(),e.stop())},{context:"li"});S.keystrokes.set("Tab",e("indentList")),S.keystrokes.set("Shift+Tab",e("outdentList"))}},{key:"afterInit",value:function(){var e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[zf,qf]}}]);var Nb,Lb=jb;function jb(){return wE(this,jb),Nb.apply(this,arguments)}function Db(e){var t,n=1,r=bE(e.getChildren());try{for(r.s();!(t=r.n()).done;){var i=t.value;if("ul"==i.name||"ol"==i.name){var o,a=bE(i.getChildren());try{for(a.s();!(o=a.n()).done;)n+=Db(o.value)}catch(e){a.e(e)}finally{a.f()}}}}catch(e){r.e(e)}finally{r.f()}return n}xE(zb,r),Fb=SE(zb),CE(zb,[{key:"init",value:function(){var e=this.editor.t;kb(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),kb(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}],[{key:"pluginName",get:function(){return"ListUI"}}]);var Fb,Vb=zb;function zb(){return wE(this,zb),Fb.apply(this,arguments)}function Bb(e,t,n){var r=t.parent,i=n.createElement(e.type),t=r.getChildIndex(t)+1;return n.insertChild(t,i,r),e.style&&n.setStyle("list-style-type",e.style,i),i}var Hb=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,Ub=(CE(qb,[{key:"isActive",value:function(e){return Hb.test(e)}},{key:"execute",value:function(e){var t,n=new lf(this.document),r=e.content,i=n,o=bE(r.getChildren());try{for(o.s();!(t=o.n()).done;){var a,s=t.value;s.is("element","b")&&"normal"===s.getStyle("font-weight")&&(a=r.getChildIndex(s),i.remove(s),i.insertChild(a,s.getChildren(),r))}}catch(e){o.e(e)}finally{o.f()}var l,e=e.content,c=n,u=bE(c.createRangeIn(e));try{for(u.s();!(l=u.n()).done;){var h,d=l.value.item;d.is("element","li")&&(h=d.getChild(0))&&h.is("element","p")&&c.unwrapElement(h)}}catch(e){u.e(e)}finally{u.f()}}}]),qb);function qb(e){wE(this,qb),this.document=e}function Wb(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(e,t){return 1===t.length?" ":Array(t.length+1).join(" ").substr(0,t.length)})}var $b=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Kb=/xmlns:o="urn:schemas-microsoft-com/i,Gb=(CE(Zb,[{key:"isActive",value:function(e){return $b.test(e)||Kb.test(e)}},{key:"execute",value:function(e){n=e.dataTransfer.getData("text/html"),i=this.document.stylesProcessor,r=new DOMParser,n=Wb(Wb(function(e){var t=e.indexOf("</body>");if(t<0)return e;var n=e.indexOf("</html>",t+"</body>".length);return e.substring(0,t+"</body>".length)+(n>=0?e.substring(n):"")}(n=n.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),(r=r.parseFromString(n,"text/html")).querySelectorAll("span[style*=spacerun]").forEach(function(e){var t=e.innerText.length||0;e.innerHTML=Array(t+1).join(" ").substr(0,t)}),n=r.body.innerHTML,t=(e=>{for(var t=new Gr(i),t=new uo(t,{blockFillerMode:"nbsp"}),n=e.createDocumentFragment(),r=e.body.childNodes;0<r.length;)n.appendChild(r[0]);return t.domToView(n)})(r),r=(e=>{for(var t=[],n=[],r=0,i=Array.from(e.getElementsByTagName("style"));r<i.length;r++){var o=i[r];o.sheet&&o.sheet.cssRules&&o.sheet.cssRules.length&&(t.push(o.sheet),n.push(o.innerHTML))}return{styles:t,stylesString:n.join(" ")}})(r);var i,h,o,d,a,s,l,t={body:t,bodyString:n,styles:r.styles,stylesString:r.stylesString},n=t.body,c=(o=t.stylesString,(h=n).childCount&&(d=new lf(h.document),(a=(()=>{var e,t,n,r,i,o=d.createRangeIn(h),a=new Hn({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),s=[],l=bE(o);try{for(l.s();!(e=l.n()).done;){var c,u=e.value;"elementStart"===u.type&&a.match(u.item)&&(t=u.item,r=n=void 0,i={},(t=t.getStyle("mso-list"))&&(n=t.match(/(^|\s{1,100})l(\d+)/i),r=t.match(/\s{0,100}lfo(\d+)/i),t=t.match(/\s{0,100}level(\d+)/i),n)&&r&&t&&(i.id=n[2],i.order=r[1],i.indent=t[1]),c=i,s.push({element:u.item,id:c.id,order:c.order,indent:c.indent}))}}catch(e){l.e(e)}finally{l.f()}return s})()).length)&&(s=null,l=1,a.forEach(function(e,t){var n,r=!(r=a[t-1])||(r.id!==e.id?e.indent-r.indent!=1:!(r=e.element.previousSibling)||!((r=r).is("element","ol")||r.is("element","ul"))),t=(t=r?null:a[t-1])?e.indent-t.indent:e.indent-1,i=(r&&(s=null,l=1),s&&0==t||(r=e,t=o,t=new RegExp("@list l".concat(r.id,":level").concat(r.indent,"\\s*({[^}]*)"),"gi").exec(t),n="decimal",i="ol",t&&t[1]&&((t=/mso-level-number-format:([^;]{0,100});/gi.exec(t[1]))&&t[1]&&(i="bullet"!==(n=t[1].trim())&&"image"!==n?"ol":"ul"),"bullet"===n)&&(r=(t=(t=t=r.element).getChild(0).is("$text")?null:(t=t.getChild(0).getChild(0)).is("$text")?t:t.getChild(0))?"o"===(t=t._data)?"circle":""===t?"disc":""===t?"square":null:null)&&(n=r),t={type:i,style:(e=>{switch(e){case"arabic-leading-zero":return"decimal-leading-zero";case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return e;default:return null}})(n)},s?e.indent>l?(s=Bb(t,(r=s.getChild(s.childCount-1)).getChild(r.childCount-1),d),l+=1):e.indent<l&&(s=((e,t)=>{var n,r=null,i=0,o=bE(e.getAncestors({parentFirst:!0}));try{for(o.s();!(n=o.n()).done;){var a=n.value;if("ul"!==a.name&&"ol"!==a.name||i++,i===t){r=a;break}}}catch(e){o.e(e)}finally{o.f()}return r})(s,l-e.indent),l=parseInt(e.indent)):s=Bb(t,e.element,d),e.indent<=l&&(s.is("element",t.type)||(s=d.rename(t.type,s)))),((e,t)=>{var n,r=e,i=t,o=new Hn({name:"span",styles:{"mso-list":"Ignore"}}),a=bE(i.createRangeIn(r));try{for(a.s();!(n=a.n()).done;){var s=n.value;"elementStart"===s.type&&o.match(s.item)&&i.remove(s.item)}}catch(e){a.e(e)}finally{a.f()}return t.rename("li",e)})(e.element,d));d.appendChild(i,s)})),n),r=e.dataTransfer.getData("text/rtf");if(c.childCount){var u,f=new lf,p=(()=>{var e,t=f.createRangeIn(c),n=new Hn({name:/v:(.+)/}),r=[],i=bE(t);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=o.item,s=a.previousSibling&&a.previousSibling.name||null;n.match(a)&&a.getAttribute("o:gfxdata")&&"v:shapetype"!==s&&r.push(o.item.getAttribute("id"))}}catch(e){i.e(e)}finally{i.f()}return r})(),g=f,t=g.createRangeIn(c),v=new Hn({name:"img"}),m=[],y=bE(t);try{for(y.s();!(u=y.n()).done;){var k,b,_=u.value;v.match(_.item)&&((b=(k=_.item).getAttribute("v:shapes")?k.getAttribute("v:shapes").split(" "):[]).length&&b.every(function(e){return-1<p.indexOf(e)})||!k.getAttribute("src"))&&m.push(k)}}catch(e){y.e(e)}finally{y.f()}for(var w=0,C=m;w<C.length;w++)g.remove(C[w]);var x,S=f,t=S.createRangeIn(c),E=new Hn({name:/v:(.+)/}),T=[],A=bE(t);try{for(A.s();!(x=A.n()).done;){var P=x.value;E.match(P.item)&&T.push(P.item)}}catch(e){A.e(e)}finally{A.f()}for(var R=0,I=T;R<I.length;R++)S.remove(I[R]);var O,t=(()=>{var e,t=f.createRangeIn(c),n=new Hn({name:"img"}),r=[],i=bE(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;n.match(o.item)&&o.item.getAttribute("src").startsWith("file://")&&r.push(o.item)}}catch(e){i.e(e)}finally{i.f()}return r})();if(t.length){var M=t,N=(e=>{if(!e)return[];var t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),e=e.match(n),r=[];if(e){var i,o=bE(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=!1;a.includes("\\pngblip")?s="image/png":a.includes("\\jpegblip")&&(s="image/jpeg"),s&&r.push({hex:a.replace(t,"").replace(/[^\da-fA-F]/g,""),type:s})}}catch(e){o.e(e)}finally{o.f()}}return r})(r),j=f;if(M.length===N.length)for(var L=0;L<M.length;L++){O="data:".concat(N[L].type,";base64,").concat((O=N[L].hex,btoa(O.match(/\w{2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join(""))));j.setAttribute("src",O,M[L])}}}e.content=n}}]),Zb);function Zb(e){wE(this,Zb),this.document=e}function N(e,t,n,r,i){(4<arguments.length&&void 0!==i?i:1)<t?r.setAttribute(e,t,n):r.removeAttribute(e,n)}function Jb(e,t,n){n=e.createElement("tableCell",2<arguments.length&&void 0!==n?n:{});return e.insertElement("paragraph",n),e.insert(n,t),n}function Qb(e,t){var n=parseInt(t.parent.parent.getAttribute("headingColumns")||0),e=e.getCellLocation(t).column;return!!n&&e<n}function Yb(t){return function(e){e.on("element:"+t,function(e,t,n){t.modelRange&&t.viewItem.isEmpty&&(t=n.writer.createPositionAt(t.modelRange.start.nodeAfter,0),n.writer.insertElement("paragraph",t))},{priority:"low"})}}CE(t_,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();var t=null,n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{n=e.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();var e=parseInt(n.getAttribute("colspan")||1),r=parseInt(n.getAttribute("rowspan")||1);(1<e||1<r)&&this._recordSpans(n,r,e),this._shouldSkipSlot()||(t=this._formatOutValue(n)),this._nextCellAtColumn=this._column+e}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_advanceToNextRow",value:function(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}},{key:"_isOverEndRow",value:function(){return void 0!==this._endRow&&this._row>this._endRow}},{key:"_isOverEndColumn",value:function(){return void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_formatOutValue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._row,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new Xb(this,e,t,n)}}},{key:"_shouldSkipSlot",value:function(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_getSpanned",value:function(){var e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}},{key:"_recordSpans",value:function(e,t,n){for(var r={cell:e,row:this._row,column:this._column},i=this._row;i<this._row+t;i++)for(var o=this._column;o<this._column+n;o++)i==this._row&&o==this._column||this._markSpannedCell(i,o,r)}},{key:"_markSpannedCell",value:function(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}]);var L=t_,Xb=(CE(e_,[{key:"getPositionBefore",value:function(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}},{key:"isAnchor",get:function(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}},{key:"cellWidth",get:function(){return parseInt(this.cell.getAttribute("colspan")||1)}},{key:"cellHeight",get:function(){return parseInt(this.cell.getAttribute("rowspan")||1)}},{key:"rowIndex",get:function(){return this._rowIndex}}]),e_);function e_(e,t,n,r){wE(this,e_),this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=r,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}function t_(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};wE(this,t_),this._table=e,this._startRow=void 0!==t.row?t.row:t.startRow||0,this._endRow=void 0!==t.row?t.row:t.endRow,this._startColumn=void 0!==t.column?t.column:t.startColumn||0,this._endColumn=void 0!==t.column?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}function n_(e){var w=0<arguments.length&&void 0!==e?e:{};return function(e){return e.on("insert:table",function(e,t,n){var r=t.item;if(n.consumable.consume(r,"insert")){n.consumable.consume(r,"attribute:headingRows:table"),n.consumable.consume(r,"attribute:headingColumns:table");var i,o=w&&w.asWidget,a=n.writer.createContainerElement("figure",{class:"table"}),s=n.writer.createContainerElement("table");n.writer.insert(n.writer.createPositionAt(a,0),s),o&&((c=n.writer).setCustomProperty("table",!0,i=a),i=tp(i,c,{hasSelectionHandle:!0}));var l,c=new L(r),u={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},h=new Map,d=bE(c);try{for(d.s();!(l=d.n()).done;){var f=l.value,p=f.row,g=f.cell,v=r.getChild(p),m=h.get(p)||a_(s,v,p,u,n);h.set(p,m),n.consumable.consume(g,"insert"),o_(f,u,n.writer.createPositionAt(m,"end"),n,w)}}catch(e){d.e(e)}finally{d.f()}var y,k=bE(r.getChildren());try{for(k.s();!(y=k.n()).done;){var b=y.value,_=b.index;b.is("element","tableRow")&&!h.has(_)&&h.set(_,a_(s,b,_,u,n))}}catch(e){k.e(e)}finally{k.f()}c=n.mapper.toViewPosition(t.range.start);n.mapper.bindElements(r,o?i:a),n.writer.insert(c,o?i:a)}})}}function r_(e,t){t=t.writer;if(e.parent.is("element","tableCell"))return i_(e)?t.createContainerElement("span",{style:"display:inline-block"}):t.createContainerElement("p")}function i_(e){return 1===e.parent.childCount&&!u_(e)}function o_(e,t,n,r,i){var i=i&&i.asWidget,t=s_(e,t),t=i?op(r.writer.createEditableElement(t),r.writer):r.writer.createContainerElement(t),e=(i&&ip(t,r.writer,function(e,t,n){n.addClass(b(t.classes),e)},function(e,t,n){n.removeClass(b(t.classes),e)}),e.cell),o=e.getChild(0),a=1===e.childCount&&"paragraph"===o.name;r.writer.insert(n,t),r.mapper.bindElements(e,t),i||!a||u_(o)||(n=e.getChild(0),r.consumable.consume(n,"insert"),r.mapper.bindElements(n,t))}function a_(e,t,n,r,i){i.consumable.consume(t,"insert");var o,a=t.isEmpty?i.writer.createEmptyElement("tr"):i.writer.createContainerElement("tr"),t=(i.mapper.bindElements(t,a),r.headingRows),r=(r=n<r.headingRows?"thead":"tbody",s=i,l_(r,e=e)||(r=r,e=e,o=(s=s).writer.createContainerElement(r),e=s.writer.createPositionAt(e,"tbody"==r?"end":0),s.writer.insert(e,o),o)),s=i.writer.createPositionAt(r,0<t&&t<=n?n-t:n);return i.writer.insert(s,a),a}function s_(e,t){var n=e.row,r=t.headingColumns,t=t.headingRows;return t&&n<t||r&&e.column<r?"th":"td"}function l_(e,t){var n,r=bE(t.getChildren());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.name==e)return i}}catch(e){r.e(e)}finally{r.f()}}function c_(e,t,n){e=l_(e,t);e&&0===e.childCount&&n.writer.remove(n.writer.createRangeOn(e))}function u_(e){return _E(e.getAttributeKeys()).length}xE(f_,a),h_=SE(f_),CE(f_,[{key:"refresh",value:function(){var e,t,n=this.editor.model,r=n.document.selection,n=n.schema;this.isEnabled=(e=n,t=r.getFirstPosition().parent,e.checkChild(t===t.root?t:t.parent,"table")&&!sp(r,n))}},{key:"execute",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.editor.model,e=r.document.selection,i=this.editor.plugins.get("TableUtils"),o=ap(e,r);r.change(function(e){var t=i.createTable(e,n);r.insertContent(t,o),e.setSelection(e.createPositionAt(t.getNodeByPath([0,0,0]),0))})}}]);var h_,d_=f_;function f_(){return wE(this,f_),h_.apply(this,arguments)}function p_(e){var t,n=[],r=bE(b_(e.getRanges()));try{for(r.s();!(t=r.n()).done;){var i=t.value.getContainedElement();i&&i.is("element","tableCell")&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}function g_(e){var t,n=[],r=bE(e.getRanges());try{for(r.s();!(t=r.n()).done;){var i=t.value.start.findAncestor("tableCell");i&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}function v_(e){var t=p_(e);return t.length?t:g_(e)}function m_(e){return __(e.map(function(e){return e.parent.index}))}function y_(t){var e=t[0].findAncestor("table");return __(_E(new L(e)).filter(function(e){return t.includes(e.cell)}).map(function(e){return e.column}))}function k_(e,t){if(e.length<2||!(e=>{var t=e[0].findAncestor("table");if(C_(m_(e),parseInt(t.getAttribute("headingRows")||0)))return t=parseInt(t.getAttribute("headingColumns")||0),C_(y_(e),t)})(e))return!1;var n,r=new Set,i=new Set,o=0,a=bE(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=t.getCellLocation(s),c=l.row,u=l.column,h=parseInt(s.getAttribute("rowspan")||1),d=parseInt(s.getAttribute("colspan")||1);r.add(c),i.add(u),1<h&&r.add(c+h-1),1<d&&i.add(u+d-1),o+=h*d}}catch(e){a.e(e)}finally{a.f()}return((e,t)=>(e=Array.from(e.values()),t=Array.from(t.values()),(Math.max.apply(Math,_E(e))-Math.min.apply(Math,_E(e))+1)*(Math.max.apply(Math,_E(t))-Math.min.apply(Math,_E(t))+1)))(r,i)==o}function b_(e){return Array.from(e).sort(w_)}function __(e){e=e.sort(function(e,t){return e-t});return{first:e[0],last:e[e.length-1]}}function w_(e,t){return e.start.isBefore(t.start)?-1:1}function C_(e,t){return e.first<t==e.last<t}xE(O_,a),E_=SE(O_),CE(O_,[{key:"refresh",value:function(){var e=!!v_(this.editor.model.document.selection).length;this.isEnabled=e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,e=e.plugins.get("TableUtils"),n="above"===this.order,t=v_(t),r=m_(t),r=n?r.first:r.last,t=t[0].findAncestor("table");e.insertRows(t,{at:n?r:r+1,copyStructureFromAbove:!n})}}]);var x_,S_,E_,T_=O_,A_=(xE(I_,a),S_=SE(I_),CE(I_,[{key:"refresh",value:function(){var e=!!v_(this.editor.model.document.selection).length;this.isEnabled=e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,e=e.plugins.get("TableUtils"),n="left"===this.order,t=v_(t),r=y_(t),r=n?r.first:r.last,t=t[0].findAncestor("table");e.insertColumns(t,{columns:1,at:n?r:r+1})}}]),I_),P_=(xE(R_,a),x_=SE(R_),CE(R_,[{key:"refresh",value:function(){var e=v_(this.editor.model.document.selection);this.isEnabled=1===e.length}},{key:"execute",value:function(){var e=v_(this.editor.model.document.selection)[0],t="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");t?n.splitCellHorizontally(e,2):n.splitCellVertically(e,2)}}]),R_);function R_(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return wE(this,R_),(e=x_.call(this,e)).direction=t.direction||"horizontally",e}function I_(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return wE(this,I_),(e=S_.call(this,e)).order=t.order||"right",e}function O_(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return wE(this,O_),(e=E_.call(this,e)).order=t.order||"below",e}function M_(e,t,n){for(var r=t.startRow,i=t.startColumn,o=t.endRow,a=t.endColumn,s=n.createElement("table"),l=o-r+1,c=0;c<l;c++)n.insertElement("tableRow",s,"end");var u,h,d,f,p,g=bE(_E(new L(e,{startRow:r,endRow:o,startColumn:i,endColumn:a,includeAllSlots:!0})));try{for(g.s();!(u=g.n()).done;){var v,m=u.value,y=m.row,k=m.column,b=m.cell,_=m.isAnchor,w=m.cellAnchorRow,C=m.cellAnchorColumn,x=s.getChild(y-r);_?(v=n.cloneElement(b),n.append(v,x),F_(v,y,k,o,a,n)):(w<r||C<i)&&Jb(n,n.createPositionAt(x,"end"))}}catch(e){g.e(e)}finally{g.f()}return t=s,e=e,h=r,d=i,f=n,0<(p=parseInt(e.getAttribute("headingRows")||0))&&N("headingRows",p-h,t,f,0),0<(p=parseInt(e.getAttribute("headingColumns")||0))&&N("headingColumns",p-d,t,f,0),s}function N_(e,t,n){var r,i=[],o=bE(new L(e,{startRow:2<arguments.length&&void 0!==n?n:0,endRow:t-1}));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.row;s<t&&t<=s+a.cellHeight-1&&i.push(a)}}catch(e){o.e(e)}finally{o.f()}return i}function L_(e,t,n){var r=e.parent,i=r.parent,r=r.index,t=t-r,o={},a=parseInt(e.getAttribute("rowspan"))-t,a=(1<a&&(o.rowspan=a),parseInt(e.getAttribute("colspan")||1));1<a&&(o.colspan=a);var s,l,c=r+t,u=null,h=bE(_E(new L(i,{startRow:r,endRow:c,includeAllSlots:!0})));try{for(h.s();!(l=h.n()).done;){var d=l.value,f=d.row,p=d.column;void 0!==(s=d.cell===e&&void 0===s?p:s)&&s===p&&f===c&&(u=Jb(n,d.getPositionBefore(),o))}}catch(e){h.e(e)}finally{h.f()}return N("rowspan",t,e,n),u}function j_(e,t){var n,r=[],i=bE(new L(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.column;a<t&&t<=a+o.cellWidth-1&&r.push(o)}}catch(e){i.e(e)}finally{i.f()}return r}function D_(e,t,n,r){var n=n-t,t={},i=parseInt(e.getAttribute("colspan"))-n,i=(1<i&&(t.colspan=i),parseInt(e.getAttribute("rowspan")||1)),i=(1<i&&(t.rowspan=i),Jb(r,r.createPositionAfter(e),t));return N("colspan",n,e,r),i}function F_(e,t,n,r,i,o){var a=parseInt(e.getAttribute("colspan")||1),s=parseInt(e.getAttribute("rowspan")||1);i<n+a-1&&N("colspan",i-n+1,e,o,1),r<t+s-1&&N("rowspan",r-t+1,e,o,1)}function V_(e,t){var n,r=t.getColumns(e),i=new Array(r).fill(0),o=bE(new L(e));try{for(o.s();!(n=o.n()).done;)i[n.value.column]++}catch(e){o.e(e)}finally{o.f()}r=i.reduce(function(e,t,n){return t?e:[].concat(_E(e),[n])},[]);return 0<r.length&&(t.removeColumns(e,{at:r[r.length-1]}),1)}function z_(e,t){for(var n=[],r=t.getRows(e),i=0;i<r;i++)e.getChild(i).isEmpty&&n.push(i);return 0<n.length&&(t.removeRows(e,{at:n[n.length-1]}),1)}function B_(e,t){V_(e,t)||z_(e,t)}function H_(e,t){e=Array.from(new L(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));return e.every(function(e){return 1===e.cellHeight})?t.lastRow:t.lastRow+(e[0].cellHeight-1)}function U_(e,t){e=Array.from(new L(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));return e.every(function(e){return 1===e.cellWidth})?t.lastColumn:t.lastColumn+(e[0].cellWidth-1)}xE($_,a),q_=SE($_),CE($_,[{key:"refresh",value:function(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}},{key:"execute",value:function(){var a=this,e=this.editor.model,s=g_(e.document.selection)[0],l=this.value,c=this.direction;e.change(function(e){var t="right"==c||"down"==c,n=t?s:l,t=t?l:s,r=t.parent,i=(i=n,o=e,K_(t=t)||(K_(i)&&o.remove(o.createRangeIn(i)),o.move(o.createRangeIn(t),o.createPositionAt(i,"end"))),o.remove(t),a.isHorizontal?"colspan":"rowspan"),o=parseInt(s.getAttribute(i)||1),t=parseInt(l.getAttribute(i)||1),i=(e.setAttribute(i,o+t,n),e.setSelection(e.createRangeIn(n)),a.editor.plugins.get("TableUtils"));B_(r.findAncestor("table"),i)})}},{key:"_getMergeableCell",value:function(){var e=g_(this.editor.model.document.selection)[0];if(e){var t,n=this.editor.plugins.get("TableUtils"),n=(this.isHorizontal?(e,t,n)=>{var r,i,o,a="right"==t?e.nextSibling:e.previousSibling,s=0<(e.parent.parent.getAttribute("headingColumns")||0);if(a)return r="right"==t?a:e,e=n.getCellLocation(t="right"==t?e:a).column,i=n.getCellLocation(r).column,o=parseInt(t.getAttribute("colspan")||1),t=Qb(n,t),n=Qb(n,r),(!s||t==n)&&e+o===i?a:void 0}:(t,n,e)=>{var r=(i=t.parent).parent,i=r.getChildIndex(i);if(!("down"==n&&i===e.getRows(r)-1||"up"==n&&0===i)){var o,a,e=parseInt(t.getAttribute("rowspan")||1),s=r.getAttribute("headingRows")||0;if(!s||!("down"==n&&i+e===s||"up"==n&&i===s))return e=parseInt(t.getAttribute("rowspan")||1),s=_E(new L(r,{endRow:o="down"==n?i+e:i})),a=s.find(function(e){return e.cell===t}).column,(r=s.find(function(e){var t=e.row;return e.column===a&&("down"==n?t===o:o===t+e.cellHeight)}))&&r.cell}})(e,this.direction,n);if(n)return t=this.isHorizontal?"rowspan":"colspan",e=parseInt(e.getAttribute(t)||1),parseInt(n.getAttribute(t)||1)===e?n:void 0}}}]);var q_,W_=$_;function $_(e,t){return wE(this,$_),(e=q_.call(this,e)).direction=t.direction,e.isHorizontal="right"==e.direction||"left"==e.direction,e}function K_(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}xE(lw,a),Y_=SE(lw),CE(lw,[{key:"refresh",value:function(){var e=v_(this.editor.model.document.selection),t=e[0];t?(t=t.findAncestor("table"),t=this.editor.plugins.get("TableUtils").getRows(t)-1,e=m_(e),this.isEnabled=!(0===e.first&&e.last===t)):this.isEnabled=!1}},{key:"execute",value:function(){var e=this.editor.model,n=this.editor.plugins.get("TableUtils"),t=v_(e.document.selection),r=m_(t),t=t[0],i=t.findAncestor("table"),o=n.getCellLocation(t).column;e.change(function(e){n.removeRows(i,{at:r.first,rows:r.last-r.first+1});var t=((e,t,n,r)=>{var i,o=(e=e.getChild(Math.min(t,r-1))).getChild(0),a=0,s=bE(e.getChildren());try{for(s.s();!(i=s.n()).done;){var l=i.value;if(n<a)return o;o=l,a+=parseInt(l.getAttribute("colspan")||1)}}catch(e){s.e(e)}finally{s.f()}return o})(i,r.first,o,n.getRows(i));e.setSelection(e.createPositionAt(t,0))})}}]);var G_,Z_,J_,Q_,Y_,X_=lw,ew=(xE(sw,a),Q_=SE(sw),CE(sw,[{key:"refresh",value:function(){var e,t=v_(this.editor.model.document.selection),n=t[0];n?(n=n.findAncestor("table"),n=this.editor.plugins.get("TableUtils").getColumns(n),e=(t=y_(t)).first,this.isEnabled=t.last-e<n-1):this.isEnabled=!1}},{key:"execute",value:function(){var t,e,n=this,r=kE((s=v_(s=this.editor.model.document.selection),r=s[0],s=s.pop(),e=[r,s],r.isBefore(s)?e:e.reverse()),2),i=r[0],o=r[1],a=i.parent.parent,s=_E(new L(a)),l={first:s.find(function(e){return e.cell===i}).column,last:s.find(function(e){return e.cell===o}).column},c=(e=s,r=i,s=o,t=l,1<parseInt(s.getAttribute("colspan")||1)?s:r.previousSibling||s.nextSibling?s.nextSibling||r.previousSibling:(t.first?e.reverse().find(function(e){return e.column<t.first}):e.reverse().find(function(e){return e.column>t.last})).cell);this.editor.model.change(function(e){var t=l.last-l.first+1;n.editor.plugins.get("TableUtils").removeColumns(a,{at:l.first,columns:t}),e.setSelection(e.createPositionAt(c,0))})}}]),sw),tw=(xE(aw,a),J_=SE(aw),CE(aw,[{key:"refresh",value:function(){var t=this,e=v_(this.editor.model.document.selection),n=0<e.length;this.isEnabled=n,this.value=n&&e.every(function(e){return t._isInHeading(e,e.parent.parent)})}},{key:"execute",value:function(){var e,r,t,n,i,o;(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).forceValue!==this.value&&(t=v_((e=this.editor.model).document.selection),r=t[0].findAncestor("table"),n=(t=m_(t)).first,i=this.value?n:t.last+1,o=r.getAttribute("headingRows")||0,e.change(function(e){if(i){var t,n=bE(N_(r,i,o<i?o:0));try{for(n.s();!(t=n.n()).done;)L_(t.value.cell,i,e)}catch(e){n.e(e)}finally{n.f()}}N("headingRows",i,r,e,0)}))}},{key:"_isInHeading",value:function(e,t){t=parseInt(t.getAttribute("headingRows")||0);return!!t&&e.parent.index<t}}]),aw),nw=(xE(ow,a),Z_=SE(ow),CE(ow,[{key:"refresh",value:function(){var e=v_(this.editor.model.document.selection),t=this.editor.plugins.get("TableUtils"),n=0<e.length;this.isEnabled=n,this.value=n&&e.every(function(e){return Qb(t,e)})}},{key:"execute",value:function(){var e,i,t,n,o;(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).forceValue!==this.value&&(t=v_((e=this.editor.model).document.selection),i=t[0].findAncestor("table"),n=(t=y_(t)).first,o=this.value?n:t.last+1,e.change(function(e){if(o){var t,n=bE(j_(i,o));try{for(n.s();!(t=n.n()).done;){var r=t.value;D_(r.cell,r.column,o,e)}}catch(e){n.e(e)}finally{n.f()}}N("headingColumns",o,i,e,0)}))}}]),ow),rw=(xE(iw,r),G_=SE(iw),CE(iw,[{key:"init",value:function(){this.decorate("insertColumns"),this.decorate("insertRows")}},{key:"getCellLocation",value:function(e){var t,n=e.parent,r=n.parent,n=r.getChildIndex(n),i=bE(new L(r,{row:n}));try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.cell===e)return{row:o.row,column:o.column}}}catch(e){i.e(e)}finally{i.f()}}},{key:"createTable",value:function(e,t){var n=e.createElement("table");return cw(e,n,0,parseInt(t.rows)||2,parseInt(t.columns)||2),t.headingRows&&N("headingRows",t.headingRows,n,e,0),t.headingColumns&&N("headingColumns",t.headingColumns,n,e,0),n}},{key:"insertRows",value:function(y){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this.editor.model,k=e.at||0,b=e.rows||1,_=void 0!==e.copyStructureFromAbove,w=e.copyStructureFromAbove?k-1:k,C=this.getRows(y),x=this.getColumns(y);if(C<k)throw new A.a("tableutils-insertrows-insert-out-of-range",this,{options:e});t.change(function(e){var t=y.getAttribute("headingRows")||0;if(k<t&&N("headingRows",t+b,y,e,0),_||0!==k&&k!==C){var n,t=_?Math.max(k,w):k,t=new L(y,{endRow:t}),r=new Array(x).fill(1),i=bE(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.row,s=o.column,l=o.cellHeight,c=o.cellWidth,u=o.cell,h=a+l-1,d=a<=w&&w<=h;a<k&&k<=h?(e.setAttribute("rowspan",l+b,u),r[s]=-c):_&&d&&(r[s]=c)}}catch(e){i.e(e)}finally{i.f()}for(var f=0;f<b;f++){var p=e.createElement("tableRow");e.insert(p,y,k);for(var g=0;g<r.length;g++){var v=r[g],m=e.createPositionAt(p,"end");0<v&&Jb(e,m,1<v?{colspan:v}:null),g+=Math.abs(v)-1}}}else cw(e,y,k,b,x)})}},{key:"insertColumns",value:function(v){var m=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},y=e.at||0,k=e.columns||1;this.editor.model.change(function(e){var t=v.getAttribute("headingColumns"),t=(y<t&&e.setAttribute("headingColumns",t+k,v),m.getColumns(v));if(0!==y&&t!==y){var n,r=new L(v,{column:y,includeAllSlots:!0}),i=bE(r);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.row,s=o.cell,l=o.cellAnchorRow,c=o.cellWidth,u=o.cellHeight;if(o.cellAnchorColumn<y){e.setAttribute("colspan",c+k,s);for(var h=l+u-1,d=a;d<=h;d++)r.skipRow(d)}else uw(k,e,o.getPositionBefore())}}catch(e){i.e(e)}finally{i.f()}}else{var f,p=bE(v.getChildren());try{for(p.s();!(f=p.n()).done;){var g=f.value;g.is("element","tableRow")&&uw(k,e,e.createPositionAt(g,y?"end":0))}}catch(e){p.e(e)}finally{p.f()}}})}},{key:"removeRows",value:function(x,e){var S=this,t=this.editor.model,n=e.rows||1,r=this.getRows(x),E=e.at,T=E+n-1;if(r-1<T)throw new A.a("tableutils-removerows-row-index-out-of-range",this,{table:x,options:e});t.change(function(e){var t=((e,t,n)=>{var r,i=new Map,o=[],a=bE(new L(e,{endRow:n}));try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s.row,c=s.column,u=s.cellHeight,h=s.cell,d=l+u-1;t<=l&&l<=n&&n<d&&i.set(c,{cell:h,rowspan:u-(n-l+1)}),l<t&&t<=d&&o.push({cell:h,rowspan:u-(n<=d?n-t+1:d-t+1)})}}catch(e){a.e(e)}finally{a.f()}return{cellsToMove:i,cellsToTrim:o}})(x,E,T),n=t.cellsToMove,t=t.cellsToTrim;if(n.size){var r=x,i=1+T,o=n,a=e,s,l,n=_E(new L(r,{includeAllSlots:!0,row:i})),c=r.getChild(i),u=bE(n);try{for(u.s();!(l=u.n()).done;){var h,d,f,p,g=l.value,v=g.column,m=g.cell,y=g.isAnchor;o.has(v)?(d=(h=o.get(v)).cell,f=h.rowspan,p=s?a.createPositionAfter(s):a.createPositionAt(c,0),a.move(a.createRangeOn(d),p),N("rowspan",f,d,a),s=d):y&&(s=m)}}catch(e){u.e(e)}finally{u.f()}}for(var k=T;E<=k;k--)e.remove(x.getChild(k));var b,_,w=bE(t);try{for(w.s();!(b=w.n()).done;){var C=b.value;N("rowspan",C.rowspan,C.cell,e)}}catch(e){w.e(e)}finally{w.f()}r=E,i=T,n=e,_=(t=x).getAttribute("headingRows")||0,r<_&&N("headingRows",i<_?_-(i-r+1):r,t,n,0),V_(x,S)||z_(x,S)})}},{key:"removeColumns",value:function(h,e){var d=this,f=e.at,p=e.at+(e.columns||1)-1;this.editor.model.change(function(e){var t,n,r,i;n={first:f,last:p},r=e,(i=(t=h).getAttribute("headingColumns")||0)&&n.first<i&&(n=Math.min(i-1,n.last)-n.first+1,r.setAttribute("headingColumns",i-n,t));for(var o=p;f<=o;o--)for(var a=0,s=_E(new L(h));a<s.length;a++){var l=s[a],c=l.cell,u=l.column,l=l.cellWidth;u<=o&&1<l&&o<u+l?N("colspan",l-1,c,e):u===o&&e.remove(c)}z_(h,d)||V_(h,d)})}},{key:"splitCellVertically",value:function(u){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,e=this.editor.model,d=u.parent.parent,f=parseInt(u.getAttribute("rowspan")||1),p=parseInt(u.getAttribute("colspan")||1);e.change(function(e){if(1<p&&(r=(c=hw(p,h)).newCellsSpan,N("colspan",c.updatedSpan,u,e),c={},1<r&&(c.colspan=r),1<f&&(c.rowspan=f),uw(h<p?h-1:p-1,e,e.createPositionAfter(u),c)),p<h){var t,n=h-p,r=_E(new L(d)),i=r.find(function(e){return e.cell===u}).column,o=bE(r.filter(function(e){var t=e.cell,n=e.column;return t!==u&&n===i||n<i&&i<n+e.cellWidth}));try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.cell,l=a.cellWidth;e.setAttribute("colspan",l+n,s)}}catch(e){o.e(e)}finally{o.f()}var c={},r=(1<f&&(c.rowspan=f),uw(n,e,e.createPositionAfter(u),c),d.getAttribute("headingColumns")||0);i<r&&N("headingColumns",r+n,d,e)}})}},{key:"splitCellHorizontally",value:function(y){var k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,e=this.editor.model,t=y.parent,b=t.parent,_=b.getChildIndex(t),w=parseInt(y.getAttribute("rowspan")||1),C=parseInt(y.getAttribute("colspan")||1);e.change(function(e){if(1<w){var t=_E(new L(b,{startRow:_,endRow:_+w-1,includeAllSlots:!0})),n=hw(w,k),r=n.newCellsSpan,i=n.updatedSpan,o=(N("rowspan",i,y,e),t.find(function(e){return e.cell===y}).column),a={};1<r&&(a.rowspan=r),1<C&&(a.colspan=C);for(var s=0,l=t;s<l.length;s++){var c=l[s],u=c.column,h=c.row;_+i<=h&&u===o&&(h+_+i)%r==0&&uw(1,e,c.getPositionBefore(),a)}}if(w<k){var d,f=k-w,p=bE(_E(new L(b,{startRow:0,endRow:_})));try{for(p.s();!(d=p.n()).done;){var g=d.value,v=g.cell,m=g.cellHeight;v!==y&&_<g.row+m&&e.setAttribute("rowspan",m+f,v)}}catch(e){p.e(e)}finally{p.f()}n={},t=(1<C&&(n.colspan=C),cw(e,b,_+1,f,1,n),b.getAttribute("headingRows")||0);_<t&&N("headingRows",t+f,b,e)}})}},{key:"getColumns",value:function(e){return _E(e.getChild(0).getChildren()).reduce(function(e,t){return e+parseInt(t.getAttribute("colspan")||1)},0)}},{key:"getRows",value:function(e){return Array.from(e.getChildren()).reduce(function(e,t){return t.is("element","tableRow")?e+1:e},0)}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),iw);function iw(){return wE(this,iw),G_.apply(this,arguments)}function ow(){return wE(this,ow),Z_.apply(this,arguments)}function aw(){return wE(this,aw),J_.apply(this,arguments)}function sw(){return wE(this,sw),Q_.apply(this,arguments)}function lw(){return wE(this,lw),Y_.apply(this,arguments)}function cw(e,t,n,r,i,o){for(var a=5<arguments.length&&void 0!==o?o:{},s=0;s<r;s++){var l=e.createElement("tableRow");e.insert(l,t,n),uw(i,e,e.createPositionAt(l,"end"),a)}}function uw(e,t,n,r){for(var i=3<arguments.length&&void 0!==r?r:{},o=0;o<e;o++)Jb(t,n,i)}function hw(e,t){var n;return e<t?{newCellsSpan:1,updatedSpan:1}:{newCellsSpan:n=Math.floor(e/t),updatedSpan:e-n*t+n}}xE(pw,a),dw=SE(pw),CE(pw,[{key:"refresh",value:function(){var e=p_(this.editor.model.document.selection);this.isEnabled=k_(e,this.editor.plugins.get(rw))}},{key:"execute",value:function(){var c=this.editor.model,h=this.editor.plugins.get(rw);c.change(function(e){var u=p_(c.document.selection),t=u.shift(),n=((e,t)=>{var n,r=0,i=0,o=bE(u);try{for(o.s();!(n=o.n()).done;)var a=n.value,s=t.getCellLocation(a),l=s.row,r=vw(a,s.column,r,"colspan"),i=vw(a,l,i,"rowspan")}catch(e){o.e(e)}finally{o.f()}var c=(e=t.getCellLocation(e)).row;return{mergeWidth:r-e.column,mergeHeight:i-c}})(t,h),r=n.mergeWidth,n=n.mergeHeight;N("colspan",r,t,e),N("rowspan",n,t,e);var i,o,a,s,l=bE(u);try{for(l.s();!(i=l.n()).done;)a=t,s=e,gw(o=i.value)||(gw(a)&&s.remove(s.createRangeIn(a)),s.move(s.createRangeIn(o),s.createPositionAt(a,"end"))),s.remove(o)}catch(e){l.e(e)}finally{l.f()}B_(t.findAncestor("table"),h),e.setSelection(t,"in")})}}]);var dw,fw=pw;function pw(){return wE(this,pw),dw.apply(this,arguments)}function gw(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}function vw(e,t,n,r){e=parseInt(e.getAttribute(r)||1);return Math.max(n,t+e)}xE(ww,a),yw=SE(ww),CE(ww,[{key:"refresh",value:function(){var e=v_(this.editor.model.document.selection);this.isEnabled=0<e.length}},{key:"execute",value:function(){for(var e=this.editor.model,t=v_(e.document.selection),n=m_(t),r=t[0].findAncestor("table"),i=[],o=n.first;o<=n.last;o++){var a,s=bE(r.getChild(o).getChildren());try{for(s.s();!(a=s.n()).done;){var l=a.value;i.push(e.createRangeOn(l))}}catch(e){s.e(e)}finally{s.f()}}e.change(function(e){e.setSelection(i)})}}]);var mw,yw,kw=ww,bw=(xE(_w,a),mw=SE(_w),CE(_w,[{key:"refresh",value:function(){var e=v_(this.editor.model.document.selection);this.isEnabled=0<e.length}},{key:"execute",value:function(){var e,t=this.editor.model,n=v_(t.document.selection),r=n[0],n=n.pop(),i=r.findAncestor("table"),o=this.editor.plugins.get("TableUtils"),r=o.getCellLocation(r),o=o.getCellLocation(n),n=Math.min(r.column,o.column),r=Math.max(r.column,o.column),a=[],s=bE(new L(i,{startColumn:n,endColumn:r}));try{for(s.s();!(e=s.n()).done;){var l=e.value;a.push(t.createRangeOn(l.cell))}}catch(e){s.e(e)}finally{s.f()}t.change(function(e){e.setSelection(a)})}}]),_w);function _w(){return wE(this,_w),mw.apply(this,arguments)}function ww(){return wE(this,ww),yw.apply(this,arguments)}function Cw(e,t){var n=!1,e=(e=>{var t,n=parseInt(e.getAttribute("headingRows")||0),r=Array.from(e.getChildren()).reduce(function(e,t){return t.is("element","tableRow")?e+1:e},0),i=[],o=bE(new L(e));try{for(o.s();!(t=o.n()).done;){var a,s=t.value,l=s.row,c=s.cellHeight;c<2||(a=l<n?n:r)<l+c&&i.push({cell:s.cell,rowspan:a-l})}}catch(e){o.e(e)}finally{o.f()}return i})(e);if(e.length){var r,n=!0,i=bE(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;N("rowspan",o.rowspan,o.cell,t,1)}}catch(e){i.e(e)}finally{i.f()}}return n}function xw(n,e){var t,r=!1,i=(e=>{var t,n=new Array(e.childCount).fill(0),r=bE(new L(e,{includeAllSlots:!0}));try{for(r.s();!(t=r.n()).done;)n[t.value.rowIndex]++}catch(e){r.e(e)}finally{r.f()}return n})(n),o=[],a=bE(i.entries());try{for(a.s();!(t=a.n()).done;){var s=kE(t.value,2),l=s[0];!s[1]&&n.getChild(l).is("element","tableRow")&&o.push(l)}}catch(e){a.e(e)}finally{a.f()}if(o.length){var c,r=!0,u=bE(o.reverse());try{for(u.s();!(c=u.n()).done;){var h=c.value;e.remove(n.getChild(h)),i.splice(h,1)}}catch(e){u.e(e)}finally{u.f()}}var d=i.filter(function(e,t){return n.getChild(t).is("element","tableRow")}),f=d[0];if(!d.every(function(e){return e===f})){var p,g=d.reduce(function(e,t){return e<t?t:e},0),v=bE(d.entries());try{for(v.s();!(p=v.n()).done;){var m=kE(p.value,2),y=m[0],k=g-m[1];if(k){for(var b=0;b<k;b++)Jb(e,e.createPositionAt(n.getChild(y),"end"));r=!0}}}catch(e){v.e(e)}finally{v.f()}}return r}function Sw(e,t){var n,r=!1,i=bE(e.getChildren());try{for(i.s();!(n=i.n()).done;)r=Ew(n.value,t)||r}catch(e){i.e(e)}finally{i.f()}return r}function Ew(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;var n,e=Array.from(e.getChildren()).filter(function(e){return e.is("$text")}),r=bE(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.wrap(t.createRangeOn(i),"paragraph")}}catch(e){r.e(e)}finally{r.f()}return!!e.length}e(93);xE(Pw,r),Tw=SE(Pw),CE(Pw,[{key:"init",value:function(){var s,d,f,u,c,e=this.editor,t=e.model,n=t.schema,r=e.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowChildren:"$block",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),r.for("upcast").add(function(e){e.on("element:figure",function(e,r,t){var n;t.consumable.test(r.viewItem,{name:!0,classes:"table"})&&(n=(()=>{var e,t=bE(r.viewItem.getChildren());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.is("element","table"))return n}}catch(e){t.e(e)}finally{t.f()}})())&&t.consumable.test(n,{name:!0})&&(n=v(t.convertItem(n,r.modelCursor).modelRange.getItems()))&&(t.convertChildren(r.viewItem,t.writer.createPositionAt(n,"end")),t.updateConversionResult(n,r))})}),r.for("upcast").add(function(e){e.on("element:table",function(e,t,n){var r,i,o,a,s,l=t.viewItem;n.consumable.test(l,{name:!0})&&(r=(s=(e=>{for(var t,n={headingRows:0,headingColumns:0},r=[],i=[],o=0,a=Array.from(e.getChildren());o<a.length;o++){var s=a[o];if("tbody"===s.name||"thead"===s.name||"tfoot"===s.name){"thead"===s.name&&(t=t||s);var l,c=bE(Array.from(s.getChildren()).filter(function(e){return e.is("element","tr")}));try{for(c.s();!(l=c.n()).done;){var u,h=l.value;"thead"===h.parent.name&&h.parent===t?(n.headingRows++,r.push(h)):(i.push(h),u=(e=>{for(var t=0,n=0,r=Array.from(e.getChildren()).filter(function(e){return"th"===e.name||"td"===e.name});n<r.length&&"th"===r[n].name;)t+=parseInt(r[n].getAttribute("colspan")||1),n++;return t})(h),n.headingColumns<u&&(n.headingColumns=u))}}catch(e){c.e(e)}finally{c.f()}}}return n.rows=[].concat(r,i),n})(l)).rows,i=s.headingRows,o={},(s=s.headingColumns)&&(o.headingColumns=s),i&&(o.headingRows=i),a=n.writer.createElement("table",o),n.safeInsert(a,t.modelCursor))&&(n.consumable.consume(l,{name:!0}),r.forEach(function(e){return n.convertItem(e,n.writer.createPositionAt(a,"end"))}),n.convertChildren(l,n.writer.createPositionAt(a,"end")),a.isEmpty&&(s=n.writer.createElement("tableRow"),n.writer.insert(s,n.writer.createPositionAt(a,"end")),Jb(n.writer,n.writer.createPositionAt(s,"end"))),n.updateConversionResult(a,t))})}),r.for("editingDowncast").add(n_({asWidget:!0})),r.for("dataDowncast").add(n_()),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add(function(e){e.on("element:tr",function(e,t){t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()},{priority:"high"})}),r.for("editingDowncast").add(function(e){return e.on("insert:tableRow",function(e,t,r){var n=t.item;if(r.consumable.consume(n,"insert")){var i,o=n.parent,a=(()=>{var e,t=bE(r.mapper.toViewElement(o).getChildren());try{for(t.s();!(e=t.n()).done;){var n=e.value;if("table"===n.name)return n}}catch(e){t.e(e)}finally{t.f()}})(),s=o.getChildIndex(n),t=new L(o,{row:s}),l={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},c=new Map,u=bE(t);try{for(u.s();!(i=u.n()).done;){var h=i.value,d=c.get(s)||a_(a,n,s,l,r);c.set(s,d),r.consumable.consume(h.cell,"insert"),o_(h,l,r.writer.createPositionAt(d,"end"),r,{asWidget:!0})}}catch(e){u.e(e)}finally{u.f()}}})}),r.for("editingDowncast").add(function(e){return e.on("remove:tableRow",function(e,t,n){e.stop();var r,e=n.writer,i=n.mapper,t=i.toViewPosition(t.position).getLastMatchingPosition(function(e){return!e.item.is("element","tr")}).nodeAfter,o=t.parent.parent,t=e.createRangeOn(t),t=e.remove(t),a=bE(e.createRangeIn(t).getItems());try{for(a.s();!(r=a.n()).done;){var s=r.value;i.unbindViewElement(s)}}catch(e){a.e(e)}finally{a.f()}c_("thead",o,n),c_("tbody",o,n)},{priority:"higher"})}),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("upcast").add(Yb("td")),r.for("upcast").add(Yb("th")),r.for("editingDowncast").add(function(e){return e.on("insert:tableCell",function(e,t,n){var r=t.item;if(n.consumable.consume(r,"insert")){var i,o=r.parent,t=o.parent,a=t.getChildIndex(o),a=new L(t,{row:a}),s={headingRows:t.getAttribute("headingRows")||0,headingColumns:t.getAttribute("headingColumns")||0},l=bE(a);try{for(l.s();!(i=l.n()).done;){var c,u=i.value;if(u.cell===r)return c=n.mapper.toViewElement(o),void o_(u,s,n.writer.createPositionAt(c,o.getChildIndex(r)),n,{asWidget:!0})}}catch(e){l.e(e)}finally{l.f()}}})}),r.for("editingDowncast").elementToElement({model:"paragraph",view:r_,converterPriority:"high"}),r.attributeToAttribute({model:"colspan",view:"colspan"}),r.attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("editingDowncast").add(function(e){return e.on("attribute:headingColumns:table",function(e,t,n){var r,i,o,a,s,l=t.item;if(n.consumable.consume(t.item,e.name)){var c,u={headingRows:l.getAttribute("headingRows")||0,headingColumns:l.getAttribute("headingColumns")||0},e=t.attributeOldValue,t=t.attributeNewValue,h=bE(new L(l,{endColumn:(t<e?e:t)-1}));try{for(h.s();!(c=h.n()).done;)i=u,o=n,s=a=void 0,s=(r=c.value).cell,r=s_(r,i),(i=o.mapper.toViewElement(s))&&i.name!==r&&(i=s,s=r,o=(r=o).writer,a=r.mapper.toViewElement(i),ip(s=op(o.createEditableElement(s,a.getAttributes()),o),o,function(e,t,n){n.addClass(b(t.classes),e)},function(e,t,n){n.removeClass(b(t.classes),e)}),o.insert(o.createPositionAfter(a),s),o.move(o.createRangeIn(a),o.createPositionAt(s,0)),o.remove(o.createRangeOn(a)),r.mapper.unbindViewElement(a),r.mapper.bindElements(i,s))}catch(e){h.e(e)}finally{h.f()}}})}),e.commands.add("insertTable",new d_(e)),e.commands.add("insertTableRowAbove",new T_(e,{order:"above"})),e.commands.add("insertTableRowBelow",new T_(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new A_(e,{order:"left"})),e.commands.add("insertTableColumnRight",new A_(e,{order:"right"})),e.commands.add("removeTableRow",new X_(e)),e.commands.add("removeTableColumn",new ew(e)),e.commands.add("splitTableCellVertically",new P_(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new P_(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new fw(e)),e.commands.add("mergeTableCellRight",new W_(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new W_(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new W_(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new W_(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new nw(e)),e.commands.add("setTableRowHeader",new tw(e)),e.commands.add("selectTableRow",new kw(e)),e.commands.add("selectTableColumn",new bw(e)),(c=t).document.registerPostFixer(function(){var e,t=c.document.differ,n=new Set,r=bE(t.getChanges());try{for(r.s();!(e=r.n()).done;){var i,o=e.value;"attribute"==o.type&&(i=o.range.start.nodeAfter)&&i.is("element","table")&&"headingRows"==o.attributeKey&&n.add(i)}}catch(e){r.e(e)}finally{r.f()}if(n.size){var a,s=bE(n.values());try{for(s.s();!(a=s.n()).done;){var l=a.value;t.refreshItem(l)}}catch(e){s.e(e)}finally{s.f()}return!0}return!1}),(u=t).document.registerPostFixer(function(e){var t,n,r,i=e,e=u.document.differ.getChanges(),o=!1,a=new Set,s=bE(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,c=void 0;"table"==l.name&&"insert"==l.type&&(c=l.position.nodeAfter),"tableRow"!=l.name&&"tableCell"!=l.name||(c=l.position.findAncestor("table")),r=void 0,r=(n=l).attributeKey,(c="attribute"!==n.type||"headingRows"!==r&&"colspan"!==r&&"rowspan"!==r?c:l.range.start.findAncestor("table"))&&!a.has(c)&&(o=Cw(c,i)||o,o=xw(c,i)||o,a.add(c))}}catch(e){s.e(e)}finally{s.f()}return o}),d=t,f=e.editing.mapper,d.document.registerPostFixer(function(){var e,t=d.document.differ,n=f,r=new Set,i=bE(t.getChanges());try{for(i.s();!(e=i.n()).done;){var o=e.value,a=("attribute"==o.type?o.range.start:o.position).parent;a.is("element","tableCell")&&r.add(a)}}catch(e){i.e(e)}finally{i.f()}var s,l=bE(r.values());try{for(l.s();!(s=l.n()).done;){var c,u=bE(_E(s.value.getChildren()).filter(function(e){return t=n,!!(e=e).is("element","paragraph")&&!!(t=t.toViewElement(e))&&i_(e)!==t.is("element","span");var t}));try{for(u.s();!(c=u.n()).done;){var h=c.value;t.refreshItem(h)}}catch(e){u.e(e)}finally{u.f()}}}catch(e){l.e(e)}finally{l.f()}return!1}),(s=t).document.registerPostFixer(function(e){var t,n,r=e,i=!1,o=bE(s.document.differ.getChanges());try{for(o.s();!(t=o.n()).done;){var a=t.value;"insert"==a.type&&"table"==a.name&&(i=((e,t)=>{var n,r=!1,i=bE(e.getChildren());try{for(i.s();!(n=i.n()).done;){var o=n.value;o.is("element","tableRow")&&(r=Sw(o,t)||r)}}catch(e){i.e(e)}finally{i.f()}return r})(a.position.nodeAfter,r)||i),"insert"==a.type&&"tableRow"==a.name&&(i=Sw(a.position.nodeAfter,r)||i),"insert"==a.type&&"tableCell"==a.name&&(i=Ew(a.position.nodeAfter,r)||i),(n=a).position&&n.position.parent.is("element","tableCell")&&("insert"==n.type&&"$text"==n.name||"remove"==n.type)&&(i=Ew(a.position.parent,r)||i)}}catch(e){o.e(e)}finally{o.f()}return i})}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[rw]}}]);var Tw,Aw=Pw;function Pw(){return wE(this,Pw),Tw.apply(this,arguments)}e(95);xE(Fw,S),Ow=SE(Fw),CE(Fw,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var n=this.rows,r=this.columns;this.items.map(function(e,t){t=Math.floor(t/10)<n&&t%10<r;e.set("isOn",t)})}},{key:"_createGridCollection",value:function(){for(var e=[],t=0;t<100;t++){var n=Math.floor(t/10);e.push(new Nw(this.locale,n+1,t%10+1))}return this.createCollection(e)}}]);var Rw,Iw,Ow,Mw=Fw,Nw=(xE(Dw,S),Iw=SE(Dw),Dw),Lw=(xE(jw,r),Rw=SE(jw),CE(jw,[{key:"init",value:function(){var n=this,i=this.editor,o=this.editor.t,r="ltr"===i.locale.contentLanguageDirection;i.ui.componentFactory.add("insertTable",function(e){var t,n=i.commands.get("insertTable"),r=Jh(e);return r.bind("isEnabled").to(n),r.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),r.on("change:isOpen",function(){t||(t=new Mw(e),r.panelView.children.add(t),t.delegate("execute").to(r),r.buttonView.on("open",function(){t.rows=0,t.columns=0}),r.on("execute",function(){i.execute("insertTable",{rows:t.rows,columns:t.columns}),i.editing.view.focus()}))}),r}),i.ui.componentFactory.add("tableColumn",function(e){var t=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return n._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',t,e)}),i.ui.componentFactory.add("tableRow",function(e){var t=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return n._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',t,e)}),i.ui.componentFactory.add("mergeTableCells",function(e){var t=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return n._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',t,e)})}},{key:"_prepareDropdown",value:function(e,t,n,r){var i=this.editor,r=Jh(r),n=this._fillDropdownWithListOptions(r,n);return r.buttonView.set({label:e,icon:t,tooltip:!0}),r.bind("isEnabled").toMany(n,"isEnabled",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return e})}),this.listenTo(r,"execute",function(e){i.execute(e.source.commandName),i.editing.view.focus()}),r}},{key:"_prepareMergeSplitButtonDropdown",value:function(e,t,n,r){var i=this.editor,r=Jh(r,fh),o=i.commands.get("mergeTableCells"),n=this._fillDropdownWithListOptions(r,n);return r.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),r.bind("isEnabled").toMany([o].concat(_E(n)),"isEnabled",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return e})}),this.listenTo(r.buttonView,"execute",function(){i.execute("mergeTableCells"),i.editing.view.focus()}),this.listenTo(r,"execute",function(e){i.execute(e.source.commandName),i.editing.view.focus()}),r}},{key:"_fillDropdownWithListOptions",value:function(e,t){var n,r=this.editor,i=[],o=new wn,a=bE(t);try{for(a.s();!(n=a.n()).done;){d=f=h=u=c=l=s=void 0;var s=n.value,l=r,c=i,u=o,h=s.model=new kd(s.model),d=(f=s.model).commandName,f=f.bindIsOn;"button"!==s.type&&"switchbutton"!==s.type||(l=l.commands.get(d),c.push(l),h.set({commandName:d}),h.bind("isEnabled").to(l),f&&h.bind("isOn").to(l,"value")),h.set({withText:!0}),u.add(s)}}catch(e){a.e(e)}finally{a.f()}return Yh(e,o),i}}],[{key:"pluginName",get:function(){return"TableUI"}}]),jw);function jw(){return wE(this,jw),Rw.apply(this,arguments)}function Dw(e,t,n){wE(this,Dw);var r=(e=Iw.call(this,e)).bindTemplate;return e.set("isOn",!1),e.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",r.if("isOn","ck-on")],"data-row":t,"data-column":n}}),e}function Fw(e){wE(this,Fw);var r,e=(r=Ow.call(this,e)).bindTemplate;return r.items=r._createGridCollection(),r.set("rows",0),r.set("columns",0),r.bind("label").to(TE(r),"columns",TE(r),"rows",function(e,t){return"".concat(t,"  ").concat(e)}),r.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:r.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(function(e){e.preventDefault()}),click:e.to(function(){r.fire("execute")})}}),r.on("boxover",function(e,t){var t=t.target.dataset,n=t.row,t=t.column;r.set({rows:parseInt(n),columns:parseInt(t)})}),r.on("change:columns",function(){r._highlightGridBoxes()}),r.on("change:rows",function(){r._highlightGridBoxes()}),r}e(97);xE(qw,r),zw=SE(qw),CE(qw,[{key:"init",value:function(){var n=this;this.listenTo(this.editor.model,"deleteContent",function(e,t){return n._handleDeleteContent(e,t)},{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var e=p_(this.editor.model.document.selection);return 0==e.length?null:e}},{key:"getSelectionAsFragment",value:function(){var u=this,h=this.getSelectedTableCells();return h?this.editor.model.change(function(e){var t=e.createDocumentFragment(),n=u.editor.plugins.get("TableUtils"),r=y_(h),i=r.first,r=r.last,o=m_(h),a=o.first,o=o.last,s=h[0].findAncestor("table"),l=o,c=r,r=(k_(h,n)&&(l=H_(s,n={firstColumn:i,lastColumn:r,firstRow:a,lastRow:o}),c=U_(s,n)),M_(s,{startRow:a,startColumn:i,endRow:l,endColumn:c},e));return e.insert(r,t,0),t}):null}},{key:"setCellSelection",value:function(e,t){var n=this._getCellsToSelect(e,t);this.editor.model.change(function(t){t.setSelection(n.cells.map(function(e){return t.createRangeOn(e)}),{backward:n.backward})})}},{key:"getFocusCell",value:function(){var e=_E(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"getAnchorCell",value:function(){var e=v(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"_defineSelectionConverter",value:function(){var f=this,e=this.editor,p=new Set;e.conversion.for("editingDowncast").add(function(e){return e.on("selection",function(e,t,n){var r,i=n.writer,o=i,a=bE(p);try{for(a.s();!(r=a.n()).done;){var s=r.value;o.removeClass("ck-editor__editable_selected",s)}}catch(e){a.e(e)}finally{a.f()}p.clear();var l=f.getSelectedTableCells();if(l){var c,u=bE(l);try{for(u.s();!(c=u.n()).done;){var h=c.value,d=n.mapper.toViewElement(h);i.addClass("ck-editor__editable_selected",d),p.add(d)}}catch(e){u.e(e)}finally{u.f()}l=n.mapper.toViewElement(l[l.length-1]);i.setSelection(l,0)}},{priority:"lowest"})})}},{key:"_enablePluginDisabling",value:function(){var e=this,r=this.editor;this.on("change:isEnabled",function(){var n;e.isEnabled||(n=e.getSelectedTableCells())&&r.model.change(function(e){var t=e.createPositionAt(n[0],0),t=r.model.schema.getNearestSelectionRange(t);e.setSelection(t)})})}},{key:"_handleDeleteContent",value:function(e,t){var t=kE(t,2),n=t[0],t=t[1],i=this.editor.model,r=!t||"backward"==t.direction,o=p_(n);o.length&&(e.stop(),i.change(function(e){var t=o[r?o.length-1:0],t=(i.change(function(e){var t,n=bE(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;i.deleteContent(e.createSelection(r,"in"))}}catch(e){n.e(e)}finally{n.f()}}),i.schema.getNearestSelectionRange(e.createPositionAt(t,0)));n.is("documentSelection")?e.setSelection(t):n.setTo(t)}))}},{key:"_getCellsToSelect",value:function(e,t){var n,r=this.editor.plugins.get("TableUtils"),i=r.getCellLocation(e),r=r.getCellLocation(t),o=Math.min(i.row,r.row),t=Math.max(i.row,r.row),a=Math.min(i.column,r.column),s=Math.max(i.column,r.column),l=new Array(t-o+1).fill(null).map(function(){return[]}),t={startRow:o,endRow:t,startColumn:a,endColumn:s},c=bE(new L(e.findAncestor("table"),t));try{for(c.s();!(n=c.n()).done;){var u=n.value,h=u.row,d=u.cell;l[h-o].push(d)}}catch(e){c.e(e)}finally{c.f()}a=r.row<i.row,s=r.column<i.column;return a&&l.reverse(),s&&l.forEach(function(e){return e.reverse()}),{cells:l.flat(),backward:a||s}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[rw]}}]);var Vw,zw,Bw=qw,Hw=(xE(Uw,r),Vw=SE(Uw),CE(Uw,[{key:"init",value:function(){var n=this,e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",function(e,t){return n._onCopyCut(e,t)}),this.listenTo(t,"cut",function(e,t){return n._onCopyCut(e,t)}),this.listenTo(e.model,"insertContent",function(e,t){return n._onInsertContent.apply(n,[e].concat(_E(t)))},{priority:"high"}),this.decorate("_replaceTableSlotCell")}},{key:"_onCopyCut",value:function(e,t){var n,r=this.editor.plugins.get(Bw);!r.getSelectedTableCells()||"cut"==e.name&&this.editor.isReadOnly||(t.preventDefault(),e.stop(),n=this.editor.editing.view.document,r=this.editor.data.toView(r.getSelectionAsFragment()),n.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:r,method:e.name}))}},{key:"_onInsertContent",value:function(e,t,n){var p,g,v,m=this;(!n||n.is("documentSelection"))&&(n=this.editor.model,p=this.editor.plugins.get(rw),g=((e,t)=>{if(e.is("documentFragment")||e.is("element")){if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);var n,r=t.createRangeIn(e),i=bE(r.getItems());try{for(i.s();!(n=i.n()).done;){var o,a,s=n.value;if(s.is("element","table"))return o=t.createRange(r.start,t.createPositionBefore(s)),t.hasContent(o,{ignoreWhitespaces:!0})||(a=t.createRange(t.createPositionAfter(s),r.end),t.hasContent(a,{ignoreWhitespaces:!0}))?null:s}}catch(e){i.e(e)}finally{i.f()}}return null})(t,n))&&((v=v_(n.document.selection)).length?(e.stop(),n.change(function(t){var e,n,r,i,o,a,s,l={width:p.getColumns(g),height:p.getRows(g)},c=(d=l,u=t,c=p,s=(f=v)[0].findAncestor("table"),a=y_(f),h=m_(f),a={firstColumn:a.first,lastColumn:a.last,firstRow:h.first,lastRow:h.last},(h=1===f.length)&&(a.lastRow+=d.height-1,a.lastColumn+=d.width-1,d=s,e=a.lastRow+1,n=a.lastColumn+1,i=(r=c).getColumns(d),o=r.getRows(d),i<n&&r.insertColumns(d,{at:i,columns:n-i}),o<e)&&r.insertRows(d,{at:o,rows:e-o}),h||!k_(f,c)?(r={first:n=a.firstColumn,last:i=a.lastColumn},$w(d=s,n,h={first:e=a.firstRow,last:o=a.lastRow},f=u),$w(d,i+1,h,f),Ww(d,e,r,f),Ww(d,o+1,r,f,e)):(a.lastRow=H_(s,a),a.lastColumn=U_(s,a)),a),u=c.lastColumn-c.firstColumn+1,h={startRow:0,startColumn:0,endRow:Math.min(c.lastRow-c.firstRow+1,l.height)-1,endColumn:Math.min(u,l.width)-1},d=(g=M_(g,h,t),v[0].findAncestor("table")),f=m._replaceSelectedCellsWithPasted(g,l,d,c,t);m.editor.plugins.get("TableSelection").isEnabled?(s=b_(f.map(function(e){return t.createRangeOn(e)})),t.setSelection(s)):t.setSelection(f[0],0)})):B_(g,p))}},{key:"_replaceSelectedCellsWithPasted",value:function(e,t,n,r,i){for(var o,a=t.width,l=t.height,s=((e,t)=>{var n,r=new Array(l).fill(null).map(function(){return new Array(t).fill(null)}),i=bE(new L(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.column,s=o.cell;r[o.row][a]=s}}catch(e){i.e(e)}finally{i.f()}return r})(e,a),c=[],u=0,h=_E(new L(n,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0}));u<h.length;u++){var d=h[u],f=d.row,p=d.column,g=(p===r.firstColumn&&(o=d.getPositionBefore()),s[(f-r.firstRow)%l][(p-r.firstColumn)%a]),g=g?i.cloneElement(g):null,d=this._replaceTableSlotCell(d,g,o,i);d&&(F_(d,f,p,r.lastRow,r.lastColumn,i),c.push(d),o=i.createPositionAfter(d))}var t=parseInt(n.getAttribute("headingRows")||0),e=parseInt(n.getAttribute("headingColumns")||0),v=r.firstColumn<e&&e<=r.lastColumn;return r.firstRow<t&&t<=r.lastRow&&(t=Ww(n,t,{first:r.firstColumn,last:r.lastColumn},i,r.firstRow),c.push.apply(c,_E(t))),v&&(t=$w(n,e,{first:r.firstRow,last:r.lastRow},i),c.push.apply(c,_E(t))),c}},{key:"_replaceTableSlotCell",value:function(e,t,n,r){var i=e.cell;return e.isAnchor&&r.remove(i),t?(r.insert(t,n),t):null}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[Bw,rw]}}]),Uw);function Uw(){return wE(this,Uw),Vw.apply(this,arguments)}function qw(){return wE(this,qw),zw.apply(this,arguments)}function Ww(e,t,n,r,i){if(!(t<1))return N_(e,t,4<arguments.length&&void 0!==i?i:0).filter(function(e){return Kw(e.column,e.cellWidth,n)}).map(function(e){return L_(e.cell,t,r)})}function $w(e,t,n,r){if(!(t<1))return j_(e,t).filter(function(e){return Kw(e.row,e.cellHeight,n)}).map(function(e){return D_(e.cell,e.column,t,r)})}function Kw(e,t,n){var r=n.first;return r<=e&&e<=n.last||e<r&&r<=e+t-1}xE(n0,r),Jw=SE(n0),CE(n0,[{key:"init",value:function(){var e=this,t=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",function(){return e._handleTabOnSelectedTable.apply(e,arguments)},{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(t,"arrowKey",function(){return e._onArrowKey.apply(e,arguments)},{context:"table"})}},{key:"_handleTabOnSelectedTable",value:function(e,t){var n=this.editor,r=n.model.document.selection.getSelectedElement();r&&r.is("element","table")&&(t(),n.model.change(function(e){e.setSelection(e.createRangeIn(r.getChild(0).getChild(0)))}))}},{key:"_getTabHandler",value:function(u){var h=this,d=this.editor;return function(e,t){var n,r,i,o,a,s,l,c=g_(d.model.document.selection)[0];(c=c||h.editor.plugins.get("TableSelection").getFocusCell())&&(t(),t=c.parent,r=(n=t.parent).getChildIndex(t),i=0===(c=t.getChildIndex(c)),u||!i||0!==r?(o=h.editor.plugins.get("TableUtils"),a=c===t.childCount-1,l=r===o.getRows(n)-1,u&&l&&a&&(d.execute("insertTableRowBelow"),r===o.getRows(n)-1)?d.model.change(function(e){e.setSelection(e.createRangeOn(n))}):(s=u&&a?n.getChild(r+1).getChild(0):!u&&i?(l=n.getChild(r-1)).getChild(l.childCount-1):t.getChild(c+(u?1:-1)),d.model.change(function(e){e.setSelection(e.createRangeIn(s))}))):d.model.change(function(e){e.setSelection(e.createRangeOn(n))}))}}},{key:"_onArrowKey",value:function(e,t){var n=mi(t.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(n,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}},{key:"_handleArrowKeys",value:function(e,t){var n=this.editor.model.document.selection,r=["right","down"].includes(e),i=p_(n);return i.length?(i=t?this.editor.plugins.get("TableSelection").getFocusCell():r?i[i.length-1]:i[0],this._navigateFromCellInDirection(i,e,t),!0):!(!(i=n.focus.findAncestor("tableCell"))||t&&!n.isCollapsed&&n.isBackward==r||!this._isSelectionAtCellEdge(n,i,r)||(this._navigateFromCellInDirection(i,e,t),0))}},{key:"_isSelectionAtCellEdge",value:function(e,t,n){var r=this.editor.model,i=this.editor.model.schema,e=n?e.getLastPosition():e.getFirstPosition();return i.getLimitElement(e).is("element","tableCell")?(i=r.createSelection(e),r.modifySelection(i,{direction:n?"forward":"backward"}),e.isEqual(i.focus)):r.createPositionAt(t,n?"end":0).isTouching(e)}},{key:"_navigateFromCellInDirection",value:function(t,e){var n,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=this.editor.model,o=t.findAncestor("table"),a=_E(new L(o,{includeAllSlots:!0})),s=a[a.length-1],l=s.row,s=s.column,c=a.find(function(e){return e.cell==t}),u=c.row,h=c.column;switch(e){case"left":h--;break;case"up":u--;break;case"right":h+=c.cellWidth;break;case"down":u+=c.cellHeight}u<0||l<u||h<0&&u<=0||s<h&&l<=u?i.change(function(e){e.setSelection(e.createRangeOn(o))}):(h<0?(h=r?0:s,u--):s<h&&(h=r?s:0,u++),l=a.find(function(e){return e.row==u&&e.column==h}).cell,s=["right","down"].includes(e),a=this.editor.plugins.get("TableSelection"),r&&a.isEnabled?(e=a.getAnchorCell()||t,a.setCellSelection(e,l)):(n=i.createPositionAt(l,s?0:"end"),i.change(function(e){e.setSelection(n)})))}}],[{key:"pluginName",get:function(){return"TableKeyboard"}},{key:"requires",get:function(){return[Bw]}}]);var Gw,Zw,Jw,Qw=n0,Yw=(xE(t0,Kt),Zw=SE(t0),CE(t0,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),t0),Xw=(xE(e0,r),Gw=SE(e0),CE(e0,[{key:"init",value:function(){this.editor.editing.view.addObserver(Yw),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"_enableShiftClickSelection",value:function(){var i=this,o=this.editor,a=!1,s=o.plugins.get(Bw);this.listenTo(o.editing.view.document,"mousedown",function(e,t){var n,r;i.isEnabled&&s.isEnabled&&t.domEvent.shiftKey&&(n=s.getAnchorCell()||g_(o.model.document.selection)[0])&&(r=i._getModelTableCellFromDomEvent(t))&&r0(n,r)&&(a=!0,s.setCellSelection(n,r),t.preventDefault())}),this.listenTo(o.editing.view.document,"mouseup",function(){a=!1}),this.listenTo(o.editing.view.document,"selectionChange",function(e){a&&e.stop()},{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var r,i,o=this,e=this.editor,a=!1,s=!1,l=e.plugins.get(Bw);this.listenTo(e.editing.view.document,"mousedown",function(e,t){o.isEnabled&&l.isEnabled&&(t.domEvent.shiftKey||t.domEvent.ctrlKey||t.domEvent.altKey||(r=o._getModelTableCellFromDomEvent(t)))}),this.listenTo(e.editing.view.document,"mousemove",function(e,t){var n;t.domEvent.buttons&&r&&((n=o._getModelTableCellFromDomEvent(t))&&r0(r,n)&&(i=n,a||i==r||(a=!0)),a)&&(s=!0,l.setCellSelection(r,i),t.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",function(){s=a=!1,i=r=null}),this.listenTo(e.editing.view.document,"selectionChange",function(e){s&&e.stop()},{priority:"highest"})}},{key:"_getModelTableCellFromDomEvent",value:function(e){e=this.editor.editing.view.createPositionAt(e.target,0);return this.editor.editing.mapper.toModelPosition(e).parent.findAncestor("tableCell",{includeSelf:!0})}}],[{key:"pluginName",get:function(){return"TableMouse"}},{key:"requires",get:function(){return[Bw]}}]),e0);function e0(){return wE(this,e0),Gw.apply(this,arguments)}function t0(e){return wE(this,t0),(e=Zw.call(this,e)).domEventType=["mousemove","mouseleave"],e}function n0(){return wE(this,n0),Jw.apply(this,arguments)}function r0(e,t){return e.parent.parent==t.parent.parent}function i0(e){e=e.getSelectedElement();return e&&a0(e)?e:null}function o0(e){for(var t=e.getFirstPosition().parent;t;){if(t.is("element")&&a0(t))return t;t=t.parent}return null}function a0(e){return e.getCustomProperty("table")&&M(e)}e(99);var s0={autoRefresh:!0},s=(CE(l0,[{key:"init",value:function(){var n=this;return new Promise(function(e,t){n.value?(n._options.autoRefresh&&n._registerRefreshTokenTimeout(),e(n)):n.refreshToken().then(e).catch(t)})}},{key:"refreshToken",value:function(){var t=this;return this._refresh().then(function(e){t._validateTokenValue(e),t.set("value",e),t._options.autoRefresh&&t._registerRefreshTokenTimeout()}).then(function(){return t})}},{key:"destroy",value:function(){clearTimeout(this._tokenRefreshTimeout)}},{key:"_validateTokenValue",value:function(e){var t="string"==typeof e,n=!/^".*"$/.test(e),t=t&&3===e.split(".").length;if(!n||!t)throw new A.a("token-not-in-jwt-format",this)}},{key:"_registerRefreshTokenTimeout",value:function(){var e=this,t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(function(){e.refreshToken()},t)}},{key:"_getTokenRefreshTimeoutTime",value:function(){try{var e=kE(this.value.split("."),2)[1],t=JSON.parse(atob(e)).exp;return t?Math.floor((1e3*t-Date.now())/2):36e5}catch(e){return 36e5}}}],[{key:"create",value:function(e){return new l0(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:s0).init()}}]),l0);function l0(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s0;if(wE(this,l0),!t)throw new A.a("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh="function"==typeof t?t:function(){return e=t,new Promise(function(n,r){var i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",function(){var e=i.status,t=i.response;return e<200||299<e?r(new A.a("token-cannot-download-new-token",null)):n(t)}),i.addEventListener("error",function(){return r(new Error("Network Error"))}),i.addEventListener("abort",function(){return r(new Error("Abort"))}),i.send()});var e},this._options=Object.assign({},s0,e)}o(s,i);var c0=s,u0=/^data:(\S*?);base64,/,h0=(CE(d0,[{key:"onProgress",value:function(n){return this.on("progress",function(e,t){return n(t)}),this}},{key:"onError",value:function(n){return this.once("error",function(e,t){return n(t)}),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var n=this,t=this,r=this.xhr;function e(e){return function(){return t.fire("error",e)}}r.addEventListener("error",e("Network Error")),r.addEventListener("abort",e("Abort")),r.upload&&r.upload.addEventListener("progress",function(e){e.lengthComputable&&n.fire("progress",{total:e.total,uploaded:e.loaded})}),r.addEventListener("load",function(){var e=r.status,t=r.response;if(e<200||299<e)return n.fire("error",t.message||t.error)})}},{key:"_sendRequest",value:function(){var i=this,e=new FormData,o=this.xhr;return e.append("file",this.file),new Promise(function(n,r){o.addEventListener("load",function(){var e=o.status,t=o.response;return e<200||299<e?r(t.message?new A.a("fileuploader-uploading-data-failed",i,{message:t.message}):t.error):n(t)}),o.addEventListener("error",function(){return r(new Error("Network Error"))}),o.addEventListener("abort",function(){return r(new Error("Abort"))}),o.send(e)})}}]),d0);function d0(e,t,n){if(wE(this,d0),!e)throw new A.a("fileuploader-missing-file",null);if(!t)throw new A.a("fileuploader-missing-token",null);if(!n)throw new A.a("fileuploader-missing-api-address",null);this.file=(e=>{if("string"==typeof e)return(e=e.match(u0))&&e.length})(e)?function(e,t){var n=1<arguments.length&&void 0!==t?t:512;try{for(var r=e.match(u0)[1],i=atob(e.replace(u0,"")),o=[],a=0;a<i.length;a+=n){for(var s=i.slice(a,a+n),l=new Array(s.length),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);o.push(new Uint8Array(l))}return new Blob(o,{type:r})}catch(e){throw new A.a("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}o(h0,c);CE(C0,[{key:"upload",value:function(e){return new h0(e,this._token,this._apiAddress)}}]);var f0,p0,g0,v0=C0,m0=(xE(w0,Gt),g0=SE(w0),CE(w0,[{key:"createToken",value:function(e,t){return new c0(e,t)}},{key:"createUploadGateway",value:function(e,t){return new v0(e,t)}}],[{key:"pluginName",get:function(){return"CloudServicesCore"}}]),w0),y0=(xE(_0,r),p0=SE(_0),CE(_0,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"strikethrough"}),e.model.schema.setAttributeProperties("strikethrough",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"strikethrough",view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add("strikethrough",new Iv(e,"strikethrough")),e.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}],[{key:"pluginName",get:function(){return"StrikethroughEditing"}}]),_0),k0=(xE(b0,r),f0=SE(b0),CE(b0,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("strikethrough",function(e){var t=r.commands.get("strikethrough"),e=new E(e);return e.set({label:i("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("strikethrough"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"StrikethroughUI"}}]),b0);function b0(){return wE(this,b0),f0.apply(this,arguments)}function _0(){return wE(this,_0),p0.apply(this,arguments)}function w0(){return wE(this,w0),g0.apply(this,arguments)}function C0(e,t){if(wE(this,C0),!e)throw new A.a("uploadgateway-missing-token",null);if(!t)throw new A.a("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}function x0(e){var t,n=e.t,e=e.config.get("codeBlock.languages"),r=bE(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;"Plain text"===i.label&&(i.label=n("Plain text")),void 0===i.class&&(i.class="language-"+i.language)}}catch(e){r.e(e)}finally{r.f()}return e}function S0(e,t,n){var r,i={},o=bE(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;"class"===t?i[a[t].split(" ").shift()]=a[n]:i[a[t]]=a[n]}}catch(e){o.e(e)}finally{o.f()}return i}function E0(e){return e.data.match(/^(\s*)/)[0]}function T0(e){var t=e.document.selection,n=[];if(t.isCollapsed)n.push(t.anchor);else{var r,i=bE(t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"}));try{for(i.s();!(r=i.n()).done;){var o,a,s,l,c,u=r.value.item;u.is("$textProxy")&&u.parent.is("element","codeBlock")&&(o=E0(u.textNode),s=(a=u.textNode).parent,l=a.startOffset,c=e.createPositionAt(s,l+o.length),n.push(c))}}catch(e){i.e(e)}finally{i.f()}}return n}function A0(e){e=v(e.getSelectedBlocks());return e&&e.is("element","codeBlock")}xE(I0,a),P0=SE(I0),CE(I0,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,r=n.model,i=r.document.selection,n=x0(n)[0],o=Array.from(i.getSelectedBlocks()),a=void 0===e.forceValue?!this.value:e.forceValue,s=e.language||n.language;r.change(function(e){a?t._applyCodeBlock(e,o,s):t._removeCodeBlock(e,o)})}},{key:"_getValue",value:function(){var e=v(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!e.is("element","codeBlock"))&&e.getAttribute("language")}},{key:"_checkEnabled",value:function(){var e,t;return!!this.value||(e=this.editor.model.schema,!!(t=v(this.editor.model.document.selection.getSelectedBlocks()))&&O0(e,t))}},{key:"_applyCodeBlock",value:function(n,e,t){var r,i=this.editor.model.schema,o=e.filter(function(e){return O0(i,e)}),a=bE(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;n.rename(s,"codeBlock"),n.setAttribute("language",t,s),i.removeDisallowedAttributes([s],n)}}catch(e){a.e(e)}finally{a.f()}o.reverse().forEach(function(e,t){t=o[t+1];e.previousSibling===t&&(n.appendElement("softBreak",t),n.merge(n.createPositionBefore(e)))})}},{key:"_removeCodeBlock",value:function(e,t){var n,r=bE(t.filter(function(e){return e.is("element","codeBlock")}));try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=e.createRangeOn(o),s=bE(Array.from(a.getItems()).reverse());try{for(s.s();!(i=s.n()).done;){var l,c=i.value;c.is("element","softBreak")&&c.parent.is("element","codeBlock")&&(l=e.split(e.createPositionBefore(c)).position,e.rename(l.nodeAfter,"paragraph"),e.removeAttribute("language",l.nodeAfter),e.remove(c))}}catch(e){s.e(e)}finally{s.f()}e.rename(o,"paragraph"),e.removeAttribute("language",o)}}catch(e){r.e(e)}finally{r.f()}}}]);var P0,R0=I0;function I0(){return wE(this,I0),P0.apply(this,arguments)}function O0(e,t){return!t.is("rootElement")&&!e.isLimit(t)&&e.checkChild(t.parent,"codeBlock")}xE(F0,a),N0=SE(F0),CE(F0,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var i=this,o=this.editor.model;o.change(function(e){var t,n=bE(T0(o));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.insertText(i._indentSequence,r)}}catch(e){n.e(e)}finally{n.f()}})}},{key:"_checkEnabled",value:function(){return!!this._indentSequence&&A0(this.editor.model.document.selection)}}]);var M0,N0,L0=F0,j0=(xE(D0,a),M0=SE(D0),CE(D0,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var o=this,a=this.editor.model;a.change(function(e){var t,n=bE(T0(a));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=V0(o.editor.model,r,o._indentSequence);i&&e.remove(i)}}catch(e){n.e(e)}finally{n.f()}})}},{key:"_checkEnabled",value:function(){var t,n=this;return!!this._indentSequence&&!!A0((t=this.editor.model).document.selection)&&T0(t).some(function(e){return V0(t,e,n._indentSequence)})}}]),D0);function D0(e){var t;return wE(this,D0),(t=M0.call(this,e))._indentSequence=e.config.get("codeBlock.indentSequence"),t}function F0(e){var t;return wE(this,F0),(t=N0.call(this,e))._indentSequence=e.config.get("codeBlock.indentSequence"),t}function V0(e,t,n){var r,i,t=!(i=(i=(t=t).parent.getChild(t.index))&&!i.is("element","softBreak")?i:t.nodeBefore)||i.is("element","softBreak")?null:i;return!t||(r=(i=E0(t)).lastIndexOf(n))+n.length!==i.length||-1===r?null:(i=t.parent,t=t.startOffset,e.createRange(e.createPositionAt(i,t+r),e.createPositionAt(i,t+r+n.length)))}function z0(s,e,t){var l=2<arguments.length&&void 0!==t&&t,c=S0(e,"language","class"),u=S0(e,"language","label");return function(e,t,n){var r,i,o=n.writer,a=n.mapper;n.consumable.consume(t.item,"insert")&&(n=t.item.getAttribute("language"),r=a.toViewPosition(s.createPositionBefore(t.item)),i={},l&&(i["data-language"]=u[n],i.spellcheck="false"),i=o.createContainerElement("pre",i),n=o.createContainerElement("code",{class:c[n]||null}),o.insert(o.createPositionAt(i,0),n),o.insert(r,i),a.bindElements(t.item,n))}}xE(U0,r),B0=SE(U0),CE(U0,null,[{key:"pluginName",get:function(){return"CodeBlockEditing"}},{key:"requires",get:function(){return[$p]}}]),CE(U0,[{key:"init",value:function(){function e(n){return function(e,t){r.editor.commands.get(n).isEnabled&&(r.editor.execute(n),t())}}var h,d,o,r=this,a=this.editor,s=a.model.schema,l=a.model,t=x0(a);a.commands.add("codeBlock",new R0(a)),a.commands.add("indentCodeBlock",new L0(a)),a.commands.add("outdentCodeBlock",new j0(a));a.keystrokes.set("Tab",e("indentCodeBlock")),a.keystrokes.set("Shift+Tab",e("outdentCodeBlock")),s.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),s.addAttributeCheck(function(e){if(e.endsWith("codeBlock $text"))return!1}),a.editing.downcastDispatcher.on("insert:codeBlock",z0(l,t,!0)),a.data.downcastDispatcher.on("insert:codeBlock",z0(l,t)),a.data.downcastDispatcher.on("insert:softBreak",(o=l,function(e,t,n){var r,i;"codeBlock"===t.item.parent.name&&(r=n.writer,i=n.mapper,n.consumable.consume(t.item,"insert"))&&(n=i.toViewPosition(o.createPositionBefore(t.item)),r.insert(n,r.createText("\n")))}),{priority:"high"}),a.data.upcastDispatcher.on("element:code",(h=S0(t=t,"class","language"),d=t[0].language,function(e,t,n){var r=t.viewItem,i=r.parent;if(i&&i.is("element","pre")&&!t.modelCursor.findAncestor("codeBlock")){var i=n.consumable,o=n.writer;if(i.test(r,{name:!0})){var a=o.createElement("codeBlock"),s=_E(r.getClassNames());s.length||s.push("");var l,c=bE(s);try{for(c.s();!(l=c.n()).done;){var u=h[l.value];if(u){o.setAttribute("language",u,a);break}}}catch(e){c.e(e)}finally{c.f()}a.hasAttribute("language")||o.setAttribute("language",d,a),n.convertChildren(r,a),n.safeInsert(a,t.modelCursor)&&(i.consume(r,{name:!0}),n.updateConversionResult(a,t))}}})),a.data.upcastDispatcher.on("text",function(e,t,n){var r=n.consumable,i=n.writer,o=t.modelCursor;if(r.test(t.viewItem)&&o.findAncestor("codeBlock")){r.consume(t.viewItem);var a,n=t.viewItem.data.split("\n").map(function(e){return i.createText(e)}),s=n[n.length-1],l=bE(n);try{for(l.s();!(a=l.n()).done;){var c,u=a.value;i.insert(u,o),o=o.getShiftedBy(u.offsetSize),u!==s&&(c=i.createElement("softBreak"),i.insert(c,o),o=i.createPositionAfter(c))}}catch(e){l.e(e)}finally{l.f()}t.modelRange=i.createRange(t.modelCursor,o),t.modelCursor=o}}),this.listenTo(a.editing.view.document,"clipboardInput",function(e,t){var n,r,i,o=l.createRange(l.document.selection.anchor);(o=t.targetRanges?a.editing.mapper.toModelRange(t.targetRanges[0]):o).start.parent.is("element","codeBlock")&&(o=t.dataTransfer.getData("text/plain"),n=new lf(a.editing.view.document),t.content=(t=o,o=(r=n).createDocumentFragment(),t=(i=t.split("\n")).reduce(function(e,t,n){return e.push(t),n<i.length-1&&e.push(r.createElement("br")),e},[]),r.appendChild(t,o),o))}),this.listenTo(l,"getSelectedContent",function(i,e){var o=kE(e,1)[0],a=o.anchor;!o.isCollapsed&&a.parent.is("element","codeBlock")&&a.hasSameParentAs(o.focus)&&l.change(function(e){var t,n,r=i.return;1<r.childCount||o.containsEntireContent(a.parent)?(n=e.createElement("codeBlock",a.parent.getAttributes()),e.append(r,n),t=e.createDocumentFragment(),e.append(n,t),i.return=t):(n=r.getChild(0),s.checkAttribute(n,"code")&&e.setAttribute("code",!0,n))})})}},{key:"afterInit",value:function(){var h=this.editor,e=h.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentCodeBlock")),n&&n.registerChildCommand(e.get("outdentCodeBlock")),this.listenTo(h.editing.view.document,"enter",function(e,t){var n,r,i,o,a,s,l,c,u;h.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(o=h,a=t.isSoft,s=o.model.document,l=o.editing.view,c=s.selection.getLastPosition(),u=c.nodeAfter,(!a&&s.selection.isCollapsed&&c.isAtStart&&u&&u.is("element","softBreak")?(o.model.change(function(e){o.execute("enter");var t=s.selection.anchor.parent.previousSibling;e.rename(t,"paragraph"),e.setSelection(t,"in"),o.model.schema.removeDisallowedAttributes([t],e),e.remove(u)}),l.scrollToTheSelection(),1):((n,e)=>{var r,t=n.model,i=t.document,o=n.editing.view,a=i.selection.getLastPosition(),s=a.nodeBefore;if(!e&&i.selection.isCollapsed&&a.isAtEnd&&s){if(s.is("element","softBreak"))r=t.createRangeOn(s);else{if(!s.is("$text")||s.data.match(/\S/)||!s.previousSibling||!s.previousSibling.is("element","softBreak"))return;r=t.createRange(t.createPositionBefore(s.previousSibling),t.createPositionAfter(s))}return n.model.change(function(e){e.remove(r),n.execute("enter");var t=i.selection.anchor.parent;e.rename(t,"paragraph"),n.model.schema.removeDisallowedAttributes([t],e)}),o.scrollToTheSelection(),1}})(h,t.isSoft))||(i=(n=h).model.document,(a=(a=i.selection.getLastPosition()).nodeBefore||a.textNode)&&a.is("$text")&&(r=E0(a)),n.model.change(function(e){n.execute("shiftEnter"),r&&e.insertText(r,i.selection.anchor)})),t.preventDefault(),e.stop())},{context:"pre"})}}]);var B0,H0=U0;function U0(e){var t;return wE(this,U0),t=B0.call(this,e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"\t"}),t}e(101);xE(Y0,r),$0=SE(Y0),CE(Y0,[{key:"init",value:function(){var r=this,i=this.editor,o=i.t,e=i.ui.componentFactory,a=x0(i),s=a[0];e.add("codeBlock",function(e){var t=i.commands.get("codeBlock"),e=Jh(e,fh),n=e.buttonView;return n.set({label:o("Insert code block"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),n.bind("isOn").to(t,"value",function(e){return!!e}),n.on("execute",function(){i.execute("codeBlock",{language:s.language}),i.editing.view.focus()}),e.on("execute",function(e){i.execute("codeBlock",{language:e.source._codeBlockLanguage,forceValue:!0}),i.editing.view.focus()}),e.class="ck-code-block-dropdown",e.bind("isEnabled").to(t),Yh(e,r._getLanguageListItemDefinitions(a)),e})}},{key:"_getLanguageListItemDefinitions",value:function(e){var n,r=this.editor.commands.get("codeBlock"),i=new wn,t=bE(e);try{for(t.s();!(n=t.n()).done;)(()=>{var e=n.value,t={type:"button",model:new kd({_codeBlockLanguage:e.language,label:e.label,withText:!0})};t.model.bind("isOn").to(r,"value",function(e){return e===t.model._codeBlockLanguage}),i.add(t)})()}catch(e){t.e(e)}finally{t.f()}return i}}],[{key:"pluginName",get:function(){return"CodeBlockUI"}}]);var q0,W0,$0,K0=Y0,G0=(xE(Q0,a),W0=SE(Q0),CE(Q0,[{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=e.schema.checkAttributeInSelection(e.document.selection,"mention")}},{key:"execute",value:function(e){var r=this.editor.model,i=r.document.selection,t="string"==typeof e.mention?{id:e.mention}:e.mention,n=t.id,o=e.range||i.getFirstRange(),a=e.text||n,s=X0({_text:a,id:n},t);if(1!=e.marker.length)throw new A.a("mentioncommand-incorrect-marker",this);if(n.charAt(0)!=e.marker)throw new A.a("mentioncommand-incorrect-id",this);r.change(function(e){var t=Bn(i.getAttributes()),n=new Map(t.entries());n.set("mention",s),r.insertContent(e.createText(a,n),o),r.insertContent(e.createText(" ",t),o.start.getShiftedBy(a.length))})}}]),Q0),Z0=(xE(J0,r),q0=SE(J0),CE(J0,[{key:"init",value:function(){var e=this.editor,f=e.model,p=f.document;f.schema.extend("$text",{allowAttributes:"mention"}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:function(e){return e1(e)}}}),e.conversion.for("downcast").attributeToElement({model:"mention",view:n1}),e.conversion.for("downcast").add(t1),p.registerPostFixer(function(e){var t,n=e,e=p,r=f.schema,i=!1,o=bE(e.differ.getChanges());try{for(o.s();!(t=o.n()).done;){var a,s,l=t.value,c=l.position;if("$text"==l.name&&(a=c.textNode&&c.textNode.nextSibling,i=i1(c.textNode,n)||i,i=i1(a,n)||i,i=i1(c.nodeBefore,n)||i,i=i1(c.nodeAfter,n)||i),"$text"!=l.name&&"insert"==l.type){var u,h=c.nodeAfter,d=bE(n.createRangeIn(h).getItems());try{for(d.s();!(u=d.n()).done;)i=i1(u.value,n)||i}catch(e){d.e(e)}finally{d.f()}}"insert"==l.type&&r.isInline(l.name)&&(s=c.nodeAfter&&c.nodeAfter.nextSibling,i=i1(c.nodeBefore,n)||i,i=i1(s,n)||i)}}catch(e){o.e(e)}finally{o.f()}return i}),p.registerPostFixer(function(e){var t,n=e,r=!1,i=bE(p.differ.getChanges());try{for(i.s();!(t=i.n()).done;){var o=t.value;if("attribute"===o.type&&"mention"!=o.attributeKey)for(var a=o.range.start.nodeBefore,s=o.range.end.nodeAfter,l=0,c=[a,s];l<c.length;l++){var u=c[l];r1(u)&&u.getAttribute(o.attributeKey)!=o.attributeNewValue&&(n.setAttribute(o.attributeKey,o.attributeNewValue,u),r=!0)}}}catch(e){i.e(e)}finally{i.f()}return r}),p.registerPostFixer(function(e){var t=p.selection,n=t.focus;if(t.isCollapsed&&t.hasAttribute("mention")&&(n=(t=n).isAtStart,t.nodeBefore&&t.nodeBefore.is("$text")||n))return e.removeSelectionAttribute("mention"),!0}),e.commands.add("mention",new G0(e))}}],[{key:"pluginName",get:function(){return"MentionEditing"}}]),J0);function J0(){return wE(this,J0),q0.apply(this,arguments)}function Q0(){return wE(this,Q0),W0.apply(this,arguments)}function Y0(){return wE(this,Y0),$0.apply(this,arguments)}function X0(e,t){return Object.assign({uid:U()},e,t||{})}function e1(e,t){var n=e.getAttribute("data-mention"),e=e.getChild(0);if(e)return X0({id:n,_text:e.data},t)}function t1(e){e.on("attribute:mention",function(e,t,n){var r,i=t.attributeNewValue;t.item.is("$textProxy")&&i&&((r=t.range.start).textNode||r.nodeAfter).data!=i._text&&n.consumable.consume(t.item,e.name)},{priority:"highest"})}function n1(e,t){t=t.writer;if(e)return t.createAttributeElement("span",{class:"mention","data-mention":e.id},{id:e.uid,priority:20})}function r1(e){return e&&(e.is("$text")||e.is("$textProxy"))&&e.hasAttribute("mention")&&e.data!=e.getAttribute("mention")._text}function i1(e,t){return!!r1(e)&&(t.removeAttribute("mention",e),!0)}e(103);xE(m1,qh),l1=SE(m1),CE(m1,[{key:"selectFirst",value:function(){this.select(0)}},{key:"selectNext",value:function(){var e=this.items.getIndex(this.selected);this.select(e+1)}},{key:"selectPrevious",value:function(){var e=this.items.getIndex(this.selected);this.select(e-1)}},{key:"select",value:function(e){var t=0,e=(0<e&&e<this.items.length?t=e:e<0&&(t=this.items.length-1),this.items.get(t));this.selected!==e&&(this.selected&&this.selected.removeHighlight(),e.highlight(),this.selected=e,this._isItemVisibleInScrolledArea(e)||(this.element.scrollTop=e.element.offsetTop))}},{key:"executeSelected",value:function(){this.selected.fire("execute")}},{key:"_isItemVisibleInScrolledArea",value:function(e){return new f(this.element).contains(new f(e.element))}}]);var o1,a1,s1,l1,c1=m1,u1=(xE(v1,S),s1=SE(v1),CE(v1,[{key:"render",value:function(){yE(RE(v1.prototype),"render",this).call(this),this.element=this.domElement}}]),v1),h1=(xE(g1,Wh),a1=SE(g1),CE(g1,[{key:"highlight",value:function(){this.children.first.isOn=!0}},{key:"removeHighlight",value:function(){this.children.first.isOn=!1}}]),g1),d1=[d.arrowup,d.arrowdown,d.enter,d.tab,d.esc],f1=(xE(p1,r),o1=SE(p1),CE(p1,null,[{key:"pluginName",get:function(){return"MentionUI"}},{key:"requires",get:function(){return[Nd]}}]),CE(p1,[{key:"init",value:function(){var n=this,e=this.editor;this._balloon=e.plugins.get(Nd),e.editing.view.document.on("keydown",function(e,t){d1.includes(t.keyCode)&&n._isUIVisible&&(t.preventDefault(),e.stop(),t.keyCode==d.arrowdown&&n._mentionsView.selectNext(),t.keyCode==d.arrowup&&n._mentionsView.selectPrevious(),t.keyCode!=d.enter&&t.keyCode!=d.tab||n._mentionsView.executeSelected(),t.keyCode==d.esc)&&n._hideUIAndRemoveMarker()},{priority:"highest"}),gu({emitter:this._mentionsView,activator:function(){return n._isUIVisible},contextElements:[this._balloon.view.element],callback:function(){return n._hideUIAndRemoveMarker()}});var t,r,i=bE(e.config.get("mention.feeds"));try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.feed,s=o.marker;if(!(r=s)||1!=r.length)throw new A.a("mentionconfig-incorrect-marker",null,{marker:s});var l=o.minimumCharacters||0,c="function"==typeof a?a.bind(this.editor):(e=>function(t){return e.filter(function(e){return("string"==typeof e?e:String(e.id)).toLowerCase().includes(t.toLowerCase())}).slice(0,10)})(a),u={watcher:this._setupTextWatcherForFeed(s,l),marker:s,feedCallback:c,itemRenderer:o.itemRenderer};this._mentionsConfigurations.set(s,u)}}catch(e){i.e(e)}finally{i.f()}this.on("requestFeed:response",function(e,t){return n._handleFeedResponse(t)}),this.on("requestFeed:error",function(){return n._hideUIAndRemoveMarker()})}},{key:"destroy",value:function(){yE(RE(p1.prototype),"destroy",this).call(this),this._mentionsView.destroy()}},{key:"_createMentionView",value:function(){var s=this,i=this.editor.locale,o=new c1(i);return this._items=new wn,o.items.bindTo(this._items).using(function(e){var t=e.item,n=e.marker,e=new h1(i),r=s._renderItem(t,n);return r.delegate("execute").to(e),e.children.add(r),e.item=t,e.marker=n,e.on("execute",function(){o.fire("execute",{item:t,marker:n})}),e}),o.on("execute",function(e,t){var n=s.editor,r=n.model,i=t.item,t=t.marker,o=n.model.markers.get("mention"),a=r.createPositionAt(r.document.selection.focus),o=r.createPositionAt(o.getStart()),r=r.createRange(o,a);s._hideUIAndRemoveMarker(),n.execute("mention",{mention:i,text:i.text,marker:t,range:r}),n.editing.view.focus()}),o}},{key:"_getItemRenderer",value:function(e){return this._mentionsConfigurations.get(e).itemRenderer}},{key:"_requestFeed",value:function(t,n){var r=this,e=(this._lastRequested=n,(0,this._mentionsConfigurations.get(t).feedCallback)(n));e instanceof Promise?e.then(function(e){r.fire(r._lastRequested==n?"requestFeed:response":"requestFeed:discarded",{feed:e,marker:t,feedText:n})}).catch(function(e){r.fire("requestFeed:error",{error:e}),Object(A.b)("mention-feed-callback-error",{marker:t})}):this.fire("requestFeed:response",{feed:e,marker:t,feedText:n})}},{key:"_setupTextWatcherForFeed",value:function(s,e){var t,l=this,c=this.editor,e=new Cg(c.model,(t=y1(s,e),function(e){return t.test(e)})),n=(e.on("matched",function(e,t){var n,r,i,o,a=c.model.document.selection.focus;o=(i=a).textNode&&i.textNode.hasAttribute("mention"),i=i.nodeBefore,o||i&&i.is("$text")&&i.hasAttribute("mention")?l._hideUIAndRemoveMarker():(o=t.text,i=y1(s,0),t=o.match(i)[2],o=a.getShiftedBy(-(s.length+t.length)),i=a.getShiftedBy(-t.length),n=c.model.createRange(o,i),k1(c)?(r=c.model.markers.get("mention"),c.model.change(function(e){e.updateMarker(r,{range:n})})):c.model.change(function(e){e.addMarker("mention",{range:n,usingOperation:!1,affectsData:!1})}),l._requestFeedDebounced(s,t))}),e.on("unmatched",function(){l._hideUIAndRemoveMarker()}),c.commands.get("mention"));return e.bind("isEnabled").to(n),e}},{key:"_handleFeedResponse",value:function(e){var t=e.feed,n=e.marker;if(k1(this.editor)){this._items.clear();var r,i=bE(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;this._items.add({item:"object"!=typeof o?{id:o,text:o}:o,marker:n})}}catch(e){i.e(e)}finally{i.f()}e=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(e):this._hideUIAndRemoveMarker()}}},{key:"_showOrUpdateUI",value:function(e){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,this._mentionsView.position),withArrow:!1,singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}},{key:"_hideUIAndRemoveMarker",value:function(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),k1(this.editor)&&this.editor.model.change(function(e){return e.removeMarker("mention")}),this._mentionsView.position=void 0}},{key:"_renderItem",value:function(e,t){var n,r=this.editor,i=e.id,t=this._getItemRenderer(t);return t&&("string"!=typeof(t=t(e))?n=new u1(r.locale,t):i=t),n||((e=new E(r.locale)).label=i,e.withText=!0,n=e),n}},{key:"_getBalloonPanelPositionData",value:function(t,e){var n=this,r=this.editor,i=r.editing,o=i.view.domConverter,a=i.mapper;return{target:function(){var e=t.getRange(),e=("$graveyard"==e.start.root.rootName&&(e=r.model.document.selection.getFirstRange()),a.toViewRange(e));return f.getDomRangeRects(o.viewRangeToDom(e)).pop()},limiter:function(){var e=n.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},positions:(i=e,e={caret_se:function(e){return{top:e.bottom+3,left:e.right,name:"caret_se"}},caret_ne:function(e,t){return{top:e.top-t.height-3,left:e.right,name:"caret_ne"}},caret_sw:function(e,t){return{top:e.bottom+3,left:e.right-t.width,name:"caret_sw"}},caret_nw:function(e,t){return{top:e.top-t.height-3,left:e.right-t.width,name:"caret_nw"}}},Object.prototype.hasOwnProperty.call(e,i)?[e[i]]:[e.caret_se,e.caret_sw,e.caret_ne,e.caret_nw])}}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView===this._mentionsView}}]),p1);function p1(e){var t;return wE(this,p1),(t=o1.call(this,e))._mentionsView=t._createMentionView(),t._mentionsConfigurations=new Map,t._requestFeedDebounced=Co(t._requestFeed,100),e.config.define("mention",{feeds:[]}),t}function g1(){return wE(this,g1),a1.apply(this,arguments)}function v1(e,t){var r;return wE(this,v1),(r=s1.call(this,e)).template=!1,r.domElement=t,r.domElement.classList.add("ck-button"),r.set("isOn",!1),r.on("change:isOn",function(e,t,n){n?(r.domElement.classList.add("ck-on"),r.domElement.classList.remove("ck-off")):(r.domElement.classList.add("ck-off"),r.domElement.classList.remove("ck-on"))}),r.listenTo(r.domElement,"click",function(){r.fire("execute")}),r}function m1(e){return wE(this,m1),(e=l1.call(this,e)).extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}}),e}function y1(e,t){return new RegExp("(?:^|[ ".concat(ui?"\\p{Ps}\\p{Pi}\"'":"\\(\\[{\"'","])([").concat(e,"])([\\S]").concat(0==t?"*":"{".concat(t,",}"),")$"),"u")}function k1(e){return e.model.markers.has("mention")}e(105);xE(I1,r),C1=SE(I1),CE(I1,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("removeFormat",function(e){var t=r.commands.get("removeFormat"),e=new E(e);return e.set({label:i("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("removeFormat"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"RemoveFormatUI"}}]);var b1,_1,w1,C1,x1=I1,S1=(xE(R1,a),w1=SE(R1),CE(R1,[{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=!!v(this._getFormattingItems(e.document.selection,e.schema))}},{key:"execute",value:function(){var h=this,d=this.editor.model,f=d.schema;d.change(function(e){var t,n=bE(h._getFormattingItems(d.document.selection,f));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.is("selection")){var i,o=bE(h._getFormattingAttributes(r,f));try{for(o.s();!(i=o.n()).done;){var a=i.value;e.removeSelectionAttribute(a)}}catch(e){o.e(e)}finally{o.f()}}else{var s,l=e.createRangeOn(r),c=bE(h._getFormattingAttributes(r,f));try{for(c.s();!(s=c.n()).done;){var u=s.value;e.removeAttribute(u,l)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){n.e(e)}finally{n.f()}})}},{key:"_getFormattingItems",value:regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,l,c,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e){return!!v(u._getFormattingAttributes(e,n))},i=bE(t.getRanges()),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=27;break}o=bE(a.value.getItems()),e.prev=7,o.s();case 9:if((a=o.n()).done)e.next=17;else{if(l=a.value,e.t0=!n.isBlock(l)&&r(l),e.t0)return e.next=15,l;e.next=15}break;case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(7),o.e(e.t1);case 22:return e.prev=22,o.f(),e.finish(22);case 25:e.next=4;break;case 27:e.next=32;break;case 29:e.prev=29,e.t2=e.catch(2),i.e(e.t2);case 32:return e.prev=32,i.f(),e.finish(32);case 35:s=bE(t.getSelectedBlocks()),e.prev=36,s.s();case 38:if((l=s.n()).done)e.next=46;else{if(c=l.value,e.t3=r(c),e.t3)return e.next=44,c;e.next=44}break;case 44:e.next=38;break;case 46:e.next=51;break;case 48:e.prev=48,e.t4=e.catch(36),s.e(e.t4);case 51:return e.prev=51,s.f(),e.finish(51);case 54:if(e.t5=r(t),e.t5)return e.next=58,t;e.next=58;break;case 58:case"end":return e.stop()}},e,null,[[2,29,32,35],[7,19,22,25],[36,48,51,54]])})},{key:"_getFormattingAttributes",value:regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=bE(t.getAttributes()),e.prev=1,r.s();case 3:if((i=r.n()).done)e.next=12;else{if(i=kE(i.value,1),i=i[0],o=n.getAttributeProperties(i),e.t0=o&&o.isFormatting,e.t0)return e.next=10,i;e.next=10}break;case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(1),r.e(e.t1);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])})}]),R1),E1=(xE(P1,r),_1=SE(P1),CE(P1,[{key:"init",value:function(){var e=this.editor;e.commands.add("removeFormat",new S1(e))}}],[{key:"pluginName",get:function(){return"RemoveFormatEditing"}}]),P1),T1=(xE(A1,a),b1=SE(A1),CE(A1,[{key:"refresh",value:function(){var e,t,n;this.isEnabled=(e=this.editor.model,t=e.schema,((e,t,n)=>(n=(e=ap(e,n).parent).isEmpty&&!e.is("element","$root")?e.parent:e,t.checkChild(n,"horizontalLine")))(n=e.document.selection,t,e)&&!sp(n,t))}},{key:"execute",value:function(){var r=this.editor.model;r.change(function(e){var t=e.createElement("horizontalLine"),n=(r.insertContent(t),t.nextSibling);n&&r.schema.checkChild(n,"$text")||!r.schema.checkChild(t.parent,"paragraph")||(n=e.createElement("paragraph"),r.insertContent(n,e.createPositionAfter(t))),n&&e.setSelection(n,0)})}}]),A1);function A1(){return wE(this,A1),b1.apply(this,arguments)}function P1(){return wE(this,P1),_1.apply(this,arguments)}function R1(){return wE(this,R1),w1.apply(this,arguments)}function I1(){return wE(this,I1),C1.apply(this,arguments)}e(107);xE(z1,r),N1=SE(z1),CE(z1,[{key:"init",value:function(){var e=this.editor,o=e.t,t=e.conversion;e.model.schema.register("horizontalLine",{isObject:!0,allowWhere:"$block"}),t.for("dataDowncast").elementToElement({model:"horizontalLine",view:function(e,t){return t.writer.createEmptyElement("hr")}}),t.for("editingDowncast").elementToElement({model:"horizontalLine",view:function(e,t){var t=t.writer,n=o("Horizontal line"),r=t.createContainerElement("div"),i=t.createEmptyElement("hr");return t.addClass("ck-horizontal-line",r),t.setCustomProperty("hr",!0,r),t.insert(t.createPositionAt(r,0),i),i=r,r=n,(n=t).setCustomProperty("horizontalLine",!0,i),tp(i,n,{label:r})}}),t.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new T1(e))}}],[{key:"pluginName",get:function(){return"HorizontalLineEditing"}}]);var O1,M1,N1,L1=z1,j1=(xE(V1,r),M1=SE(V1),CE(V1,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("horizontalLine",function(e){var t=r.commands.get("horizontalLine"),e=new E(e);return e.set({label:i("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),e.bind("isEnabled").to(t,"isEnabled"),n.listenTo(e,"execute",function(){r.execute("horizontalLine"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"HorizontalLineUI"}}]),V1),D1=(xE(F1,a),O1=SE(F1),CE(F1,[{key:"refresh",value:function(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(function(e){return!!e.getAttribute("todoListChecked")}),this.isEnabled=!!this._selectedElements.length}},{key:"_getSelectedItems",value:function(){var e=this.editor.model,t=e.schema,e=e.document.selection.getFirstRange(),n=e.start.parent,r=[];t.checkAttribute(n,"todoListChecked")&&r.push(n);var i,o=bE(e.getItems());try{for(o.s();!(i=o.n()).done;){var a=i.value;t.checkAttribute(a,"todoListChecked")&&!r.includes(a)&&r.push(a)}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"execute",value:function(){var i=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.editor.model.change(function(e){var t,n=bE(i._selectedElements);try{for(n.s();!(t=n.n()).done;){var r=t.value;(void 0===o.forceValue?!i.value:o.forceValue)?e.setAttribute("todoListChecked",!0,r):e.removeAttribute("todoListChecked",r)}}catch(e){n.e(e)}finally{n.f()}})}}]),F1);function F1(e){var t;return wE(this,F1),(t=O1.call(this,e))._selectedElements=[],t.on("execute",function(){t.refresh()},{priority:"highest"}),t}function V1(){return wE(this,V1),M1.apply(this,arguments)}function z1(){return wE(this,z1),N1.apply(this,arguments)}function B1(e,t,n){var r=t.modelCursor,i=r.parent,o=t.viewItem;"checkbox"==o.getAttribute("type")&&"listItem"==i.name&&r.isAtStart&&n.consumable.consume(o,{name:!0})&&((o=n.writer).setAttribute("listType","todo",i),t.viewItem.hasAttribute("checked")&&o.setAttribute("todoListChecked",!0,i),t.modelRange=o.createRange(r))}function H1(i){return function(e,t){var n=t.modelPosition,r=n.parent;r.is("element","listItem")&&"todo"==r.getAttribute("listType")&&(r=q1(t.mapper.toViewElement(r),i))&&(t.viewPosition=t.mapper.findPositionIn(r,n.offset))}}function U1(n,e,r,i){return e.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(e){var t=ma(document,"input",{type:"checkbox"}),e=(r&&t.setAttribute("checked","checked"),t.addEventListener("change",function(){return i(n)}),this.toDomElement(e));return e.appendChild(t),e})}function q1(e,t){var n,r=bE(t.createRangeIn(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.item.is("containerElement","span")&&i.item.hasClass("todo-list__label__description"))return i.item}}catch(e){r.e(e)}finally{r.f()}}var W1,$1,K1=gi("Ctrl+Enter"),G1=(xE(Q1,r),$1=SE(Q1),CE(Q1,[{key:"init",value:function(){var t=this,n=this.editor,e=n.editing,r=n.data,i=n.model;i.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),i.schema.addAttributeCheck(function(e,t){e=e.last;if("todoListChecked"==t&&"listItem"==e.name&&"todo"!=e.getAttribute("listType"))return!1}),n.commands.add("todoList",new sb(n,"todo"));var u,h,a,s,o,l,c,d,f=new D1(n),p=(n.commands.add("checkTodoList",f),n.commands.add("todoListCheck",f),r.downcastDispatcher.on("insert:listItem",(d=i,function(e,t,n){var r,i,o,a,s=n.consumable;s.test(t.item,"insert")&&s.test(t.item,"attribute:listType")&&s.test(t.item,"attribute:listIndent")&&"todo"==t.item.getAttribute("listType")&&(t=t.item,s.consume(t,"insert"),s.consume(t,"attribute:listType"),s.consume(t,"attribute:listIndent"),s.consume(t,"attribute:todoListChecked"),s=n.writer,r=pb(t,n),s.addClass("todo-list",r.parent),i=s.createContainerElement("label",{class:"todo-list__label"}),o=s.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),a=s.createContainerElement("span",{class:"todo-list__label__description"}),t.getAttribute("todoListChecked")&&s.setAttribute("checked","checked",o),s.insert(s.createPositionAt(r,0),i),s.insert(s.createPositionAt(i,0),o),s.insert(s.createPositionAfter(o),a),gb(t,r,n,d))}),{priority:"high"}),r.upcastDispatcher.on("element:input",B1,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",(l=i,c=function(e){return t._handleCheckmarkChange(e)},function(e,t,n){var r,i,o,a=n.consumable;a.test(t.item,"insert")&&a.test(t.item,"attribute:listType")&&a.test(t.item,"attribute:listIndent")&&"todo"==t.item.getAttribute("listType")&&(t=t.item,a.consume(t,"insert"),a.consume(t,"attribute:listType"),a.consume(t,"attribute:listIndent"),a.consume(t,"attribute:todoListChecked"),a=n.writer,r=pb(t,n),i=!!t.getAttribute("todoListChecked"),i=U1(t,a,i,c),o=a.createContainerElement("span",{class:"todo-list__label__description"}),a.addClass("todo-list",r.parent),a.insert(a.createPositionAt(r,0),i),a.insert(a.createPositionAfter(i),o),gb(t,r,n,l))}),{priority:"high"}),e.downcastDispatcher.on("attribute:listType:listItem",(u=function(e){return t._handleCheckmarkChange(e)},h=e.view,function(e,t,n){var r,i,o,a,s,l=n.mapper.toViewElement(t.item),n=n.writer,c=(()=>{var e,t=bE(h.createRangeIn(l));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.item.is("uiElement","label"))return n.item}}catch(e){t.e(e)}finally{t.f()}})();"todo"==t.attributeNewValue?(r=!!t.item.getAttribute("todoListChecked"),r=U1(t.item,n,r,u),i=n.createContainerElement("span",{class:"todo-list__label__description"}),a=n.createRangeIn(l),o=bb(l),s=mb(a.start),o=o?n.createPositionBefore(o):a.end,a=n.createRange(s,o),n.addClass("todo-list",l.parent),n.move(a,n.createPositionAt(i,0)),n.insert(n.createPositionAt(l,0),r),n.insert(n.createPositionAfter(r),i)):"todo"==t.attributeOldValue&&(s=q1(l,h),n.removeClass("todo-list",l.parent),n.remove(c),n.move(n.createRangeIn(s),n.createPositionBefore(s)),n.remove(s))})),e.downcastDispatcher.on("attribute:todoListChecked:listItem",(o=function(e){return t._handleCheckmarkChange(e)},function(e,t,n){var r,i;"todo"==t.item.getAttribute("listType")&&n.consumable.consume(t.item,"attribute:todoListChecked")&&(i=n.mapper,n=n.writer,r=!!t.item.getAttribute("todoListChecked"),i=i.toViewElement(t.item).getChild(0),t=U1(t.item,n,r,o),n.insert(n.createPositionAfter(i),t),n.remove(i))})),e.mapper.on("modelToViewPosition",H1(e.view)),r.mapper.on("modelToViewPosition",H1(e.view)),this.listenTo(e.view.document,"arrowKey",(a=i,s=n.locale,function(e,t){var n,r,i,o;"left"==mi(t.keyCode,s.contentLanguageDirection)&&(n=a.schema,(r=a.document.selection).isCollapsed)&&"listItem"===(i=(r=r.getFirstPosition()).parent).name&&"todo"==i.getAttribute("listType")&&r.isAtStart&&((o=n.getNearestSelectionRange(a.createPositionBefore(i),"backward"))&&a.change(function(e){return e.setSelection(o)}),t.preventDefault(),t.stopPropagation(),e.stop())}),{context:"li"}),this.listenTo(e.view.document,"keydown",function(e,t){pi(t)===K1&&(n.execute("checkTodoList"),e.stop())},{priority:"high"}),new Set);this.listenTo(i,"applyOperation",function(e,t){t=t[0];if("rename"==t.type&&"listItem"==t.oldName){var n=t.position.nodeAfter;n.hasAttribute("todoListChecked")&&p.add(n)}else if("changeAttribute"==t.type&&"listType"==t.key&&"todo"===t.oldValue){var r,i=bE(t.range.getItems());try{for(i.s();!(r=i.n()).done;){var o=r.value;o.hasAttribute("todoListChecked")&&"todo"!==o.getAttribute("listType")&&p.add(o)}}catch(e){i.e(e)}finally{i.f()}}}),i.document.registerPostFixer(function(e){var t,n=!1,r=bE(p);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.removeAttribute("todoListChecked",i),n=!0}}catch(e){r.e(e)}finally{r.f()}return p.clear(),n})}},{key:"_handleCheckmarkChange",value:function(t){var n=this.editor,e=n.model,r=Array.from(e.document.selection.getRanges());e.change(function(e){e.setSelection(t,"end"),n.execute("checkTodoList"),e.setSelection(r)})}}],[{key:"pluginName",get:function(){return"TodoListEditing"}},{key:"requires",get:function(){return[Lb]}}]),Q1),Z1=(xE(J1,r),W1=SE(J1),CE(J1,[{key:"init",value:function(){kb(this.editor,"todoList",(0,this.editor.t)("To-do List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>')}}],[{key:"pluginName",get:function(){return"TodoListUI"}}]),J1);function J1(){return wE(this,J1),W1.apply(this,arguments)}function Q1(){return wE(this,Q1),$1.apply(this,arguments)}e(109),e(111);xE(e2,S),Y1=SE(e2);var Y1,X1=e2;function e2(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=(wE(this,e2),(t=Y1.call(this,e)).bindTemplate);return t.set("class",n.class||null),t.children=t.createCollection(),n.children&&n.children.forEach(function(e){return t.children.add(e)}),t.set("_role",null),t.set("_ariaLabelledBy",null),n.labelView&&t.set({_role:"group",_ariaLabelledBy:n.labelView.id}),t.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",e.to("class")],role:e.to("_role"),"aria-labelledby":e.to("_ariaLabelledBy")},children:t.children}),t}e(113);xE(r2,S),t2=SE(r2),CE(r2,[{key:"render",value:function(){function e(e){return e.stopPropagation()}var t=this,n=(yE(RE(r2.prototype),"render",this).call(this),mu({view:this}),[].concat(_E(this._integrations),[this.insertButtonView,this.cancelButtonView]));n.forEach(function(e){t._focusables.add(e),t.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element);this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(n[0].element,"selectstart",function(e,t){t.stopPropagation()},{priority:"high"})}},{key:"getIntegration",value:function(t){return this._integrations.find(function(e){return e.name===t})}},{key:"_createDropdownView",value:function(e){var t=e.t,e=Jh(e,fh),n=e.panelView;return e.buttonView.set({label:t("Insert image"),icon:uu,tooltip:!0}),n.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),e}},{key:"_createActionButtons",value:function(e){var t=e.t,n=new E(e),e=new E(e);return n.set({label:t("Insert"),icon:cu,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),e.set({label:t("Cancel"),icon:lu,class:"ck-button-cancel",withText:!0}),n.bind("isEnabled").to(this,"imageURLInputValue",function(e){return!!e}),n.delegate("execute").to(this,"submit"),e.delegate("execute").to(this,"cancel"),{insertButtonView:n,cancelButtonView:e}}},{key:"focus",value:function(){this._focusCycler.focusFirst()}}]);var t2,n2=r2;function r2(e,t){wE(this,r2);var r,n=(r=t2.call(this,e))._createActionButtons(e),i=n.insertButtonView,n=n.cancelButtonView;if(r.insertButtonView=i,r.cancelButtonView=n,r.dropdownView=r._createDropdownView(e),r.set("imageURLInputValue",""),r.focusTracker=new Aa,r.keystrokes=new Ia,r._focusables=new ku,r._focusCycler=new rh({focusables:r._focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r.set("_integrations",new wn),t)for(var o=0,a=Object.entries(t);o<a.length;o++)(()=>{var e=kE(a[o],2),t=e[0],n=e[1];"insertImageViaUrl"===t&&(n.fieldView.bind("value").to(TE(r),"imageURLInputValue",function(e){return e||""}),n.fieldView.on("input",function(){r.imageURLInputValue=n.fieldView.element.value.trim()})),n.name=t,r._integrations.add(n)})();return r.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[].concat(_E(r._integrations),[new X1(e,{children:[r.insertButtonView,r.cancelButtonView],class:"ck-image-insert-form__action-row"})])}),r}xE(c2,r),o2=SE(c2),CE(c2,[{key:"init",value:function(){function e(e){return t._createDropdownView(e)}var t=this,n=this.editor;n.ui.componentFactory.add("insertImage",e),n.ui.componentFactory.add("imageInsert",e)}},{key:"_createDropdownView",value:function(e){var n,r,t=this.editor,i=new n2(e,(e=(n=t).config.get("image.insert.integrations"),o=n.plugins.get("ImageInsertUI"),r={insertImageViaUrl:(i=n.locale,a=i.t,(i=new vd(i,yd)).set({label:a("Insert image via URL")}),i.fieldView.placeholder="https://example.com/image.png",i)},e?(e.find(function(e){return"openCKFinder"===e})&&n.ui.componentFactory.has("ckfinder")&&((a=n.ui.componentFactory.create("ckfinder")).set({withText:!0,class:"ck-image-insert__ck-finder-button"}),a.delegate("execute").to(o,"cancel"),r.openCKFinder=a),e.reduce(function(e,t){return r[t]?e[t]=r[t]:n.ui.componentFactory.has(t)&&(e[t]=n.ui.componentFactory.create(t)),e},{})):r)),o=t.commands.get("uploadImage"),a=i.dropdownView,e=a.buttonView;return e.actionView=t.ui.componentFactory.create("uploadImage"),e.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}}),this._setUpDropdown(a,i,o)}},{key:"_setUpDropdown",value:function(t,n,e){var r=this.editor,i=r.t,o=n.insertButtonView,a=n.getIntegration("insertImageViaUrl"),s=t.panelView;function l(){r.editing.view.focus(),t.isOpen=!1}return t.bind("isEnabled").to(e),t.buttonView.once("open",function(){s.children.add(n)}),t.on("change:isOpen",function(){var e=r.model.document.selection.getSelectedElement();t.isOpen&&(n.focus(),Ym(e)?(n.imageURLInputValue=e.getAttribute("src"),o.label=i("Update"),a.label=i("Update image URL")):(n.imageURLInputValue="",o.label=i("Insert"),a.label=i("Insert image via URL")))},{priority:"low"}),n.delegate("submit","cancel").to(t),this.delegate("cancel").to(t),t.on("submit",function(){var t;l(),Ym(t=r.model.document.selection.getSelectedElement())?r.model.change(function(e){e.setAttribute("src",n.imageURLInputValue,t),e.removeAttribute("srcset",t),e.removeAttribute("sizes",t)}):r.execute("insertImage",{source:n.imageURLInputValue})}),t.on("cancel",function(){l()}),t}}],[{key:"pluginName",get:function(){return"ImageInsertUI"}}]);var i2,o2,a2=c2,s2=(xE(l2,r),i2=SE(l2),CE(l2,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("image",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(function(e){e.on("element:a",function(e,t,n){var r,i=t.viewItem,o=h2(i);o&&n.consumable.consume(i,{attributes:["href"]})&&(i=i.getAttribute("href"))&&((r=t.modelCursor.parent).is("element","image")||(o=n.convertItem(o,t.modelCursor),t.modelRange=o.modelRange,t.modelCursor=o.modelCursor,r=t.modelCursor.nodeBefore),r)&&r.is("element","image")&&n.writer.setAttribute("linkHref",i,r)},{priority:"high"})}),e.conversion.for("editingDowncast").add(u2({attachIconIndicator:!0})),e.conversion.for("dataDowncast").add(u2({attachIconIndicator:!1})),this._enableAutomaticDecorators(),this._enableManualDecorators()}},{key:"_enableAutomaticDecorators",value:function(){var e=this.editor,t=e.commands.get("link").automaticDecorators;t.length&&e.conversion.for("downcast").add(t.getDispatcherForLinkedImage())}},{key:"_enableManualDecorators",value:function(){var e,t=this.editor,n=t.commands.get("link"),r=n.manualDecorators,i=bE(n.manualDecorators);try{for(i.s();!(e=i.n()).done;){var o=e.value;t.model.schema.extend("image",{allowAttributes:o.id}),t.conversion.for("downcast").add(((u,h)=>function(e){e.on("attribute:".concat(h.id,":image"),function(e,t,n){var r=u.get(h.id).attributes,t=n.mapper.toViewElement(t.item),i=Array.from(t.getChildren()).find(function(e){return"a"===e.name});if(i){var o,a=bE(Bn(r));try{for(a.s();!(o=a.n()).done;){var s=kE(o.value,2),l=s[0],c=s[1];n.writer.setAttribute(l,c,i)}}catch(e){a.e(e)}finally{a.f()}}})})(r,o)),t.conversion.for("upcast").add(((o,a)=>function(e){e.on("element:a",function(e,t,n){var r,i=t.viewItem;h2(i)&&(r={attributes:o.get(a.id).attributes},r=new Hn(r).match(i))&&n.consumable.consume(i,r.match)&&n.writer.setAttribute(a.id,!0,t.modelCursor.nodeBefore||t.modelCursor.parent)},{priority:"high"})})(r,o))}}catch(e){i.e(e)}finally{i.f()}}}],[{key:"requires",get:function(){return["ImageEditing",Vk]}},{key:"pluginName",get:function(){return"LinkImageEditing"}}]),l2);function l2(){return wE(this,l2),i2.apply(this,arguments)}function c2(){return wE(this,c2),o2.apply(this,arguments)}function u2(s){return function(e){e.on("attribute:linkHref:image",function(e,t,n){var r,i,o=n.mapper.toViewElement(t.item),n=n.writer,a=Array.from(o.getChildren()).find(function(e){return"a"===e.name});s.attachIconIndicator&&(r=n.createUIElement("span",{class:"ck ck-link-image_icon"},function(e){e=this.toDomElement(e);return e.innerHTML=Jk,e})),a?t.attributeNewValue?n.setAttribute("href",t.attributeNewValue,a):(i=Array.from(a.getChildren()).find(function(e){return"img"===e.name}),n.move(n.createRangeOn(i),n.createPositionAt(o,0)),n.remove(a)):(i=n.createContainerElement("a",{href:t.attributeNewValue}),n.insert(n.createPositionAt(o,0),i),n.move(n.createRangeOn(o.getChild(1)),n.createPositionAt(i,0)),r&&n.insert(n.createPositionAt(i,"end"),r))})}}function h2(e){return Array.from(e.getChildren()).find(function(e){return"img"===e.name})}xE(p2,r),d2=SE(p2),CE(p2,[{key:"init",value:function(){var n=this.editor,r=n.editing.view.document;this.listenTo(r,"click",function(e,t){g2(r.selection.getSelectedElement(),n.plugins.get("Image"))&&t.preventDefault()}),this._createToolbarLinkImageButton()}},{key:"_createToolbarLinkImageButton",value:function(){var r=this,i=this.editor,o=i.t;i.ui.componentFactory.add("linkImage",function(e){var e=new E(e),t=i.plugins.get("LinkUI"),n=i.commands.get("link");return e.set({isEnabled:!0,label:o("Link image"),icon:Jk,keystroke:"Ctrl+K",tooltip:!0,isToggleable:!0}),e.bind("isEnabled").to(n,"isEnabled"),e.bind("isOn").to(n,"value",function(e){return!!e}),r.listenTo(e,"execute",function(){g2(i.editing.view.document.selection.getSelectedElement(),i.plugins.get("Image"))?t._addActionsView():t._showUI(!0)}),e})}}],[{key:"requires",get:function(){return[Vk,Qk,"Image"]}},{key:"pluginName",get:function(){return"LinkImageUI"}}]);var d2,f2=p2;function p2(){return wE(this,p2),d2.apply(this,arguments)}function g2(e,t){return e&&t.isImageWidget(e)&&e.getChild(0).is("element","a")}e(115);var v2,m2="code",y2=(xE(k2,r),v2=SE(k2),CE(k2,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:m2}),e.model.schema.setAttributeProperties(m2,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:m2,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),e.commands.add(m2,new Iv(e,m2)),e.plugins.get(Eg).registerAttribute(m2),zg(e,m2,"code","ck-code_selected")}}],[{key:"pluginName",get:function(){return"CodeEditing"}},{key:"requires",get:function(){return[Eg]}}]),k2);function k2(){return wE(this,k2),v2.apply(this,arguments)}e(13);xE(C2,r),b2=SE(C2),CE(C2,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("code",function(e){var t=r.commands.get("code"),e=new E(e);return e.set({label:i("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("code"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"CodeUI"}}]);var b2,_2=C2,w2=["left","right","center","justify"];function C2(){return wE(this,C2),b2.apply(this,arguments)}function x2(e){return w2.includes(e)}function S2(e,t){return"rtl"==t.contentLanguageDirection?"right"===e:"left"===e}function E2(r){var e=r.map(function(e){return"string"==typeof e?{name:e}:e}).filter(function(e){var t=!!w2.includes(e.name);return t||Object(A.b)("alignment-config-name-not-recognized",{option:e}),t}),t=e.filter(function(e){return!!e.className}).length;if(t&&t<e.length)throw new A.a("alignment-config-classnames-are-missing",{configuredOptions:r});return e.forEach(function(t,e,n){n=n.slice(e+1);if(n.some(function(e){return e.name==t.name}))throw new A.a("alignment-config-name-already-defined",{option:t,configuredOptions:r});if(t.className&&n.some(function(e){return e.className==t.className}))throw new A.a("alignment-config-classname-already-defined",{option:t,configuredOptions:r})}),e}xE(j2,a),P2=SE(j2),CE(j2,[{key:"refresh",value:function(){var e=this.editor.locale,t=v(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.value=this.isEnabled&&t.hasAttribute("alignment")?t.getAttribute("alignment"):"rtl"===e.contentLanguageDirection?"right":"left"}},{key:"execute",value:function(){var d=this,e=this.editor,f=e.locale,e=e.model,p=e.document,g=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value;e.change(function(e){var t=Array.from(p.selection.getSelectedBlocks()).filter(function(e){return d._canBeAligned(e)}),n=t[0].getAttribute("alignment");if(S2(g,f)||n===g||!g){var r,i=e,o=bE(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.removeAttribute("alignment",a)}}catch(e){o.e(e)}finally{o.f()}}else{var s,l=e,c=g,u=bE(t);try{for(u.s();!(s=u.n()).done;){var h=s.value;l.setAttribute("alignment",c,h)}}catch(e){u.e(e)}finally{u.f()}}})}},{key:"_canBeAligned",value:function(e){return this.editor.model.schema.checkAttribute(e,"alignment")}}]);var T2,A2,P2,R2=j2,I2=(xE(L2,r),A2=SE(L2),CE(L2,null,[{key:"pluginName",get:function(){return"AlignmentEditing"}}]),CE(L2,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.model.schema,i=E2(e.config.get("alignment.options")).filter(function(e){return x2(e.name)&&!S2(e.name,t)}),r=i.some(function(e){return!!e.className});n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),r?e.conversion.attributeToAttribute((e=>{var t,n={model:{key:"alignment",values:e.map(function(e){return e.name})},view:{}},r=bE(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.view[i.name]={key:"class",value:i.className}}}catch(e){r.e(e)}finally{r.f()}return n})(i)):e.conversion.for("downcast").attributeToAttribute((e=>{var t,n={model:{key:"alignment",values:e.map(function(e){return e.name})},view:{}},r=bE(e);try{for(r.s();!(t=r.n()).done;){var i=t.value.name;n.view[i]={key:"style",value:{"text-align":i}}}}catch(e){r.e(e)}finally{r.f()}return n})(i));var o,n=(()=>{var e,t=[],n=bE(i);try{for(n.s();!(e=n.n()).done;){var r=e.value.name;t.push({view:{key:"style",value:{"text-align":r}},model:{key:"alignment",value:r}})}}catch(e){n.e(e)}finally{n.f()}return t})(),a=bE(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.conversion.for("upcast").attributeToAttribute(s)}}catch(e){a.e(e)}finally{a.f()}var l,r=(()=>{var e,t=[],n=bE(i);try{for(n.s();!(e=n.n()).done;){var r=e.value.name;t.push({view:{key:"align",value:r},model:{key:"alignment",value:r}})}}catch(e){n.e(e)}finally{n.f()}return t})(),c=bE(r);try{for(c.s();!(l=c.n()).done;){var u=l.value;e.conversion.for("upcast").attributeToAttribute(u)}}catch(e){c.e(e)}finally{c.f()}e.commands.add("alignment",new R2(e))}}]),L2),O2=new Map([["left",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'],["right",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>'],["center",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'],["justify",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>']]),M2=(xE(N2,r),T2=SE(N2),CE(N2,[{key:"init",value:function(){var t=this,e=this.editor,n=e.ui.componentFactory,r=e.t,a=E2(e.config.get("alignment.options"));a.map(function(e){return e.name}).filter(x2).forEach(function(e){return t._addButton(e)}),n.add("alignment",function(e){var t=Jh(e),i=a.map(function(e){return n.create("alignment:"+e.name)}),o=(Qh(t,i),t.buttonView.set({label:r("Text alignment"),tooltip:!0}),t.toolbarView.isVertical=!0,t.toolbarView.ariaLabel=r("Text alignment toolbar"),t.extendTemplate({attributes:{class:"ck-alignment-dropdown"}}),O2.get("rtl"===e.contentLanguageDirection?"right":"left"));return t.buttonView.bind("icon").toMany(i,"isOn",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.findIndex(function(e){return e});return r<0?o:i[r].icon}),t.bind("isEnabled").toMany(i,"isEnabled",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return e})}),t})}},{key:"_addButton",value:function(n){var r=this,i=this.editor;i.ui.componentFactory.add("alignment:"+n,function(e){var t=i.commands.get("alignment"),e=new E(e);return e.set({label:r.localizedOptionTitles[n],icon:O2.get(n),tooltip:!0,isToggleable:!0}),e.bind("isEnabled").to(t),e.bind("isOn").to(t,"value",function(e){return e===n}),r.listenTo(e,"execute",function(){i.execute("alignment",{value:n}),i.editing.view.focus()}),e})}},{key:"localizedOptionTitles",get:function(){var e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}}],[{key:"pluginName",get:function(){return"AlignmentUI"}}]),N2);function N2(){return wE(this,N2),T2.apply(this,arguments)}function L2(e){var t;return wE(this,L2),t=A2.call(this,e),e.config.define("alignment",{options:_E(w2.map(function(e){return{name:e}}))}),t}function j2(){return wE(this,j2),P2.apply(this,arguments)}function D2(e,t){return"".concat(e,":").concat(t=t||Tn(e))}xE(U2,a),V2=SE(U2),CE(U2,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"language")}},{key:"execute",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.languageCode,i=this.editor.model,o=i.document.selection,a=!!t&&D2(t,e.textDirection);i.change(function(e){if(o.isCollapsed)a?e.setSelectionAttribute("language",a):e.removeSelectionAttribute("language");else{var t,n=bE(i.schema.getValidRanges(o.getRanges(),"language"));try{for(n.s();!(t=n.n()).done;){var r=t.value;a?e.setAttribute("language",a,r):e.removeAttribute("language",r)}}catch(e){n.e(e)}finally{n.f()}}})}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,t=e.schema,e=e.document.selection;if(e.isCollapsed)return e.getAttribute("language")||!1;var n,r=bE(e.getRanges());try{for(r.s();!(n=r.n()).done;){var i,o=bE(n.value.getItems());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.checkAttribute(a,"language"))return a.getAttribute("language")||!1}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return!1}}]);var F2,V2,z2=U2,B2=(xE(H2,r),F2=SE(H2),CE(H2,null,[{key:"pluginName",get:function(){return"TextPartLanguageEditing"}}]),CE(H2,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"language"}),e.model.schema.setAttributeProperties("language",{copyOnEnter:!0}),this._defineConverters(),e.commands.add("textPartLanguage",new z2(e))}},{key:"_defineConverters",value:function(){var e=this.editor.conversion;e.for("upcast").elementToAttribute({model:{key:"language",value:function(e){return D2(e.getAttribute("lang"),e.getAttribute("dir"))}},view:{name:"span",attributes:{lang:/[\s\S]+/}}}),e.for("downcast").attributeToElement({model:"language",view:function(e,t){t=t.writer;if(e)return e={languageCode:(e=kE(e.split(":"),2))[0],textDirection:e[1]},t.createAttributeElement("span",{lang:e.languageCode,dir:e.textDirection})}})}}]),H2);function H2(e){var t;return wE(this,H2),t=F2.call(this,e),e.config.define("language",{textPartLanguage:[{title:"Arabic",languageCode:"ar"},{title:"French",languageCode:"fr"},{title:"Spanish",languageCode:"es"}]}),t}function U2(){return wE(this,U2),V2.apply(this,arguments)}e(118);xE(AC,r),W2=SE(AC),CE(AC,[{key:"init",value:function(){var n=this,s=this.editor,e=s.t,l=s.config.get("language.textPartLanguage"),c=e("Choose language"),u=e("Remove language"),h=e("Language");s.ui.componentFactory.add("textPartLanguage",function(e){var r,i=new wn,o={},a=s.commands.get("textPartLanguage"),t=bE(l);try{for(t.s();!(r=t.n()).done;)(()=>{var e=r.value,t={type:"button",model:new kd({label:e.title,languageCode:e.languageCode,textDirection:e.textDirection,withText:!0})},n=D2(e.languageCode,e.textDirection);t.model.bind("isOn").to(a,"value",function(e){return e===n}),i.add(t),o[n]=e.title})()}catch(e){t.e(e)}finally{t.f()}i.add({type:"separator"}),i.add({type:"button",model:new kd({label:u,languageCode:!1,withText:!0})});e=Jh(e);return Yh(e,i),e.buttonView.set({isOn:!1,withText:!0,tooltip:h}),e.extendTemplate({attributes:{class:["ck-text-fragment-language-dropdown"]}}),e.bind("isEnabled").to(a,"isEnabled"),e.buttonView.bind("label").to(a,"value",function(e){return o[e]||c}),n.listenTo(e,"execute",function(e){a.execute({languageCode:e.source.languageCode,textDirection:e.source.textDirection}),s.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"TextPartLanguageUI"}}]);var q2,W2,$2,K2,G2,Z2,J2,Q2,Y2,X2,eC,tC,nC,rC,iC,oC,aC,sC,lC,cC,uC,hC,dC,fC,pC,gC,vC,mC,yC,kC,bC,_C,wC,CC,xC,SC=AC,EC=(xE(TC,$t),q2=SE(TC),TC);function TC(){return wE(this,TC),q2.apply(this,arguments)}function AC(){return wE(this,AC),W2.apply(this,arguments)}function PC(){return wE(this,PC),$2.apply(this,arguments)}function RC(){return wE(this,RC),K2.apply(this,arguments)}function IC(){return wE(this,IC),G2.apply(this,arguments)}function OC(){return wE(this,OC),Z2.apply(this,arguments)}function MC(){return wE(this,MC),J2.apply(this,arguments)}function NC(){return wE(this,NC),Q2.apply(this,arguments)}function LC(){return wE(this,LC),Y2.apply(this,arguments)}function jC(){return wE(this,jC),X2.apply(this,arguments)}function DC(){return wE(this,DC),eC.apply(this,arguments)}function FC(){return wE(this,FC),tC.apply(this,arguments)}function VC(){return wE(this,VC),nC.apply(this,arguments)}function zC(){return wE(this,zC),rC.apply(this,arguments)}function BC(e){var t;return wE(this,BC),t=iC.call(this,e),e.config.define("typing",{transformations:{include:jg}}),t}function HC(){return wE(this,HC),oC.apply(this,arguments)}function UC(){return wE(this,UC),aC.apply(this,arguments)}function qC(){return wE(this,qC),sC.apply(this,arguments)}function WC(){return wE(this,WC),lC.apply(this,arguments)}function $C(){return wE(this,$C),cC.apply(this,arguments)}function KC(){return wE(this,KC),uC.apply(this,arguments)}function GC(){return wE(this,GC),hC.apply(this,arguments)}function ZC(){return wE(this,ZC),dC.apply(this,arguments)}function JC(){return wE(this,JC),fC.apply(this,arguments)}function QC(){return wE(this,QC),pC.apply(this,arguments)}function YC(){return wE(this,YC),gC.apply(this,arguments)}function XC(){return wE(this,XC),vC.apply(this,arguments)}function ex(){return wE(this,ex),mC.apply(this,arguments)}function tx(){return wE(this,tx),yC.apply(this,arguments)}function nx(){return wE(this,nx),kC.apply(this,arguments)}function rx(){return wE(this,rx),bC.apply(this,arguments)}function ix(){return wE(this,ix),_C.apply(this,arguments)}function ox(){return wE(this,ox),wC.apply(this,arguments)}function ax(){return wE(this,ax),CC.apply(this,arguments)}function sx(){return wE(this,sx),xC.apply(this,arguments)}EC.builtinPlugins=[(xE(sx,r),xC=SE(sx),CE(sx,null,[{key:"requires",get:function(){return[I2,M2]}},{key:"pluginName",get:function(){return"Alignment"}}]),sx),(xE(ax,r),CC=SE(ax),CE(ax,null,[{key:"requires",get:function(){return[Dp,zf,ig,$p,kg,ev]}},{key:"pluginName",get:function(){return"Essentials"}}]),ax),(xE(ox,r),wC=SE(ox),CE(ox,[{key:"init",value:function(){var t=this,n=this.editor.config.get("ckfinder.uploadUrl");n&&(this.editor.plugins.get(cv).createUploadAdapter=function(e){return new mv(e,n,t.editor.t)})}}],[{key:"requires",get:function(){return[cv]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),ox),(xE(ix,r),_C=SE(ix),CE(ix,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}},{key:"_addListAutoformats",value:function(){var e=this,t=this.editor.commands;t.get("bulletedList")&&_v(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&_v(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&_v(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&_v(this.editor,this,/^\[\s?x\s?\]\s$/,function(){e.editor.execute("todoList"),e.editor.execute("checkTodoList")})}},{key:"_addBasicStylesAutoformats",value:function(){var e,t=this.editor.commands;t.get("bold")&&(e=xv(this.editor,"bold"),wv(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),wv(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)),t.get("italic")&&(e=xv(this.editor,"italic"),wv(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),wv(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)),t.get("code")&&(e=xv(this.editor,"code"),wv(this.editor,this,/(`)([^`]+)(`)$/g,e)),t.get("strikethrough")&&(e=xv(this.editor,"strikethrough"),wv(this.editor,this,/(~~)([^~]+)(~~)$/g,e))}},{key:"_addHeadingAutoformats",value:function(){var n=this,r=this.editor.commands.get("heading");r&&r.modelElements.filter(function(e){return e.match(/^heading[1-6]$/)}).forEach(function(e){var t=new RegExp("^(#{".concat(e[7],"})\\s$"));_v(n.editor,n,t,function(){if(!r.isEnabled||r.value===e)return!1;n.editor.execute("heading",{value:e})})})}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&_v(this.editor,this,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){this.editor.commands.get("codeBlock")&&_v(this.editor,this,/^```$/,"codeBlock")}},{key:"_addHorizontalLineAutoformats",value:function(){this.editor.commands.get("horizontalLine")&&_v(this.editor,this,/^---$/,"horizontalLine")}}],[{key:"pluginName",get:function(){return"Autoformat"}}]),ix),(xE(rx,r),bC=SE(rx),CE(rx,null,[{key:"requires",get:function(){return[Ov,Mv]}},{key:"pluginName",get:function(){return"Bold"}}]),rx),(xE(nx,r),kC=SE(nx),CE(nx,null,[{key:"requires",get:function(){return[Nv,Lv]}},{key:"pluginName",get:function(){return"Italic"}}]),nx),(xE(tx,r),yC=SE(tx),CE(tx,null,[{key:"requires",get:function(){return[Kv,Yv]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),tx),(xE(ex,r),mC=SE(ex),CE(ex,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return["Image","Link","CKFinderUploadAdapter",lm,Xv]}}]),ex),(xE(XC,Gt),vC=SE(XC),CE(XC,[{key:"init",value:function(){var e,t=this.context.config.get("cloudServices")||{};for(e in t)this[e]=t[e];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}},{key:"registerTokenUrl",value:function(e){var t;return this._tokens.has(e)?Promise.resolve(this.getTokenFor(e)):(t=this.context.plugins.get("CloudServicesCore").createToken(e),this._tokens.set(e,t),t.init())}},{key:"getTokenFor",value:function(e){e=this._tokens.get(e);if(e)return e;throw new A.a("cloudservices-token-not-registered",this)}},{key:"destroy",value:function(){yE(RE(XC.prototype),"destroy",this).call(this);var e,t=bE(this._tokens.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}}}],[{key:"pluginName",get:function(){return"CloudServices"}},{key:"requires",get:function(){return[m0]}}]),XC),(xE(YC,r),gC=SE(YC),CE(YC,null,[{key:"requires",get:function(){return[cm,"Image","ImageUpload"]}},{key:"pluginName",get:function(){return"EasyImage"}}]),YC),(xE(QC,r),pC=SE(QC),CE(QC,null,[{key:"requires",get:function(){return[Am,Om]}},{key:"pluginName",get:function(){return"Heading"}}]),QC),(xE(JC,r),fC=SE(JC),CE(JC,[{key:"isImageWidget",value:Jm}],[{key:"requires",get:function(){return[ay,Cp,Cy]}},{key:"pluginName",get:function(){return"Image"}}]),JC),(xE(ZC,r),dC=SE(ZC),CE(ZC,null,[{key:"requires",get:function(){return[Ly,Fy]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),ZC),(xE(GC,r),hC=SE(GC),CE(GC,[{key:"afterInit",value:function(){var e=this.editor,t=e.t;e.plugins.get(Mm).register("image",{ariaLabel:t("Image toolbar"),items:e.config.get("image.toolbar")||[],getRelatedElement:Qm})}}],[{key:"requires",get:function(){return[Mm]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),GC),uk,(xE(KC,r),uC=SE(KC),CE(KC,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[hk,pk]}}]),KC),(xE($C,r),cC=SE($C),CE($C,null,[{key:"requires",get:function(){return[Vk,Qk,rb]}},{key:"pluginName",get:function(){return"Link"}}]),$C),(xE(WC,r),lC=SE(WC),CE(WC,null,[{key:"requires",get:function(){return[Lb,Vb]}},{key:"pluginName",get:function(){return"List"}}]),WC),bm,(xE(qC,r),sC=SE(qC),CE(qC,[{key:"init",value:function(){var e=this.editor,t=e.editing.view.document,i=[];i.push(new Gb(t)),i.push(new Ub(t)),e.plugins.get("ClipboardPipeline").on("inputTransformation",function(e,t){var n,r;!t.isTransformedWithPasteFromOffice&&(n=t.dataTransfer.getData("text/html"),r=i.find(function(e){return e.isActive(n)}))&&(r.execute(t),t.isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[Sf]}}]),qC),(xE(UC,r),aC=SE(UC),CE(UC,null,[{key:"requires",get:function(){return[Aw,Lw,Bw,Xw,Qw,Hw,Cp]}},{key:"pluginName",get:function(){return"Table"}}]),UC),(xE(HC,r),oC=SE(HC),CE(HC,[{key:"afterInit",value:function(){var e=this.editor,t=e.t,n=e.plugins.get(Mm),r=e.config.get("table.contentToolbar"),e=e.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:o0}),e&&n.register("table",{ariaLabel:t("Table toolbar"),items:e,getRelatedElement:i0})}}],[{key:"requires",get:function(){return[Mm]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),HC),(xE(BC,r),iC=SE(BC),CE(BC,null,[{key:"pluginName",get:function(){return"TextTransformation"}}]),CE(BC,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",function(){e.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var t,e=this.editor,u=e.model,i=e.plugins.get("Input"),o=(n=e.config.get("typing.transformations"),t=n.remove||[],(e=>{var t,n=new Set,r=bE(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(Lg[i]){var o,a=bE(Lg[i]);try{for(a.s();!(o=a.n()).done;){var s=o.value;n.add(s)}}catch(e){a.e(e)}finally{a.f()}}else n.add(i)}}catch(e){r.e(e)}finally{r.f()}return Array.from(n)})(n.include.concat(n.extra||[]).filter(r)).filter(r).map(function(e){return Ng[e]||e}).map(function(e){return{from:"string"==typeof(n=e.from)?new RegExp("(".concat((r=Zn(r=n))&&Mg.test(r)?r.replace(Og,"\\$&"):r,")$")):n,to:"string"==typeof(t=e.to)?function(){return[t]}:t instanceof Array?function(){return t}:t};var t,n,r})),n=new Cg(e.model,function(e){var t,n=bE(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.from.test(e))return{normalizedTransformation:r}}}catch(e){n.e(e)}finally{n.f()}});function r(e){return!t.includes(e)}n.on("matched:data",function(e,t){var n,r,a,s,l,c;i.isInput(t.batch)&&(n=(r=t.normalizedTransformation).from,r=r.to,a=n.exec(t.text),s=r(a.slice(1)),l=t.range,c=a.index,u.enqueueChange(function(e){for(var t=1;t<a.length;t++){var n,r,i=a[t],o=s[t-1];null!=o?(r=l.start.getShiftedBy(c),n=u.createRange(r,r.getShiftedBy(i.length)),r=((r=r).textNode||r.nodeAfter).getAttributes(),u.insertContent(e.createText(o,r),n),c+=o.length):c+=i.length}}))}),n.bind("isEnabled").to(this)}}]),BC),(xE(zC,r),rC=SE(zC),CE(zC,null,[{key:"requires",get:function(){return[y0,k0]}},{key:"pluginName",get:function(){return"Strikethrough"}}]),zC),(xE(VC,r),nC=SE(VC),CE(VC,null,[{key:"requires",get:function(){return[y2,_2]}},{key:"pluginName",get:function(){return"Code"}}]),VC),(xE(FC,r),tC=SE(FC),CE(FC,null,[{key:"requires",get:function(){return[H0,K0]}},{key:"pluginName",get:function(){return"CodeBlock"}}]),FC),(xE(DC,r),eC=SE(DC),CE(DC,[{key:"toMentionAttribute",value:e1}],[{key:"pluginName",get:function(){return"Mention"}},{key:"requires",get:function(){return[Z0,f1]}}]),DC),(xE(jC,r),X2=SE(jC),CE(jC,[{key:"init",value:function(){var t=this,n=this.editor,r=this.editor.editing.view.document;n.editing.view.addObserver(sf),n.conversion.for("upcast").elementToAttribute({view:{name:"a",key:"data-mention",classes:"mention",attributes:{href:!0}},model:{key:"mention",value:function(e){return n.plugins.get("Mention").toMentionAttribute(e,{link:e.getAttribute("href")})}},converterPriority:"high"}),n.conversion.for("downcast").attributeToElement({model:"mention",view:function(e,t){t=t.writer;if(e&&e.id)return e.id.startsWith(":")?t.createAttributeElement("span",{class:"mention"},{priority:20,id:e.uid}):t.createAttributeElement("a",{class:"mention",href:e.link,target:"_blank"},{priority:20,id:e.uid})},converterPriority:"high"}),this.listenTo(r,"click",function(){var e=r.selection.getFirstPosition().getAncestors().find(function(e){return t.isMentionLink(e)});e&&window.open(e.getAttribute("href"))})}},{key:"isMentionLink",value:function(e){return e.is("attributeElement")&&e.hasClass("mention")&&e.getAttribute("href")}}]),jC),(xE(LC,r),Y2=SE(LC),CE(LC,null,[{key:"requires",get:function(){return[E1,x1]}},{key:"pluginName",get:function(){return"RemoveFormat"}}]),LC),(xE(NC,r),Q2=SE(NC),CE(NC,[{key:"init",value:function(){var i=this.editor,o=i.config.get("image.upload.types").map(function(e){return"image/"+e});this.listenTo(i.editing.view.document,"clipboardInput",function(t,e){var n,r=Array.from(e.dataTransfer.files).filter(function(e){return!!e&&!o.includes(e.type)});e.targetRanges&&(n=e.targetRanges.map(function(e){return i.editing.mapper.toModelRange(e)}),i.model.change(function(e){e.setSelection(n),r.length&&(t.stop(),i.model.enqueueChange("default",function(){var t=i.plugins.get(cv);r.forEach(function(e){e=t.createLoader(e);e&&e.upload().then(function(r){i.model.change(function(e){var t=e.createText(r.text,{linkHref:r.default}),n=i.model.document.selection.getFirstPosition(),n=(i.model.insertContent(t,n),e.createText(" "));i.model.insertContent(n,e.createPositionAfter(t)),e.setSelection(e.createPositionAfter(n))})})})}))}))})}}]),NC),(xE(MC,r),J2=SE(MC),CE(MC,null,[{key:"requires",get:function(){return[G1,Z1]}},{key:"pluginName",get:function(){return"TodoList"}}]),MC),(xE(OC,r),Z2=SE(OC),CE(OC,null,[{key:"requires",get:function(){return[L1,j1,Cp]}},{key:"pluginName",get:function(){return"HorizontalLine"}}]),OC),(xE(IC,r),G2=SE(IC),CE(IC,null,[{key:"pluginName",get:function(){return"ImageInsert"}},{key:"requires",get:function(){return[uk,a2]}}]),IC),(xE(RC,r),K2=SE(RC),CE(RC,null,[{key:"requires",get:function(){return[s2,f2]}},{key:"pluginName",get:function(){return"LinkImage"}}]),RC),(xE(PC,r),$2=SE(PC),CE(PC,null,[{key:"requires",get:function(){return[B2,SC]}},{key:"pluginName",get:function(){return"TextPartLanguage"}}]),PC)],EC.defaultConfig={alignment:{options:["left","right"]},toolbar:{items:["heading","|","bold","italic","strikethrough","link","todoList","bulletedList","numberedList","alignment","|","imageInsert","blockQuote","insertTable","codeBlock","removeFormat","horizontalLine","undo","redo","textPartLanguage"]},image:{toolbar:["imageTextAlternative","|","linkImage"]},table:{contentToolbar:["tableColumn","tableRow"]},language:{content:"en",textPartLanguage:[{title:"",languageCode:"ar"},{title:"Deutsch",languageCode:"de"},{title:"English",languageCode:"en"},{title:"Espaol",languageCode:"es"},{title:"Franais",languageCode:"fr"},{title:"",languageCode:"ja"},{title:"",languageCode:"ko"},{title:"Portugus",languageCode:"pt"},{title:"",languageCode:"ru"},{title:"",languageCode:"zh"}]}}}],i={},o.m=r,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=120).default)},"7Km7":function(e){e.exports=JSON.parse('{"100":"","1234":"","umbrella_with_rain_drops":"","coffee":"","aries":"","taurus":"","sagittarius":"","capricorn":"","aquarius":"","pisces":"","anchor":"","white_check_mark":"","sparkles":"","question":"","grey_question":"","grey_exclamation":"","exclamation":"","heavy_exclamation_mark":"","heavy_plus_sign":"","heavy_minus_sign":"","heavy_division_sign":"","hash":"#","keycap_star":"*","zero":"0","one":"1","two":"2","three":"3","four":"4","five":"5","six":"6","seven":"7","eight":"8","nine":"9","copyright":"","registered":"","mahjong":"","black_joker":"","a":"","b":"","o2":"","parking":"","ab":"","cl":"","cool":"","free":"","id":"","new":"","ng":"","ok":"","sos":"","up":"","vs":"","flag-ac":"","flag-ad":"","flag-ae":"","flag-af":"","flag-ag":"","flag-ai":"","flag-al":"","flag-am":"","flag-ao":"","flag-aq":"","flag-ar":"","flag-as":"","flag-at":"","flag-au":"","flag-aw":"","flag-ax":"","flag-az":"","flag-ba":"","flag-bb":"","flag-bd":"","flag-be":"","flag-bf":"","flag-bg":"","flag-bh":"","flag-bi":"","flag-bj":"","flag-bl":"","flag-bm":"","flag-bn":"","flag-bo":"","flag-bq":"","flag-br":"","flag-bs":"","flag-bt":"","flag-bv":"","flag-bw":"","flag-by":"","flag-bz":"","flag-ca":"","flag-cc":"","flag-cd":"","flag-cf":"","flag-cg":"","flag-ch":"","flag-ci":"","flag-ck":"","flag-cl":"","flag-cm":"","cn":"","flag-cn":"","flag-co":"","flag-cp":"","flag-cr":"","flag-cu":"","flag-cv":"","flag-cw":"","flag-cx":"","flag-cy":"","flag-cz":"","de":"","flag-de":"","flag-dg":"","flag-dj":"","flag-dk":"","flag-dm":"","flag-do":"","flag-dz":"","flag-ea":"","flag-ec":"","flag-ee":"","flag-eg":"","flag-eh":"","flag-er":"","es":"","flag-es":"","flag-et":"","flag-eu":"","flag-fi":"","flag-fj":"","flag-fk":"","flag-fm":"","flag-fo":"","fr":"","flag-fr":"","flag-ga":"","gb":"","uk":"","flag-gb":"","flag-gd":"","flag-ge":"","flag-gf":"","flag-gg":"","flag-gh":"","flag-gi":"","flag-gl":"","flag-gm":"","flag-gn":"","flag-gp":"","flag-gq":"","flag-gr":"","flag-gs":"","flag-gt":"","flag-gu":"","flag-gw":"","flag-gy":"","flag-hk":"","flag-hm":"","flag-hn":"","flag-hr":"","flag-ht":"","flag-hu":"","flag-ic":"","flag-id":"","flag-ie":"","flag-il":"","flag-im":"","flag-in":"","flag-io":"","flag-iq":"","flag-ir":"","flag-is":"","it":"","flag-it":"","flag-je":"","flag-jm":"","flag-jo":"","jp":"","flag-jp":"","flag-ke":"","flag-kg":"","flag-kh":"","flag-ki":"","flag-km":"","flag-kn":"","flag-kp":"","kr":"","flag-kr":"","flag-kw":"","flag-ky":"","flag-kz":"","flag-la":"","flag-lb":"","flag-lc":"","flag-li":"","flag-lk":"","flag-lr":"","flag-ls":"","flag-lt":"","flag-lu":"","flag-lv":"","flag-ly":"","flag-ma":"","flag-mc":"","flag-md":"","flag-me":"","flag-mf":"","flag-mg":"","flag-mh":"","flag-mk":"","flag-ml":"","flag-mm":"","flag-mn":"","flag-mo":"","flag-mp":"","flag-mq":"","flag-mr":"","flag-ms":"","flag-mt":"","flag-mu":"","flag-mv":"","flag-mw":"","flag-mx":"","flag-my":"","flag-mz":"","flag-na":"","flag-nc":"","flag-ne":"","flag-nf":"","flag-ng":"","flag-ni":"","flag-nl":"","flag-no":"","flag-np":"","flag-nr":"","flag-nu":"","flag-nz":"","flag-om":"","flag-pa":"","flag-pe":"","flag-pf":"","flag-pg":"","flag-ph":"","flag-pk":"","flag-pl":"","flag-pm":"","flag-pn":"","flag-pr":"","flag-ps":"","flag-pt":"","flag-pw":"","flag-py":"","flag-qa":"","flag-re":"","flag-ro":"","flag-rs":"","ru":"","flag-ru":"","flag-rw":"","flag-sa":"","flag-sb":"","flag-sc":"","flag-sd":"","flag-se":"","flag-sg":"","flag-sh":"","flag-si":"","flag-sj":"","flag-sk":"","flag-sl":"","flag-sm":"","flag-sn":"","flag-so":"","flag-sr":"","flag-ss":"","flag-st":"","flag-sv":"","flag-sx":"","flag-sy":"","flag-sz":"","flag-ta":"","flag-tc":"","flag-td":"","flag-tf":"","flag-tg":"","flag-th":"","flag-tj":"","flag-tk":"","flag-tl":"","flag-tm":"","flag-tn":"","flag-to":"","flag-tr":"","flag-tt":"","flag-tv":"","flag-tw":"","flag-tz":"","flag-ua":"","flag-ug":"","flag-um":"","flag-un":"","us":"","flag-us":"","flag-uy":"","flag-uz":"","flag-va":"","flag-vc":"","flag-ve":"","flag-vg":"","flag-vi":"","flag-vn":"","flag-vu":"","flag-wf":"","flag-ws":"","flag-xk":"","flag-ye":"","flag-yt":"","flag-za":"","flag-zm":"","flag-zw":"","koko":"","sa":"","u7121":"","u6307":"","u7981":"","u7a7a":"","u5408":"","u6e80":"","u6709":"","u6708":"","u7533":"","u5272":"","u55b6":"","ideograph_advantage":"","accept":"","cyclone":"","foggy":"","closed_umbrella":"","night_with_stars":"","sunrise_over_mountains":"","sunrise":"","city_sunset":"","city_sunrise":"","rainbow":"","bridge_at_night":"","ocean":"","volcano":"","milky_way":"","earth_africa":"","earth_americas":"","earth_asia":"","globe_with_meridians":"","new_moon":"","waxing_crescent_moon":"","first_quarter_moon":"","moon":"","waxing_gibbous_moon":"","full_moon":"","waning_gibbous_moon":"","last_quarter_moon":"","waning_crescent_moon":"","crescent_moon":"","new_moon_with_face":"","first_quarter_moon_with_face":"","last_quarter_moon_with_face":"","full_moon_with_face":"","sun_with_face":"","star2":"","stars":"","thermometer":"","mostly_sunny":"","sun_small_cloud":"","barely_sunny":"","sun_behind_cloud":"","partly_sunny_rain":"","sun_behind_rain_cloud":"","rain_cloud":"","snow_cloud":"","lightning":"","lightning_cloud":"","tornado":"","tornado_cloud":"","fog":"","wind_blowing_face":"","hotdog":"","taco":"","burrito":"","chestnut":"","seedling":"","evergreen_tree":"","deciduous_tree":"","palm_tree":"","cactus":"","hot_pepper":"","tulip":"","cherry_blossom":"","rose":"","hibiscus":"","sunflower":"","blossom":"","corn":"","ear_of_rice":"","herb":"","four_leaf_clover":"","maple_leaf":"","fallen_leaf":"","leaves":"","mushroom":"","tomato":"","eggplant":"","grapes":"","melon":"","watermelon":"","tangerine":"","lemon":"","banana":"","pineapple":"","apple":"","green_apple":"","pear":"","peach":"","cherries":"","strawberry":"","hamburger":"","pizza":"","meat_on_bone":"","poultry_leg":"","rice_cracker":"","rice_ball":"","rice":"","curry":"","ramen":"","spaghetti":"","bread":"","fries":"","sweet_potato":"","dango":"","oden":"","sushi":"","fried_shrimp":"","fish_cake":"","icecream":"","shaved_ice":"","ice_cream":"","doughnut":"","cookie":"","chocolate_bar":"","candy":"","lollipop":"","custard":"","honey_pot":"","cake":"","bento":"","stew":"","fried_egg":"","cooking":"","fork_and_knife":"","tea":"","sake":"","wine_glass":"","cocktail":"","tropical_drink":"","beer":"","beers":"","baby_bottle":"","knife_fork_plate":"","champagne":"","popcorn":"","ribbon":"","gift":"","birthday":"","jack_o_lantern":"","christmas_tree":"","santa":"","fireworks":"","sparkler":"","balloon":"","tada":"","confetti_ball":"","tanabata_tree":"","crossed_flags":"","bamboo":"","dolls":"","flags":"","wind_chime":"","rice_scene":"","school_satchel":"","mortar_board":"","medal":"","reminder_ribbon":"","studio_microphone":"","level_slider":"","control_knobs":"","film_frames":"","admission_tickets":"","carousel_horse":"","ferris_wheel":"","roller_coaster":"","fishing_pole_and_fish":"","microphone":"","movie_camera":"","cinema":"","headphones":"","art":"","tophat":"","circus_tent":"","ticket":"","clapper":"","performing_arts":"","video_game":"","dart":"","slot_machine":"","8ball":"","game_die":"","bowling":"","flower_playing_cards":"","musical_note":"","notes":"","saxophone":"","guitar":"","musical_keyboard":"","trumpet":"","violin":"","musical_score":"","running_shirt_with_sash":"","tennis":"","ski":"","basketball":"","checkered_flag":"","snowboarder":"","woman-running":"","man-running":"","runner":"","running":"","woman-surfing":"","man-surfing":"","surfer":"","sports_medal":"","trophy":"","horse_racing":"","football":"","rugby_football":"","woman-swimming":"","man-swimming":"","swimmer":"","woman-lifting-weights":"","man-lifting-weights":"","weight_lifter":"","woman-golfing":"","man-golfing":"","golfer":"","racing_motorcycle":"","racing_car":"","cricket_bat_and_ball":"","volleyball":"","field_hockey_stick_and_ball":"","ice_hockey_stick_and_puck":"","table_tennis_paddle_and_ball":"","snow_capped_mountain":"","camping":"","beach_with_umbrella":"","building_construction":"","house_buildings":"","cityscape":"","derelict_house_building":"","classical_building":"","desert":"","desert_island":"","national_park":"","stadium":"","house":"","house_with_garden":"","office":"","post_office":"","european_post_office":"","hospital":"","bank":"","atm":"","hotel":"","love_hotel":"","convenience_store":"","school":"","department_store":"","factory":"","izakaya_lantern":"","lantern":"","japanese_castle":"","european_castle":"","rainbow-flag":"","waving_white_flag":"","flag-england":"","flag-scotland":"","flag-wales":"","waving_black_flag":"","rosette":"","label":"","badminton_racquet_and_shuttlecock":"","bow_and_arrow":"","amphora":"","skin-tone-2":"","skin-tone-3":"","skin-tone-4":"","skin-tone-5":"","skin-tone-6":"","rat":"","mouse2":"","ox":"","water_buffalo":"","cow2":"","tiger2":"","leopard":"","rabbit2":"","cat2":"","dragon":"","crocodile":"","whale2":"","snail":"","snake":"","racehorse":"","ram":"","goat":"","sheep":"","monkey":"","rooster":"","chicken":"","dog2":"","pig2":"","boar":"","elephant":"","octopus":"","shell":"","bug":"","ant":"","bee":"","honeybee":"","beetle":"","fish":"","tropical_fish":"","blowfish":"","turtle":"","hatching_chick":"","baby_chick":"","hatched_chick":"","bird":"","penguin":"","koala":"","poodle":"","dromedary_camel":"","camel":"","dolphin":"","flipper":"","mouse":"","cow":"","tiger":"","rabbit":"","cat":"","dragon_face":"","whale":"","horse":"","monkey_face":"","dog":"","pig":"","frog":"","hamster":"","wolf":"","bear":"","panda_face":"","pig_nose":"","feet":"","paw_prints":"","chipmunk":"","eyes":"","eye-in-speech-bubble":"","eye":"","ear":"","nose":"","lips":"","tongue":"","point_up_2":"","point_down":"","point_left":"","point_right":"","facepunch":"","punch":"","wave":"","ok_hand":"","+1":"","thumbsup":"","-1":"","thumbsdown":"","clap":"","open_hands":"","crown":"","womans_hat":"","eyeglasses":"","necktie":"","shirt":"","tshirt":"","jeans":"","dress":"","kimono":"","bikini":"","womans_clothes":"","purse":"","handbag":"","pouch":"","mans_shoe":"","shoe":"","athletic_shoe":"","high_heel":"","sandal":"","boot":"","footprints":"","bust_in_silhouette":"","busts_in_silhouette":"","boy":"","girl":"","male-farmer":"","male-cook":"","male-student":"","male-singer":"","male-artist":"","male-teacher":"","male-factory-worker":"","man-boy-boy":"","man-boy":"","man-girl-boy":"","man-girl-girl":"","man-girl":"","man-man-boy":"","man-man-boy-boy":"","man-man-girl":"","man-man-girl-boy":"","man-man-girl-girl":"","man-woman-boy":"","family":"","man-woman-boy-boy":"","man-woman-girl":"","man-woman-girl-boy":"","man-woman-girl-girl":"","male-technologist":"","male-office-worker":"","male-mechanic":"","male-scientist":"","male-astronaut":"","male-firefighter":"","male-doctor":"","male-judge":"","male-pilot":"","man-heart-man":"","man-kiss-man":"","man":"","female-farmer":"","female-cook":"","female-student":"","female-singer":"","female-artist":"","female-teacher":"","female-factory-worker":"","woman-boy-boy":"","woman-boy":"","woman-girl-boy":"","woman-girl-girl":"","woman-girl":"","woman-woman-boy":"","woman-woman-boy-boy":"","woman-woman-girl":"","woman-woman-girl-boy":"","woman-woman-girl-girl":"","female-technologist":"","female-office-worker":"","female-mechanic":"","female-scientist":"","female-astronaut":"","female-firefighter":"","female-doctor":"","female-judge":"","female-pilot":"","woman-heart-man":"","couple_with_heart":"","woman-heart-woman":"","woman-kiss-man":"","couplekiss":"","woman-kiss-woman":"","woman":"","couple":"","man_and_woman_holding_hands":"","two_men_holding_hands":"","two_women_holding_hands":"","female-police-officer":"","male-police-officer":"","cop":"","woman-with-bunny-ears-partying":"","dancers":"","man-with-bunny-ears-partying":"","bride_with_veil":"","blond-haired-woman":"","blond-haired-man":"","person_with_blond_hair":"","man_with_gua_pi_mao":"","woman-wearing-turban":"","man-wearing-turban":"","man_with_turban":"","older_man":"","older_woman":"","baby":"","female-construction-worker":"","male-construction-worker":"","construction_worker":"","princess":"","japanese_ogre":"","japanese_goblin":"","ghost":"","angel":"","alien":"","space_invader":"","imp":"","skull":"","woman-tipping-hand":"","information_desk_person":"","man-tipping-hand":"","female-guard":"","male-guard":"","guardsman":"","dancer":"","lipstick":"","nail_care":"","woman-getting-massage":"","massage":"","man-getting-massage":"","woman-getting-haircut":"","haircut":"","man-getting-haircut":"","barber":"","syringe":"","pill":"","kiss":"","love_letter":"","ring":"","gem":"","bouquet":"","wedding":"","heartbeat":"","broken_heart":"","two_hearts":"","sparkling_heart":"","heartpulse":"","cupid":"","blue_heart":"","green_heart":"","yellow_heart":"","purple_heart":"","gift_heart":"","revolving_hearts":"","heart_decoration":"","diamond_shape_with_a_dot_inside":"","bulb":"","anger":"","bomb":"","zzz":"","boom":"","collision":"","sweat_drops":"","droplet":"","dash":"","hankey":"","poop":"","shit":"","muscle":"","dizzy":"","speech_balloon":"","thought_balloon":"","white_flower":"","moneybag":"","currency_exchange":"","heavy_dollar_sign":"","credit_card":"","yen":"","dollar":"","euro":"","pound":"","money_with_wings":"","chart":"","seat":"","computer":"","briefcase":"","minidisc":"","floppy_disk":"","cd":"","dvd":"","file_folder":"","open_file_folder":"","page_with_curl":"","page_facing_up":"","date":"","calendar":"","card_index":"","chart_with_upwards_trend":"","chart_with_downwards_trend":"","bar_chart":"","clipboard":"","pushpin":"","round_pushpin":"","paperclip":"","straight_ruler":"","triangular_ruler":"","bookmark_tabs":"","ledger":"","notebook":"","notebook_with_decorative_cover":"","closed_book":"","book":"","open_book":"","green_book":"","blue_book":"","orange_book":"","books":"","name_badge":"","scroll":"","memo":"","pencil":"","telephone_receiver":"","pager":"","fax":"","satellite_antenna":"","loudspeaker":"","mega":"","outbox_tray":"","inbox_tray":"","package":"","e-mail":"","email":"","incoming_envelope":"","envelope_with_arrow":"","mailbox_closed":"","mailbox":"","mailbox_with_mail":"","mailbox_with_no_mail":"","postbox":"","postal_horn":"","newspaper":"","iphone":"","calling":"","vibration_mode":"","mobile_phone_off":"","no_mobile_phones":"","signal_strength":"","camera":"","camera_with_flash":"","video_camera":"","tv":"","radio":"","vhs":"","film_projector":"","prayer_beads":"","twisted_rightwards_arrows":"","repeat":"","repeat_one":"","arrows_clockwise":"","arrows_counterclockwise":"","low_brightness":"","high_brightness":"","mute":"","speaker":"","sound":"","loud_sound":"","battery":"","electric_plug":"","mag":"","mag_right":"","lock_with_ink_pen":"","closed_lock_with_key":"","key":"","lock":"","unlock":"","bell":"","no_bell":"","bookmark":"","link":"","radio_button":"","back":"","end":"","on":"","soon":"","top":"","underage":"","keycap_ten":"","capital_abcd":"","abcd":"","symbols":"","abc":"","fire":"","flashlight":"","wrench":"","hammer":"","nut_and_bolt":"","hocho":"","knife":"","gun":"","microscope":"","telescope":"","crystal_ball":"","six_pointed_star":"","beginner":"","trident":"","black_square_button":"","white_square_button":"","red_circle":"","large_blue_circle":"","large_orange_diamond":"","large_blue_diamond":"","small_orange_diamond":"","small_blue_diamond":"","small_red_triangle":"","small_red_triangle_down":"","arrow_up_small":"","arrow_down_small":"","om_symbol":"","dove_of_peace":"","kaaba":"","mosque":"","synagogue":"","menorah_with_nine_branches":"","clock1":"","clock2":"","clock3":"","clock4":"","clock5":"","clock6":"","clock7":"","clock8":"","clock9":"","clock10":"","clock11":"","clock12":"","clock130":"","clock230":"","clock330":"","clock430":"","clock530":"","clock630":"","clock730":"","clock830":"","clock930":"","clock1030":"","clock1130":"","clock1230":"","candle":"","mantelpiece_clock":"","hole":"","man_in_business_suit_levitating":"","female-detective":"","male-detective":"","sleuth_or_spy":"","dark_sunglasses":"","spider":"","spider_web":"","joystick":"","man_dancing":"","linked_paperclips":"","lower_left_ballpoint_pen":"","lower_left_fountain_pen":"","lower_left_paintbrush":"","lower_left_crayon":"","raised_hand_with_fingers_splayed":"","middle_finger":"","reversed_hand_with_middle_finger_extended":"","spock-hand":"","black_heart":"","desktop_computer":"","printer":"","three_button_mouse":"","trackball":"","frame_with_picture":"","card_index_dividers":"","card_file_box":"","file_cabinet":"","wastebasket":"","spiral_note_pad":"","spiral_calendar_pad":"","compression":"","old_key":"","rolled_up_newspaper":"","dagger_knife":"","speaking_head_in_silhouette":"","left_speech_bubble":"","right_anger_bubble":"","ballot_box_with_ballot":"","world_map":"","mount_fuji":"","tokyo_tower":"","statue_of_liberty":"","japan":"","moyai":"","grinning":"","grin":"","joy":"","smiley":"","smile":"","sweat_smile":"","laughing":"","satisfied":"","innocent":"","smiling_imp":"","wink":"","blush":"","yum":"","relieved":"","heart_eyes":"","sunglasses":"","smirk":"","neutral_face":"","expressionless":"","unamused":"","sweat":"","pensive":"","confused":"","confounded":"","kissing":"","kissing_heart":"","kissing_smiling_eyes":"","kissing_closed_eyes":"","stuck_out_tongue":"","stuck_out_tongue_winking_eye":"","stuck_out_tongue_closed_eyes":"","disappointed":"","worried":"","angry":"","rage":"","cry":"","persevere":"","triumph":"","disappointed_relieved":"","frowning":"","anguished":"","fearful":"","weary":"","sleepy":"","tired_face":"","grimacing":"","sob":"","open_mouth":"","hushed":"","cold_sweat":"","scream":"","astonished":"","flushed":"","sleeping":"","dizzy_face":"","no_mouth":"","mask":"","smile_cat":"","joy_cat":"","smiley_cat":"","heart_eyes_cat":"","smirk_cat":"","kissing_cat":"","pouting_cat":"","crying_cat_face":"","scream_cat":"","slightly_frowning_face":"","slightly_smiling_face":"","upside_down_face":"","face_with_rolling_eyes":"","woman-gesturing-no":"","no_good":"","man-gesturing-no":"","woman-gesturing-ok":"","ok_woman":"","man-gesturing-ok":"","woman-bowing":"","man-bowing":"","bow":"","see_no_evil":"","hear_no_evil":"","speak_no_evil":"","woman-raising-hand":"","raising_hand":"","man-raising-hand":"","raised_hands":"","woman-frowning":"","person_frowning":"","man-frowning":"","woman-pouting":"","person_with_pouting_face":"","man-pouting":"","pray":"","rocket":"","helicopter":"","steam_locomotive":"","railway_car":"","bullettrain_side":"","bullettrain_front":"","train2":"","metro":"","light_rail":"","station":"","tram":"","train":"","bus":"","oncoming_bus":"","trolleybus":"","busstop":"","minibus":"","ambulance":"","fire_engine":"","police_car":"","oncoming_police_car":"","taxi":"","oncoming_taxi":"","car":"","red_car":"","oncoming_automobile":"","blue_car":"","truck":"","articulated_lorry":"","tractor":"","monorail":"","mountain_railway":"","suspension_railway":"","mountain_cableway":"","aerial_tramway":"","ship":"","woman-rowing-boat":"","man-rowing-boat":"","rowboat":"","speedboat":"","traffic_light":"","vertical_traffic_light":"","construction":"","rotating_light":"","triangular_flag_on_post":"","door":"","no_entry_sign":"","smoking":"","no_smoking":"","put_litter_in_its_place":"","do_not_litter":"","potable_water":"","non-potable_water":"","bike":"","no_bicycles":"","woman-biking":"","man-biking":"","bicyclist":"","woman-mountain-biking":"","man-mountain-biking":"","mountain_bicyclist":"","woman-walking":"","man-walking":"","walking":"","no_pedestrians":"","children_crossing":"","mens":"","womens":"","restroom":"","baby_symbol":"","toilet":"","wc":"","shower":"","bath":"","bathtub":"","passport_control":"","customs":"","baggage_claim":"","left_luggage":"","couch_and_lamp":"","sleeping_accommodation":"","shopping_bags":"","bellhop_bell":"","bed":"","place_of_worship":"","octagonal_sign":"","shopping_trolley":"","hammer_and_wrench":"","shield":"","oil_drum":"","motorway":"","railway_track":"","motor_boat":"","small_airplane":"","airplane_departure":"","airplane_arriving":"","satellite":"","passenger_ship":"","scooter":"","motor_scooter":"","canoe":"","sled":"","flying_saucer":"","zipper_mouth_face":"","money_mouth_face":"","face_with_thermometer":"","nerd_face":"","thinking_face":"","face_with_head_bandage":"","robot_face":"","hugging_face":"","the_horns":"","sign_of_the_horns":"","call_me_hand":"","raised_back_of_hand":"","left-facing_fist":"","right-facing_fist":"","handshake":"","crossed_fingers":"","hand_with_index_and_middle_fingers_crossed":"","i_love_you_hand_sign":"","face_with_cowboy_hat":"","clown_face":"","nauseated_face":"","rolling_on_the_floor_laughing":"","drooling_face":"","lying_face":"","woman-facepalming":"","man-facepalming":"","face_palm":"","sneezing_face":"","face_with_raised_eyebrow":"","face_with_one_eyebrow_raised":"","star-struck":"","grinning_face_with_star_eyes":"","zany_face":"","grinning_face_with_one_large_and_one_small_eye":"","shushing_face":"","face_with_finger_covering_closed_lips":"","face_with_symbols_on_mouth":"","serious_face_with_symbols_covering_mouth":"","face_with_hand_over_mouth":"","smiling_face_with_smiling_eyes_and_hand_covering_mouth":"","face_vomiting":"","face_with_open_mouth_vomiting":"","exploding_head":"","shocked_face_with_exploding_head":"","pregnant_woman":"","breast-feeding":"","palms_up_together":"","selfie":"","prince":"","man_in_tuxedo":"","mrs_claus":"","mother_christmas":"","woman-shrugging":"","man-shrugging":"","shrug":"","woman-cartwheeling":"","man-cartwheeling":"","person_doing_cartwheel":"","woman-juggling":"","man-juggling":"","juggling":"","fencer":"","woman-wrestling":"","man-wrestling":"","wrestlers":"","woman-playing-water-polo":"","man-playing-water-polo":"","water_polo":"","woman-playing-handball":"","man-playing-handball":"","handball":"","wilted_flower":"","drum_with_drumsticks":"","clinking_glasses":"","tumbler_glass":"","spoon":"","goal_net":"","first_place_medal":"","second_place_medal":"","third_place_medal":"","boxing_glove":"","martial_arts_uniform":"","curling_stone":"","croissant":"","avocado":"","cucumber":"","bacon":"","potato":"","carrot":"","baguette_bread":"","green_salad":"","shallow_pan_of_food":"","stuffed_flatbread":"","egg":"","glass_of_milk":"","peanuts":"","kiwifruit":"","pancakes":"","dumpling":"","fortune_cookie":"","takeout_box":"","chopsticks":"","bowl_with_spoon":"","cup_with_straw":"","coconut":"","broccoli":"","pie":"","pretzel":"","cut_of_meat":"","sandwich":"","canned_food":"","crab":"","lion_face":"","scorpion":"","turkey":"","unicorn_face":"","eagle":"","duck":"","bat":"","shark":"","owl":"","fox_face":"","butterfly":"","deer":"","gorilla":"","lizard":"","rhinoceros":"","shrimp":"","squid":"","giraffe_face":"","zebra_face":"","hedgehog":"","sauropod":"","t-rex":"","cricket":"","cheese_wedge":"","face_with_monocle":"","adult":"","child":"","older_adult":"","bearded_person":"","person_with_headscarf":"","woman_in_steamy_room":"","man_in_steamy_room":"","person_in_steamy_room":"","woman_climbing":"","person_climbing":"","man_climbing":"","woman_in_lotus_position":"","person_in_lotus_position":"","man_in_lotus_position":"","female_mage":"","mage":"","male_mage":"","female_fairy":"","fairy":"","male_fairy":"","female_vampire":"","vampire":"","male_vampire":"","mermaid":"","merman":"","merperson":"","female_elf":"","male_elf":"","elf":"","female_genie":"","male_genie":"","genie":"","female_zombie":"","male_zombie":"","zombie":"","brain":"","orange_heart":"","billed_cap":"","scarf":"","gloves":"","coat":"","socks":"","bangbang":"","interrobang":"","tm":"","information_source":"","left_right_arrow":"","arrow_up_down":"","arrow_upper_left":"","arrow_upper_right":"","arrow_lower_right":"","arrow_lower_left":"","leftwards_arrow_with_hook":"","arrow_right_hook":"","watch":"","hourglass":"","keyboard":"","eject":"","fast_forward":"","rewind":"","arrow_double_up":"","arrow_double_down":"","black_right_pointing_double_triangle_with_vertical_bar":"","black_left_pointing_double_triangle_with_vertical_bar":"","black_right_pointing_triangle_with_double_vertical_bar":"","alarm_clock":"","stopwatch":"","timer_clock":"","hourglass_flowing_sand":"","double_vertical_bar":"","black_square_for_stop":"","black_circle_for_record":"","m":"","black_small_square":"","white_small_square":"","arrow_forward":"","arrow_backward":"","white_medium_square":"","black_medium_square":"","white_medium_small_square":"","black_medium_small_square":"","sunny":"","cloud":"","umbrella":"","snowman":"","comet":"","phone":"","telephone":"","ballot_box_with_check":"","shamrock":"","point_up":"","skull_and_crossbones":"","radioactive_sign":"","biohazard_sign":"","orthodox_cross":"","star_and_crescent":"","peace_symbol":"","yin_yang":"","wheel_of_dharma":"","white_frowning_face":"","relaxed":"","female_sign":"","male_sign":"","gemini":"","cancer":"","leo":"","virgo":"","libra":"","scorpius":"","spades":"","clubs":"","hearts":"","diamonds":"","hotsprings":"","recycle":"","wheelchair":"","hammer_and_pick":"","crossed_swords":"","medical_symbol":"","staff_of_aesculapius":"","scales":"","alembic":"","gear":"","atom_symbol":"","fleur_de_lis":"","warning":"","zap":"","white_circle":"","black_circle":"","coffin":"","funeral_urn":"","soccer":"","baseball":"","snowman_without_snow":"","partly_sunny":"","thunder_cloud_and_rain":"","ophiuchus":"","pick":"","helmet_with_white_cross":"","chains":"","no_entry":"","shinto_shrine":"","church":"","mountain":"","umbrella_on_ground":"","fountain":"","golf":"","ferry":"","boat":"","sailboat":"","skier":"","ice_skate":"","woman-bouncing-ball":"","man-bouncing-ball":"","person_with_ball":"","tent":"","fuelpump":"","scissors":"","airplane":"","envelope":"","fist":"","hand":"","raised_hand":"","v":"","writing_hand":"","pencil2":"","black_nib":"","heavy_check_mark":"","heavy_multiplication_x":"","latin_cross":"","star_of_david":"","eight_spoked_asterisk":"","eight_pointed_black_star":"","snowflake":"","sparkle":"","x":"","negative_squared_cross_mark":"","heavy_heart_exclamation_mark_ornament":"","heart":"","arrow_right":"","curly_loop":"","loop":"","arrow_heading_up":"","arrow_heading_down":"","arrow_left":"","arrow_up":"","arrow_down":"","black_large_square":"","white_large_square":"","star":"","o":"","wavy_dash":"","part_alternation_mark":"","congratulations":"","secret":""}')},BSTl:function(L,e,j){function D(e){return"function"==typeof e}j.r(e);var F=!1,z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){var t;e?(t=new Error,console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)):F&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),F=e},get useDeprecatedSynchronousErrorHandling(){return F}};function B(e){setTimeout(function(){throw e},0)}var H={closed:!0,next:function(e){},error:function(e){if(z.useDeprecatedSynchronousErrorHandling)throw e;B(e)},complete:function(){}},U=Array.isArray||function(e){return e&&"number"==typeof e.length};function q(e){return null!==e&&"object"==typeof e}G.prototype=Object.create(Error.prototype);var W=G,$=(CE(K,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var e=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof K)e.remove(this);else if(null!==e)for(var o=0;o<e.length;++o)e[o].remove(this);if(D(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){t=e instanceof W?Z(e.errors):[e]}}if(U(i))for(var a=-1,s=i.length;++a<s;){var l=i[a];if(q(l))try{l.unsubscribe()}catch(e){t=t||[],e instanceof W?t=t.concat(Z(e.errors)):t.push(e)}}if(t)throw new W(t)}}},{key:"add",value:function(e){var t,n=e;if(!e)return K.EMPTY;switch(typeof e){case"function":n=new K(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof K||(t=n,(n=new K)._subscriptions=[t]);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof K){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;t&&-1!==(e=t.indexOf(e))&&t.splice(e,1)}}]),(e=K).EMPTY=((De=new e).closed=!0,De),e);function K(e){wE(this,K),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}function G(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}function Z(e){return e.reduce(function(e,t){return e.concat(t instanceof W?t.errors:t)},[])}var J,Q,Y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),i=(xE(ne,$),Q=SE(ne),CE(ne,[{key:Y,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,yE(RE(ne.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,n){e=new ne(e,t,n);return e.syncErrorThrowable=!1,e}}]),ne),X=(xE(te,i),J=SE(te),CE(te,[{key:"next",value:function(e){var t;!this.isStopped&&this._next&&(t=this._parentSubscriber,z.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e))}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=z.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):B(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;B(e)}}}},{key:"complete",value:function(){var e,t,n=this;this.isStopped||(e=this._parentSubscriber,this._complete&&(t=function(){return n._complete.call(n._context)},z.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,t):this.__tryOrUnsub(t)),this.unsubscribe())}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),z.useDeprecatedSynchronousErrorHandling)throw e;B(e)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!z.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return z.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0):B(e),!0}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),te),ee="function"==typeof Symbol&&Symbol.observable||"@@observable";function te(e,t,n,r){wE(this,te),(i=J.call(this))._parentSubscriber=e;var i,o,e=TE(i);return D(t)?o=t:t&&(o=t.next,n=t.error,r=t.complete,t!==H)&&(D((e=Object.create(t)).unsubscribe)&&i.add(e.unsubscribe.bind(e)),e.unsubscribe=i.unsubscribe.bind(TE(i))),i._context=e,i._next=o,i._error=n,i._complete=r,i}function ne(e,t,n){var r;switch(wE(this,ne),(r=Q.call(this)).syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=H;break;case 1:if(!e){r.destination=H;break}if("object"==typeof e){e instanceof ne?(r.syncErrorThrowable=e.syncErrorThrowable,(r.destination=e).add(TE(r))):(r.syncErrorThrowable=!0,r.destination=new X(TE(r),e));break}default:r.syncErrorThrowable=!0,r.destination=new X(TE(r),e,t,n)}return r}function re(e){return e}CE(oe,[{key:"lift",value:function(e){var t=new oe;return t.source=this,t.operator=e,t}},{key:"subscribe",value:function(e,t,n){var r=this.operator,e=((e,t,n)=>{if(e){if(e instanceof i)return e;if(e[Y])return e[Y]()}return e||t||n?new i(e,t,n):new i(H)})(e,t,n);if(e.add(r?r.call(e,this.source):this.source||z.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),z.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){z.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),(e=>{for(;e;){var t=e,n=t.closed,r=t.destination;if(n||t.isStopped)return;e=r&&r instanceof i?r:null}return 1})(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(r,e){var i=this;return new(e=ae(e))(function(e,t){var n=i.subscribe(function(e){try{r(e)}catch(e){t(e),n&&n.unsubscribe()}},t,e)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:ee,value:function(){return this}},{key:"pipe",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?this:(0===(t=n).length?re:1===t.length?t[0]:function(e){return t.reduce(function(e,t){return t(e)},e)})(this)}},{key:"toPromise",value:function(e){var r=this;return new(e=ae(e))(function(e,t){var n;r.subscribe(function(e){return n=e},function(e){return t(e)},function(){return e(n)})})}}]),(ie=oe).create=function(e){return new ie(e)};var ie,u=ie;function oe(e){wE(this,oe),this._isScalar=!1,e&&(this._subscribe=e)}function ae(e){if(e=e||z.Promise||Promise)return e;throw new Error("no Promise impl found")}be.prototype=Object.create(Error.prototype);var se,le,ce,ue,he=be,de=(xE(ke,$),ue=SE(ke),CE(ke,[{key:"unsubscribe",value:function(){var e,t;this.closed||(this.closed=!0,e=(t=this.subject).observers,this.subject=null,!e)||0===e.length||t.isStopped||t.closed||-1!==(t=e.indexOf(this.subscriber))&&e.splice(t,1)}}]),ke),fe=(xE(ye,i),ce=SE(ye),ye),pe=(xE(me,u),le=SE(me),CE(me,[{key:Y,value:function(){return new fe(this)}},{key:"lift",value:function(e){var t=new ge(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new he;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new he;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new he;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new he;return yE(RE(me.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new he;return this.hasError?(e.error(this.thrownError),$.EMPTY):this.isStopped?(e.complete(),$.EMPTY):(this.observers.push(e),new de(this,e))}},{key:"asObservable",value:function(){var e=new u;return e.source=this,e}}]),me.create=function(e,t){return new ge(e,t)},me),ge=(xE(ve,pe),se=SE(ve),CE(ve,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):$.EMPTY}}]),ve);function ve(e,t){var n;return wE(this,ve),(n=se.call(this)).destination=e,n.source=t,n}function me(){var e;return wE(this,me),(e=le.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}function ye(e){var t;return wE(this,ye),(t=ce.call(this,e)).destination=e,t}function ke(e,t){var n;return wE(this,ke),(n=ue.call(this)).subject=e,n.subscriber=t,n.closed=!1,n}function be(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}function _e(e){return e&&"function"==typeof e.schedule}function g(t,n){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new Ce(t,n))}}CE(Te,[{key:"call",value:function(e,t){return t.subscribe(new xe(e,this.project,this.thisArg))}}]);var we,Ce=Te,xe=(xE(Ee,i),we=SE(Ee),CE(Ee,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}]),Ee),Se=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}};function Ee(e,t,n){return wE(this,Ee),(e=we.call(this,e)).project=t,e.count=0,e.thisArg=n||TE(e),e}function Te(e,t){wE(this,Te),this.project=e,this.thisArg=t}var Ae="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Pe=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Re(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Ie=function(e){if(e&&"function"==typeof e[ee])return i=e,function(e){var t=i[ee]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Pe(e))return Se(e);if(Re(e))return n=e,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,B),t};if(e&&"function"==typeof e[Ae])return r=e,function(t){for(var e=r[Ae]();;){var n=void 0;try{n=e.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof e.return&&t.add(function(){e.return&&e.return()}),t};var r,n,i,e=q(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(e," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function Oe(r,i){return new u(function(e){var t=new $,n=0;return t.add(i.schedule(function(){n!==r.length?(e.next(r[n++]),e.closed||t.add(this.schedule())):e.complete()})),t})}function Me(e,t){if(t){var r,i,o,a,n=e;if(null!=n){if(n&&"function"==typeof n[ee])return o=n,a=t,new u(function(t){var n=new $;return n.add(a.schedule(function(){var e=o[ee]();n.add(e.subscribe({next:function(e){n.add(a.schedule(function(){return t.next(e)}))},error:function(e){n.add(a.schedule(function(){return t.error(e)}))},complete:function(){n.add(a.schedule(function(){return t.complete()}))}}))})),n});if(Re(n))return r=n,i=t,new u(function(t){var n=new $;return n.add(i.schedule(function(){return r.then(function(e){n.add(i.schedule(function(){t.next(e),n.add(i.schedule(function(){return t.complete()}))}))},function(e){n.add(i.schedule(function(){return t.error(e)}))})})),n});if(Pe(n))return Oe(n,t);if(n&&"function"==typeof n[Ae]||"string"==typeof n){var s=n;var l=t;if(s)return new u(function(r){var i,e=new $;return e.add(function(){i&&"function"==typeof i.return&&i.return()}),e.add(l.schedule(function(){i=s[Ae](),e.add(l.schedule(function(){if(!r.closed){try{var e=i.next(),t=e.value,n=e.done}catch(e){return void r.error(e)}n?r.complete():(r.next(t),this.schedule())}}))})),e});throw new Error("Iterable cannot be null");return}}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}return e instanceof u?e:new u(Ie(e))}xE(Ve,i),Le=SE(Ve),CE(Ve,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]);var Ne,Le,je=Ve,De=(xE(Fe,i),Ne=SE(Fe),CE(Fe,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),Fe);function Fe(){return wE(this,Fe),Ne.apply(this,arguments)}function Ve(e){var t;return wE(this,Ve),(t=Le.call(this)).parent=e,t}function ze(e,t){if(!t.closed)return e instanceof u?e.subscribe(t):Ie(e)(t)}function Be(t,i,e){var n=2<arguments.length&&void 0!==e?e:Number.POSITIVE_INFINITY;return"function"==typeof i?function(e){return e.pipe(Be(function(n,r){return Me(t(n,r)).pipe(g(function(e,t){return i(n,e,r,t)}))},n))}:("number"==typeof i&&(n=i),function(e){return e.lift(new Ue(t,n))})}CE($e,[{key:"call",value:function(e,t){return t.subscribe(new qe(e,this.project,this.concurrent))}}]);var He,Ue=$e,qe=(xE(We,De),He=SE(We),CE(We,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new je(this),n=this.destination,e=(n.add(t),ze(e,t));e!==t&&n.add(e)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),We);function We(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return wE(this,We),(e=He.call(this,e)).project=t,e.concurrent=n,e.hasCompleted=!1,e.buffer=[],e.active=0,e.index=0,e}function $e(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;wE(this,$e),this.project=e,this.concurrent=t}function Ke(e){return Be(re,0<arguments.length&&void 0!==e?e:Number.POSITIVE_INFINITY)}function Ge(e,t){return t?Oe(e,t):new u(Se(e))}function Ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return _e(o)?(i=t.pop(),1<t.length&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof u?t[0]:Ke(r)(Ge(t,i))}function Je(){return function(e){return e.lift(new et(e))}}CE(st,[{key:"call",value:function(e,t){var n=this.connectable,e=(n._refCount++,new tt(e,n)),t=t.subscribe(e);return e.closed||(e.connection=n.connect()),t}}]);var Qe,Ye,Xe,et=st,tt=(xE(at,i),Xe=SE(at),CE(at,[{key:"_unsubscribe",value:function(){var e,t=this.connectable;!t||(this.connectable=null,(e=t._refCount)<=0)||(t._refCount=e-1,1<e)?this.connection=null:(e=this.connection,t=t._connection,this.connection=null,!t||e&&t!==e||t.unsubscribe())}}]),at),nt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(xE(ot,u),Ye=SE(ot),CE(ot,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new $).add(this.source.subscribe(new rt(this.getSubject(),this))),e.closed&&(this._connection=null,e=$.EMPTY)),e}},{key:"refCount",value:function(){return Je()(this)}}]),(e=ot.prototype)._subscribe)},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}},rt=(xE(it,fe),Qe=SE(it),CE(it,[{key:"_error",value:function(e){this._unsubscribe(),yE(RE(it.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),yE(RE(it.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e,t=this.connectable;t&&(this.connectable=null,e=t._connection,t._refCount=0,t._subject=null,t._connection=null,e)&&e.unsubscribe()}}]),it);function it(e,t){return wE(this,it),(e=Qe.call(this,e)).connectable=t,e}function ot(e,t){var n;return wE(this,ot),(n=Ye.call(this)).source=e,n.subjectFactory=t,n._refCount=0,n._isComplete=!1,n}function at(e,t){return wE(this,at),(e=Xe.call(this,e)).connectable=t,e}function st(e){wE(this,st),this.connectable=e}function lt(){return new pe}function ct(e){return{toString:e}.toString()}function ut(e,t,r){return ct(function(){n=t;var n,o=function(){if(n){var e,t=n.apply(void 0,arguments);for(e in t)this[e]=t[e]}};function a(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this instanceof a?(o.apply(this,t),this):(i=PE(a,t),r.annotation=i,r);function r(e,t,n){for(var r=(e.hasOwnProperty("__parameters__")?e:Object.defineProperty(e,"__parameters__",{value:[]})).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),e}}return(a.prototype=r?Object.create(r.prototype):a.prototype).ngMetadataName=e,a.annotationCls=a})}var ht=ut("Inject",function(e){return{token:e}}),dt=ut("Optional"),ft=ut("Self"),pt=ut("SkipSelf"),b=((e={})[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e);function n(e){for(var t in e)if(e[t]===n)return t;throw Error("Could not find renamed property on target object.")}function r(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function t(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function gt(e){return vt(e,e[yt])||vt(e,e[_t])}function vt(e,t){return t&&t.token===e?t:null}function mt(e){return e&&(e.hasOwnProperty(kt)||e.hasOwnProperty(wt))?e[kt]:null}var yt=n({"prov":n}),kt=n({"inj":n}),bt=n({"provFallback":n}),_t=n({ngInjectableDef:n}),wt=n({ngInjectorDef:n});function C(e){var t;return"string"==typeof e?e:Array.isArray(e)?"["+e.map(C).join(", ")+"]":null==e?""+e:e.overriddenName?""+e.overriddenName:e.name?""+e.name:null==(e=e.toString())?""+e:-1===(t=e.indexOf("\n"))?e:e.substring(0,t)}function Ct(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var xt=n({__forward_ref__:n});function St(e){return e.__forward_ref__=St,e.toString=function(){return C(this())},e}function Et(e){return Tt(e)?e():e}function Tt(e){return"function"==typeof e&&e.hasOwnProperty(xt)&&e.__forward_ref__===St}var At,e="undefined"!=typeof globalThis&&globalThis,Pt="undefined"!=typeof window&&window,o="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,a="undefined"!=typeof global&&global,Rt=e||a||Pt||o,It=n({"cmp":n}),Ot=n({"dir":n}),Mt=n({"pipe":n}),Nt=n({"mod":n}),Lt=n({"loc":n}),jt=n({"fac":n}),Dt=n({__NG_ELEMENT_ID__:n}),c=(CE(Ut,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),Ut),Ft=new c("INJECTOR",-1),Vt={},zt=/\n/gm,Bt=n({provide:String,useValue:n}),Ht=void 0;function Ut(e,t){wE(this,Ut),this._desc=e,this.ngMetadataName="InjectionToken",this.prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.prov=r({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}function qt(e){var t=Ht;return Ht=e,t}function Wt(e){var t=At;return At=e,t}function $t(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:b.Default;if(void 0===Ht)throw new Error("inject() must be called from an injection context");return null===Ht?Kt(e,void 0,t):Ht.get(e,t&b.Optional?null:void 0,t)}function l(e,t){t=1<arguments.length&&void 0!==t?t:b.Default;return(At||$t)(Et(e),t)}function Kt(e,t,n){var r=gt(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&b.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(C(e),"]"))}function Gt(e){for(var t=[],n=0;n<e.length;n++){var r=Et(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=b.Default,a=0;a<r.length;a++){var s=r[a];s instanceof dt||"Optional"===s.ngMetadataName||s===dt?o|=b.Optional:s instanceof pt||"SkipSelf"===s.ngMetadataName||s===pt?o|=b.SkipSelf:s instanceof ft||"Self"===s.ngMetadataName||s===ft?o|=b.Self:i=s instanceof ht||s===ht?s.token:s}t.push(l(i,o))}else t.push(l(r))}return t}function Zt(){wE(this,Zt)}CE(Yt,[{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Vt;if(t===Vt)throw(e=new Error("NullInjectorError: No provider for ".concat(C(e),"!"))).name="NullInjectorError",e;return t}}]);var Jt=Yt,Qt=function e(){wE(this,e)};function Yt(){wE(this,Yt)}function Xt(e,t){e.forEach(function(e){return Array.isArray(e)?Xt(e,t):t(e)})}function en(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function tn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function nn(e,t){t=rn(e,t);if(0<=t)return e[1|t]}function rn(e,t){for(var n=e,r=t,i=0,o=n.length>>1;o!==i;){var a=i+(o-i>>1),s=n[a<<1];if(r===s)return a<<1;r<s?o=a:i=a+1}return~(o<<1)}(e={})[e.OnPush=0]="OnPush",e[e.Default=1]="Default";var on=e,an=((a={})[a.Emulated=0]="Emulated",a[a.Native=1]="Native",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a),sn={},ln=[],cn=0;function un(o){return ct(function(){var e={},t={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===on.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||ln,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||an.Emulated,id:"c",styles:o.styles||ln,_:null,setInput:null,schemas:o.schemas||null,tView:null},n=o.directives,r=o.features,i=o.pipes;return t.id+=cn++,t.inputs=fn(o.inputs,e),t.outputs=fn(o.outputs),r&&r.forEach(function(e){return e(t)}),t.directiveDefs=n?function(){return("function"==typeof n?n():n).map(hn)}:null,t.pipeDefs=i?function(){return("function"==typeof i?i():i).map(dn)}:null,t})}function hn(e){return gn(e)||e[Ot]||null}function dn(e){return e[Mt]||null}function s(e){var t={type:e.type,bootstrap:e.bootstrap||ln,declarations:e.declarations||ln,imports:e.imports||ln,exports:e.exports||ln,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&ct(function(){e.id,e.type}),t}function fn(e,t){if(null==e)return sn;var n,r,i,o={};for(n in e)e.hasOwnProperty(n)&&(i=r=e[n],Array.isArray(r)&&(i=r[1],r=r[0]),o[r]=n,t)&&(t[r]=i);return o}Pt=un;function pn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function gn(e){return e[It]||null}function vn(e){return e.hasOwnProperty(jt)?e[jt]:null}function mn(e,t){var n=e[Nt]||null;if(n||!0!==t)return n;throw new Error("Type ".concat(C(e)," does not have 'mod' property."))}function yn(e){return Array.isArray(e)&&"object"==typeof e[1]}function kn(e){return Array.isArray(e)&&!0===e[1]}function bn(e){return 0!=(8&e.flags)}function _n(e){return 2==(2&e.flags)}function wn(e){return 1==(1&e.flags)}function Cn(e){return null!==e.template}function xn(e){return 0!=(512&e[2])}CE(En,[{key:"isFirstChange",value:function(){return this.firstChange}}]);var Sn=En;function En(e,t,n){wE(this,En),this.previousValue=e,this.currentValue=t,this.firstChange=n}function Tn(){return An}function An(e){return e.type.prototype.ngOnChanges&&(e.setInput=Rn),Pn}function Pn(){var e=In(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===sn)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Rn(e,t,n,r){var i=In(e)||(e.__ngSimpleChanges__={previous:sn,current:null}),o=i.current||(i.current={}),i=i.previous,n=this.declaredInputs[n],a=i[n];o[n]=new Sn(a&&a.currentValue,t,i===sn),e[r]=t}function In(e){return e.__ngSimpleChanges__||null}Tn.ngInherit=!0;var On=void 0;function Mn(e){return!!e.listen}var Nn={createRenderer:function(e,t){return void 0!==On?On:"undefined"!=typeof document?document:void 0}};function Ln(e){for(;Array.isArray(e);)e=e[0];return e}function jn(e,t){return Ln(t[e+20])}function Dn(e,t){return Ln(t[e.index])}function Fn(e,t){return e.data[t+20]}function Vn(e,t){t=t[e];return yn(t)?t:t[0]}function zn(e){e=e.__ngContext__||null;return e?Array.isArray(e)?e:e.lView:null}function Bn(e){return 4==(4&e[2])}function Hn(e){return 128==(128&e[2])}function Un(e,t){return null===e||null==t?null:e[t]}function qn(e){e[18]=0}function Wn(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,r=(n=r)[3]}var V={lFrame:lr(null),bindingsEnabled:!0,checkNoChangesMode:!1};function $n(){return V.bindingsEnabled}function x(){return V.lFrame.lView}function S(){return V.lFrame.tView}function h(e){V.lFrame.contextLView=e}function Kn(){return V.lFrame.previousOrParentTNode}function Gn(e,t){V.lFrame.previousOrParentTNode=e,V.lFrame.isParent=t}function Zn(){return V.lFrame.isParent}function Jn(){V.lFrame.isParent=!1}function Qn(){return V.checkNoChangesMode}function Yn(e){V.checkNoChangesMode=e}function Xn(){var e=V.lFrame,t=e.bindingRootIndex;return t=-1===t?e.bindingRootIndex=e.tView.bindingStartIndex:t}function er(){return V.lFrame.bindingIndex++}function tr(e){V.lFrame.currentDirectiveIndex=e}function nr(e){var t=V.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function rr(){return V.lFrame.currentQueryIndex}function ir(e){V.lFrame.currentQueryIndex=e}function or(e,t){var n=sr();(V.lFrame=n).previousOrParentTNode=t,n.lView=e}function ar(e,t){var n=sr(),r=e[1];(V.lFrame=n).previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function sr(){var e=V.lFrame,t=null===e?null:e.child;return null===t?lr(e):t}function lr(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function cr(){var e=V.lFrame;return V.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var ur=cr;function hr(){var e=cr();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dr(){return V.lFrame.selectedIndex}function fr(e){V.lFrame.selectedIndex=e}function pr(){var e=V.lFrame;return Fn(e.tView,e.selectedIndex)}function gr(){V.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function vr(){V.lFrame.currentNamespace=null}function mr(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,l=i.ngAfterViewChecked,i=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=i&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i)}}function yr(e,t,n){_r(e,t,3,n)}function kr(e,t,n,r){(3&e[2])===n&&_r(e,t,n,r)}function br(e,t){var n=e[2];(3&n)===t&&(n&=2047,e[2]=++n)}function _r(e,t,n,r){for(var i,o,a,s,l,c,u=null!=r?r:-1,h=0,d=void 0!==r?65535&e[18]:0;d<t.length;d++)if("number"==typeof t[d+1]){if(h=t[d],null!=r&&r<=h)break}else t[d]<0&&(e[18]+=65536),(h<u||-1==u)&&(i=e,o=n,c=l=void 0,l=(a=t)[s=d]<0,c=a[s+1],a=i[l?-a[s]:a[s]],l?i[2]>>11<i[18]>>16&&(3&i[2])===o&&(i[2]+=2048,c.call(a)):c.call(a),e[18]=(4294901760&e[18])+d+2),d++}var wr=function e(t,n,r){wE(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Cr(e,t,n){for(var r=Mn(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],l=n[i++];r?e.setAttribute(t,s,l,a):t.setAttributeNS(a,s,l)}else{a=o,s=n[++i];Sr(a)?r&&e.setProperty(t,a,s):r?e.setAttribute(t,a,s):t.setAttribute(a,s),i++}}}function xr(e){return 3===e||4===e||6===e}function Sr(e){return 64===e.charCodeAt(0)}function Er(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0!==n&&((e,t,n,r,i)=>{var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(t<s){a=o-1;break}}}for(;o<e.length;){var l=e[o];if("number"==typeof l)break;if(l===n){if(null===r)return null!==i&&(e[o+1]=i);if(r===e[o+1])return e[o+2]=i}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)})(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Tr(e){return 32767&e}function Ar(e,t){for(var n=e>>16,r=t;0<n;)r=r[15],n--;return r}function Pr(e){return"string"==typeof e?e:null==e?"":""+e}function Rr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Pr(e)}var Ir=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Rt);function Or(e){return e instanceof Function?e():e}var Mr=!0;function Nr(e){var t=Mr;return Mr=e,t}var Lr=0;function jr(e,t){var n=Fr(e,t);if(-1!==n)return n;var n=t[1],n=(n.firstCreatePass&&(e.injectorIndex=t.length,Dr(n.data,e),Dr(t,null),Dr(n.blueprint,null)),Vr(e,t)),r=e.injectorIndex;if(-1!==n)for(var i=Tr(n),o=Ar(n,t),a=o[1].data,s=0;s<8;s++)t[r+s]=o[i+s]|a[i+s];return t[r+8]=n,r}function Dr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Fr(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Vr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function zr(e,t,n){var r,i,o;e=e,t=t,"string"==typeof(n=n)?r=n.charCodeAt(0)||0:n.hasOwnProperty(Dt)&&(r=n[Dt]),r=1<<(n=255&(r=null==r?n[Dt]=Lr++:r)),i=64&n,o=32&n,t=t.data,128&n?i?o?t[e+7]|=r:t[e+6]|=r:o?t[e+5]|=r:t[e+4]|=r:i?o?t[e+3]|=r:t[e+2]|=r:o?t[e+1]|=r:t[e]|=r}function Br(e,t,n,r,i){var o,a,s,l,c,u,h=3<arguments.length&&void 0!==r?r:b.Default,r=4<arguments.length?i:void 0;if(null!==e){var d="string"==typeof(i=n)?i.charCodeAt(0)||0:"number"==typeof(i=i.hasOwnProperty(Dt)?i[Dt]:void 0)&&0<i?255&i:i;if("function"==typeof d){or(t,e);try{var f=d();if(null!=f||h&b.Optional)return f;throw new Error("No provider for ".concat(Rr(n),"!"))}finally{ur()}}else if("number"==typeof d){if(-1===d)return new Kr(e,t);var p=null,g=Fr(e,t),v=-1,m=h&b.Host?t[16][6]:null;for((-1===g||h&b.SkipSelf)&&(v=-1===g?Vr(e,t):t[g+8],$r(h,!1)?(p=t[1],g=Tr(v),t=Ar(v,t)):g=-1);-1!==g;){var v=t[g+8],y=t[1];if(Wr(d,g,y.data)){o=g,s=n,k=p,l=h,c=m,u=void 0,u=(a=t)[1],o=u.data[o+8];var k=null!==(s=Ur(o,u,s,null==k?_n(o)&&Mr:k!=u&&3===o.type,l&b.Host&&c===o))?qr(a,u,s,o):Hr;if(k!==Hr)return k}$r(h,t[1].data[g+8]===m)&&Wr(d,g,t)?(p=y,g=Tr(v),t=Ar(v,t)):g=-1}}}if(h&b.Optional&&void 0===r&&(r=null),0==(h&(b.Self|b.Host))){i=t[9],f=Wt(void 0);try{return i?i.get(n,r,h&b.Optional):Kt(n,r,h&b.Optional)}finally{Wt(f)}}if(h&b.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(Rr(n),"]"))}var Hr={};function Ur(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,t=1048575&o,s=e.directiveStart,o=o>>20,l=i?t+o:e.directiveEnd,c=r?t:t+o;c<l;c++){var u=a[c];if(c<s&&n===u||s<=c&&u.type===n)return c}if(i){e=a[s];if(e&&Cn(e)&&e.type===n)return s}return null}function qr(e,t,n,r){var i,o,a,s,l,c,u=e[n],h=t.data;if(u instanceof wr){var d=u;if(d.resolving)throw new Error("Circular dep for "+Rr(h[n]));var f,p=Nr(d.canSeeViewProviders);d.resolving=!0,d.injectImpl&&(f=Wt(d.injectImpl)),or(e,r);try{u=e[n]=d.factory(void 0,h,e,r),t.firstCreatePass&&n>=r.directiveStart&&(o=h[i=n],a=t,s=o.type.prototype,l=s.ngOnChanges,c=s.ngOnInit,s=s.ngDoCheck,l&&(l=An(o),(a.preOrderHooks||(a.preOrderHooks=[])).push(i,l),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,l)),c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),s)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,s),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,s))}finally{d.injectImpl&&Wt(f),Nr(p),d.resolving=!1,ur()}}return u}function Wr(e,t,n){var r=64&e,i=32&e;return(128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e}function $r(e,t){return!(e&b.Self||e&b.Host&&t)}CE(Gr,[{key:"get",value:function(e,t){return Br(this._tNode,this._lView,e,void 0,t)}}]);var Kr=Gr;function Gr(e,t){wE(this,Gr),this._tNode=e,this._lView=t}function Zr(e){var t,n=e;return Tt(e)?function(){var e=Zr(Et(n));return e?e():null}:(e=null===(e=vn(n))?(t=mt(n))&&t.factory:e)||null}function Jr(o){return ct(function(){for(var e=o.prototype.constructor,t=e[jt]||Zr(e),n=Object.prototype,r=Object.getPrototypeOf(o.prototype).constructor;r&&r!==n;){var i=r[jt]||Zr(r);if(i&&i!==t)return i;r=Object.getPrototypeOf(r)}return function(e){return new e}})}function Qr(e){return e.ngDebugContext}function Yr(e){return e.ngOriginalError}function Xr(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}CE(ri,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=e.ngErrorLogger||Xr;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Qr(e)?Qr(e):this._findContext(Yr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Yr(e);t&&Yr(t);)t=Yr(t);return t}}]);var ei=ri,ti=(CE(ni,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),ni);function ni(e){wE(this,ni),this.changingThisBreaksApplicationSecurity=e}function ri(){wE(this,ri),this._console=console}function ii(e){return e instanceof ti?e.changingThisBreaksApplicationSecurity:e}function oi(e,t){e=(e=e)instanceof ti&&e.getTypeName()||null;if(null==e||e===t)return e===t;if("ResourceURL"===e&&"URL"===t)return 1;throw new Error("Required a safe ".concat(t,", got a ").concat(e," (see http://g.co/ng/security#xss)"))}var ai=!0,si=!1;function li(){return si=!0,ai}var ci=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ui=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,hi=((o={})[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o);function di(e){var t=gi();return t?t.sanitize(hi.URL,e)||"":oi(e,"URL")?ii(e):(t=Pr(e),(t=String(t)).match(ci)||t.match(ui)?t:(li()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t))}function fi(e){var t=gi();if(t)return t.sanitize(hi.RESOURCE_URL,e)||"";if(oi(e,"ResourceURL"))return ii(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function pi(e,t,n){return("src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?fi:di)(e)}function gi(){var e=x();return e&&e[12]}function vi(e,t){e.__ngContext__=t}function mi(){throw new Error("Cannot mix multi providers and regular providers")}function yi(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function ki(e){return 0===e.type&&"ng-template"!==e.tagName}function bi(e,t,n){for(var r=4,i=e.attrs||[],o=(e=>{for(var t=0;t<e.length;t++)if(xr(e[t]))return t;return e.length})(i),a=!1,s=0;s<t.length;s++){var l=t[s];if("number"!=typeof l){if(!a)if(4&r){if(r=2|1&r,""!==l&&(c=n,l!==(0!==(u=e).type||c?u.tagName:"ng-template"))||""===l&&1===t.length){if(_i(r))return;a=!0}}else{var c=8&r?l:t[++s];if(8&r&&null!==e.attrs){if(!((e,t,n)=>{for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==yi((i=e[r]).toLowerCase(),t,0))return 1}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return 1;return}}})(e.attrs,c,n)){if(_i(r))return;a=!0}}else{var u=((e,t,n,r)=>{if(null!==t){var i=0;if(!r&&n){var o=t,a=e,s=o.indexOf(4);if(-1<s)for(s++;s<o.length;){var l=o[s];if("number"==typeof l)return-1;if(l===a)return s;s++}}else for(var c=!1;i<t.length;){var u=t[i];if(u===e)return i;if(3===u||6===u)c=!0;else{if(1===u||2===u){for(var h=t[++i];"string"==typeof h;)h=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=c?1:2}}return-1})(8&r?"class":l,i,ki(e),n);if(-1===u){if(_i(r))return;a=!0}else if(""!==c){var h=o<u?"":i[u+1].toLowerCase(),d=8&r?h:null;if(d&&-1!==yi(d,c,0)||2&r&&c!==h){if(_i(r))return;a=!0}}}}}else{if(!a&&!_i(r)&&!_i(l))return;a&&_i(l)||(a=!1,r=l|1&r)}}return _i(r)||a}function _i(e){return 0==(1&e)}function wi(e,t){return e?":not("+t.trim()+")":t}function Ci(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a,s=e[n];"string"==typeof s?2&r?i+="["+s+(0<(a=e[++n]).length?'="'+a+'"':"")+"]":8&r?i+="."+s:4&r&&(i+=" "+s):(""===i||_i(s)||(t+=wi(o,i),i=""),r=s,o=o||!_i(r)),n++}return""!==i&&(t+=wi(o,i)),t}var xi={};function Si(e){e=e[3];return kn(e)?e[3]:e}function Ei(e){return Ai(e[13])}function Ti(e){return Ai(e[4])}function Ai(e){for(;null!==e&&!kn(e);)e=e[4];return e}function d(e){Pi(S(),x(),dr()+e,Qn())}function Pi(e,t,n,r){r||(3==(3&t[2])?null!==(r=e.preOrderCheckHooks)&&yr(t,r,n):null!==(r=e.preOrderHooks)&&kr(t,r,0,n)),fr(n)}function Ri(e,t){return e<<17|t<<2}function Ii(e){return e>>17&32767}function Oi(e){return(131068&e)>>2}function Mi(e,t){return-131069&e|t<<2}function Ni(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i,o=n[r],a=n[r+1];-1!==a&&(i=e.data[a],ir(o),i.contentQueries(2,t[a],a))}}function Li(e,t,n){return Mn(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ji(e,t,n,r,i,o,a,s,l,c){var u=t.blueprint.slice();return u[0]=i,u[2]=140|r,qn(u),u[3]=u[15]=e,u[8]=n,u[10]=a||e&&e[10],u[11]=s||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=o,u[16]=2==t.type?e[16]:u,u}function Di(e,t,n,r,i,o){var a,s,l,n=n+20,t=e.data[n]||(e=e,a=Kn(),s=Zn(),l=s?a:a&&a.parent,l=e.data[n]=Ki(0,l&&l!==t?l:null,r,n,i,o),null===e.firstChild&&(e.firstChild=l),a&&(!s||null!=a.child||null===l.parent&&2!==a.type?s||(a.next=l):a.child=l),l);return Gn(t,!0),t}function Fi(t,e,n){ar(e,e[6]);try{var r=t.viewQuery,i=(null!==r&&co(1,r,n),t.template),o=(null!==i&&zi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ni(t,e),t.staticViewQueries&&co(2,t.viewQuery,n),t.components);if(null!==o)for(var a=e,s=o,l=0;l<s.length;l++){f=d=h=u=c=void 0;for(var c=a,u=Vn(u=s[l],c),h=c=u[1],d=u,f=d.length;f<h.blueprint.length;f++)d.push(h.blueprint[f]);Fi(c,u,u[8])}}catch(e){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),e}finally{e[2]&=-5,hr()}}function Vi(e,t,n,r){var i=t[2];if(256!=(256&i)){ar(t,t[6]);var o=Qn();try{qn(t),V.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&zi(e,t,n,2,r);var a,s,l=3==(3&i);o||(l?null!==(a=e.preOrderCheckHooks)&&yr(t,a,null):(null!==(s=e.preOrderHooks)&&kr(t,s,0,null),br(t,0)));for(var c,u,h=Ei(t);null!==h;h=Ti(h))if(h[2])for(var d=h[9],f=0;f<d.length;f++){var p=d[f],j=p[3];0==(1024&p[2])&&Wn(j,1),p[2]|=1024}for(var g,v,m,y=Ei(t);null!==y;y=Ti(y))for(var k=10;k<y.length;k++){var b=y[k],_=b[1];Hn(b)&&Vi(_,b,_.template,b[8])}null!==e.contentQueries&&Ni(e,t),o||(l?null!==(c=e.contentCheckHooks)&&yr(t,c):(null!==(u=e.contentHooks)&&kr(t,u,1),br(t,1)));var w=e,D=t;try{var C=w.expandoInstructions;if(null!==C)for(var x=w.expandoStartIndex,S=-1,E=0;E<C.length;E++){var T=C[E];"number"==typeof T?T<=0?(fr(0-T),S=x+=9+C[++E]):x+=T:(null!==T&&(g=x,v=S,m=void 0,(m=V.lFrame).bindingIndex=m.bindingRootIndex=g,tr(v),T(2,D[S])),S++)}}finally{fr(-1)}var A=e.components;if(null!==A){var F=t;var P=A;for(var R=0;R<P.length;R++){I=void 0;O=void 0;var I=F;var O=P[R];Hn(O=Vn(O,I))&&(I=O[1],80&O[2]?Vi(I,O,I.template,O[8]):0<O[5]&&function e(t){for(var n=Ei(t);null!==n;n=Ti(n))for(var r=10;r<n.length;r++){var i,o=n[r];1024&o[2]?Vi(i=o[1],o,i.template,o[8]):0<o[5]&&e(o)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var l=Vn(a[s],t);Hn(l)&&0<l[5]&&e(l)}}(O))}}var M,N,L=e.viewQuery;null!==L&&co(2,L,r),o||(l?null!==(M=e.viewCheckHooks)&&yr(t,M):(null!==(N=e.viewHooks)&&kr(t,N,2),br(t,2))),!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Wn(t[3],-1))}finally{hr()}}}function zi(e,t,n,r,i){var o=dr();try{fr(-1),2&r&&20<t.length&&Pi(e,t,0,Qn()),n(r,i)}finally{fr(o)}}function Bi(e,t,n){if(bn(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Hi(e,t,n){if($n()&&(((e,t,n,r)=>{var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||jr(n,t),vi(r,t);for(var a,s,l,c=n.initialInputs,u=i;u<o;u++){var h=e.data[u],d=Cn(h),f=(d&&(m=h,l=f=l=p=void 0,p=Dn(s=n,a=t),l=qi(m),f=a[10],l=oo(a,ji(a,l,null,m.onPush?64:16,p,s,f,f.createRenderer(p,m))),a[s.index]=l),qr(t,e,u,n));if(vi(f,t),null!==c){p=void 0;g=void 0;v=void 0;m=void 0;y=void 0;k=void 0;b=void 0;_=void 0;w=void 0;C=void 0;var p=u-i;var g=f;var v=h;var m=c;var y=m[p];if(null!==y)for(var k=v.setInput,b=0;b<y.length;){var _=y[b++],w=y[b++],C=y[b++];null!==k?v.setInput(g,C,_,w):g[w]=C}}d&&(Vn(n.index,t)[8]=f)}})(e,t,n,Dn(n,t)),128==(128&n.flags))){var r=e,i=t,e=n.directiveStart,o=n.directiveEnd,a=r.expandoInstructions,s=r.firstCreatePass,t=n.index-20,n=V.lFrame.currentDirectiveIndex;try{fr(t);for(var l=e;l<o;l++){var c=r.data[l],u=i[l];tr(l),null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?Xi(c,u):s&&a.push(null)}}finally{fr(-1),tr(n)}}}function Ui(e,t,n){var r=2<arguments.length&&void 0!==n?n:Dn,i=t.localNames;if(null!==i)for(var o=t.index+1,a=0;a<i.length;a+=2){var s=i[a+1],s=-1===s?r(t,e):e[s];e[o++]=s}}function qi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Wi(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Wi(e,t,n,r,i,o,a,s,l,c){var r=20+r,i=r+i,u=((e,t)=>{for(var n=[],r=0;r<t;r++)n.push(r<e?null:xi);return n})(r,i);return u[1]={type:e,id:t,blueprint:u,template:n,queries:null,viewQuery:s,node:null,data:u.slice().fill(null,r),bindingStartIndex:r,expandoStartIndex:i,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function $i(e,t,n,r){t=ho(t);t.push(n),e.firstCreatePass&&((n=e).cleanup||(n.cleanup=[])).push(r,t.length-1)}function Ki(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Gi(e,t,n){for(var r in e){var i;e.hasOwnProperty(r)&&(i=e[r],(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i])}return n}function Zi(e,t,n,r,i,o,a,s){var l=Dn(t,n),c=t.inputs;!s&&null!=c&&(s=c[r])?(go(e,n,s,r,i),!_n(t)||16&(c=Vn(t.index,n))[2]||(c[2]|=64)):3===t.type&&(r="class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r,i=null!=a?a(i,t.tagName||"",r):i,Mn(o)?o.setProperty(l,r,i):Sr(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Ji(e,t,n,r){if($n()){var i=((e,t,n)=>{var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];if(function(e,t,n){for(var r=2<arguments.length&&void 0!==n&&n,i=0;i<t.length;i++)if(bi(e,t[i],r))return 1}(n,a.selectors,!1)){i=i||[],zr(jr(n,t),e,a.type);if(Cn(a)){if(2&n.flags){s=void 0;var s=n;throw new Error("Multiple components match node with tagname "+s.tagName)}to(e,n),i.unshift(a)}else i.push(a)}}return i})(e,t,n),o=null===r?null:{"":-1};if(null!==i){var a=0;no(n,e.data.length,i.length);for(var s=0;s<i.length;s++){var l=i[s];l.providersResolver&&l.providersResolver(l)}eo(e,n,i.length);for(var c=!1,u=!1,h=0;h<i.length;h++){var d=i[h],f=(n.mergedAttrs=Er(n.mergedAttrs,d.hostAttrs),ro(e,t,d),v=g=p=f=void 0,e.data.length-1),p=d,g=o;if(g){if(p.exportAs)for(var v=0;v<p.exportAs.length;v++)g[p.exportAs[v]]=f;Cn(p)&&(g[""]=f)}null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var m=d.type.prototype;!c&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),c=!0),u||!m.ngOnChanges&&!m.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),u=!0),Qi(e,d),a+=d.hostVars}for(var y=n,k=y.directiveEnd,b=e.data,_=y.attrs,w=[],C=null,x=null,S=y.directiveStart;S<k;S++){var E=b[S],T=E.inputs,A=null===_||ki(y)?null:((e,t)=>{for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i){if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(n=null===n?[]:n).push(i,e[i],t[r+1])}r+=2}else r+=4}return n})(T,_);w.push(A),C=Gi(T,S,C),x=Gi(E.outputs,S,x)}null!==C&&(C.hasOwnProperty("class")&&(y.flags|=16),C.hasOwnProperty("style"))&&(y.flags|=32),y.initialInputs=w,y.inputs=C,y.outputs=x,Yi(e,t,a)}if(o){var P=r;var R=o;if(P)for(var I=n.localNames=[],O=0;O<P.length;O+=2){var M=R[P[O+1]];if(null==M)throw new Error("Export of name '".concat(P[O+1],"' not found!"));I.push(P[O],M)}}}n.mergedAttrs=Er(n.mergedAttrs,n.attrs)}function Qi(e,t){e=e.expandoInstructions;e.push(t.hostBindings),0!==t.hostVars&&e.push(t.hostVars)}function Yi(e,t,n){for(var r=0;r<n;r++)t.push(xi),e.blueprint.push(xi),e.data.push(null)}function Xi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function eo(e,t,n){var r=20-t.index,t=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,t,n)}function to(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function no(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ro(e,t,n){e.data.push(n);var r=n.factory||(n.factory=vn(n.type)),r=new wr(r,Cn(n),null);e.blueprint.push(r),t.push(r)}function io(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function oo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t}function ao(e){for(;e;){e[2]|=64;var t=Si(e);if(xn(e)&&!t)return;e=t}}function so(e,t,n){var r=t[10];r.begin&&r.begin();try{Vi(e,t,e.template,n)}catch(e){throw po(t,e),e}finally{r.end&&r.end()}}function lo(e){for(var t=e[8],n=0;n<t.components.length;n++){var r=t.components[n],i=zn(r),o=i[1],a=(d=h=u=c=l=s=a=void 0,o),s=i,l=o.template,c=r,u=s[10],h=!Qn(),d=Bn(s);try{h&&!d&&u.begin&&u.begin(),d&&Fi(a,s,c),Vi(a,s,l,c)}finally{h&&!d&&u.end&&u.end()}}}function co(e,t,n){ir(0),t(e,n)}var uo=Promise.resolve(null);function ho(e){return e[7]||(e[7]=[])}function fo(e,t,n){return(n=null!==e&&!Cn(e)?n:(e=>{for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null})(n[t.index]))[11]}function po(e,t){e=e[9],e=e?e.get(ei,null):null;e&&e.handleError(t)}function go(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],l=t[a],a=e.data[a];null!==a.setInput?a.setInput(l,i,r,s):l[s]=i}}function vo(e,t){t=t[3];return-1!==e.index||kn(t)?t:null}function mo(e,t){e=vo(e,t);return e?To(t[11],e[7]):null}function yo(e,t,n,r,i){if(null!=r){var o,a=!1,r=(kn(r)?o=r:yn(r)&&(a=!0,r=r[0]),Ln(r));if(0===e&&null!==n?null==i?So(t,n,r):xo(t,n,r,i||null):1===e&&null!==n?xo(t,n,r,i||null):2===e?(a=a,(v=To(h=t,g=r))&&(v=v,g=g,Mn(h=h)?h.removeChild(v,g,a):v.removeChild(g))):3===e&&t.destroyNode(r),null!=o){var s=t,l=e,c=o,u=n,h=i,d=c[7];d!==Ln(c)&&yo(l,s,u,d,h);for(var f=10;f<c.length;f++){var p=c[f];Io(p[1],p,s,l,u,d)}}}var h,g,v}function ko(e,t,n,r){var i=mo(e.node,t);i&&Io(e,t,t[11],n?1:2,i,r)}function bo(e,t){var e=e[9],n=e.indexOf(t);1024&t[2]&&Wn(t[3],-1),e.splice(n,1)}function _o(e,t){var n,r,i;if(!(e.length<=10))return(n=e[i=10+t])&&(null!==(r=n[17])&&r!==e&&bo(r,n),0<t&&(e[i-1][4]=n[4]),r=tn(e,10+t),ko(n[1],n,!1,null),null!==(i=r[19])&&i.detachView(r[1]),n[3]=null,n[4]=null,n[2]&=-129),n}function wo(e,t){if(!(256&t[2])){var n,r,i,o=t[11],a=(Mn(o)&&o.destroyNode&&Io(e,t,o,3,null,null),t),s=a[13];if(s)for(;s;){var l,c=null;if(yn(s)?c=s[13]:(l=s[10])&&(c=l),!c){for(;s&&!s[4]&&s!==a;)yn(s)&&Co(s[1],s),r=a,i=void 0,s=yn(n=s)&&(i=n[6])&&2===i.type?vo(i,n):n[3]===r?null:n[3];yn(s=null===s?a:s)&&Co(s[1],s),c=s&&s[4]}s=c}else Co(a[1],a)}}function Co(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256;var n,r=t;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var o=r[n[i]];if(!(o instanceof wr)){var a=n[i+1];if(Array.isArray(a))for(var s=0;s<a.length;s+=2)a[s+1].call(o[a[s]]);else a.call(o)}}var l=t,c=e.cleanup;if(null!==c){for(var u,h,d,f=l[7],p=0;p<c.length-1;p+=2)"string"==typeof c[p]?(u="function"==typeof(u=c[p+1])?u(l):Ln(l[u]),h=f[c[p+2]],"boolean"==typeof(d=c[p+3])?u.removeEventListener(c[p],h,d):0<=d?f[d]():f[-d].unsubscribe(),p+=2):c[p].call(f[c[p+1]]);l[7]=null}var g=t[6],g=(g&&3===g.type&&Mn(t[11])&&t[11].destroy(),t[17]);null!==g&&kn(t[3])&&(g!==t[3]&&bo(g,t),null!==(g=t[19]))&&g.detachView(e)}}function xo(e,t,n,r){Mn(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function So(e,t,n){Mn(e)?e.appendChild(t,n):t.appendChild(n)}function Eo(e,t,n,r){null!==r?xo(e,t,n,r):So(e,t,n)}function To(e,t){return Mn(e)?e.parentNode(t):t.parentNode}function Ao(e,t,n,r){var i=((e,t,n)=>{for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r)return 2===(i=n[6]).type?mo(i,n):n[0];if(t&&5===t.type&&4&t.flags)return Dn(t,n).parentNode;if(2&r.flags){var i=e.data,e=i[i[r.index].directiveStart].encapsulation;if(e!==an.ShadowDom&&e!==an.Native)return null}return Dn(r,n)})(e,r,t);if(null!=i){var o=t[11],a=(e=r.parent||t[6],r=t,2===e.type?null===(t=vo(e,r))?null:Po(t.indexOf(r,10)-10,t):4===e.type||5===e.type?Dn(e,r):null);if(Array.isArray(n))for(var s=0;s<n.length;s++)Eo(o,i,n[s],a);else Eo(o,i,n,a)}}function Po(e,t){e=10+e+1;if(e<t.length){var e=t[e],n=e[1].firstChild;if(null!==n)return function e(t,n){var r,i;return null!==n?3===(r=n.type)?Dn(n,t):0===r?Po(-1,t[n.index]):4===r||5===r?null!==(r=n.child)?e(t,r):kn(r=t[n.index])?Po(-1,r):Ln(r):(i=(r=t[16])[6],r=Si(r),null!=(i=i.projection[n.projection])?e(r,i):e(t,n.next)):null}(e,n)}return t[7]}function Ro(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],l=n.type;if(a&&0===t&&(s&&vi(Ln(s),r),n.flags|=4),64!=(64&n.flags))if(4===l||5===l)Ro(e,t,n.child,r,i,o,!1),yo(t,e,i,s,o);else if(1===l){c=void 0;u=void 0;l=void 0;h=void 0;d=void 0;f=void 0;p=void 0;g=void 0;var c=e;var u=t;l=r;var h=n;var d=i;var f=o;var p=(l=l[16])[6].projection[h.projection];if(Array.isArray(p))for(var g=0;g<p.length;g++)yo(u,c,d,p[g],f);else Ro(c,u,p,l[3],d,f,!0)}else yo(t,e,i,s,o);n=a?n.projectionNext:n.next}}function Io(e,t,n,r,i,o){Ro(n,r,e.node.child,t,i,o,!1)}function Oo(e,t,n){Mn(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Mo(e,t,n){Mn(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}CE(Bo,[{key:"destroy",value:function(){var e;this._appRef?this._appRef.detachView(this):this._viewContainerRef&&(-1<(e=this._viewContainerRef.indexOf(this))&&this._viewContainerRef.detach(e),this._viewContainerRef=null),wo(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){$i(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){ao(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){so(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){var e=this._lView[1],t=this._lView,n=this.context;Yn(!0);try{so(e,t,n)}finally{Yn(!1)}}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Io(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Ln(a)),kn(a))for(var s=10;s<a.length;s++){var l=a[s],c=l[1].firstChild;null!==c&&e(l[1],l,c,i)}var u,h=r.type;4===h||5===h?e(t,n,r.child,i):1===h&&(u=(h=n[16])[6].projection[r.projection],Array.isArray(u)?i.push.apply(i,_E(u)):e((h=Si(h))[1],h,u,i,!0)),r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]);var No,Lo,jo,Do,Fo=Bo,Vo=(xE(zo,Fo),Do=SE(zo),CE(zo,[{key:"detectChanges",value:function(){lo(this._view)}},{key:"checkNoChanges",value:function(){var e=this._view;Yn(!0);try{lo(e)}finally{Yn(!1)}}},{key:"context",get:function(){return null}}]),zo);function zo(e){var t;return wE(this,zo),(t=Do.call(this,e))._view=e,t}function Bo(e,t){wE(this,Bo),this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}function Ho(e,t,n){return No||(xE(r,e),i=SE(r),No=r),new No(Dn(t,n));function r(){return wE(this,r),i.apply(this,arguments)}var i}function Uo(e,t,n,r){return Lo||(xE(i,e),o=SE(i),CE(i,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=ji(this._declarationView,t,e,16,null,t.node),r=(n[17]=this._declarationView[this._declarationTContainer.index],this._declarationView[19]);return null!==r&&(n[19]=r.createEmbeddedView(t)),Fi(t,n,e),new Fo(n)}}]),Lo=i),0===n.type?new Lo(r,n,Ho(t,n,r)):null;function i(e,t,n){var r;return wE(this,i),(r=o.call(this))._declarationView=e,r._declarationTContainer=t,r.elementRef=n,r}var o}function qo(e,t,n,r){var i,o;function a(e,t,n){var r;return wE(this,a),(r=o.call(this))._lContainer=e,r._hostTNode=t,r._hostView=n,r}jo||(xE(a,e),o=SE(a),CE(a,[{key:"clear",value:function(){for(;0<this.length;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){e=e.createEmbeddedView(t||{});return this.insert(e,n),e}},{key:"createComponent",value:function(e,t,n,r,i){var n=n||this.parentInjector,o=(!i&&null==e.ngModule&&n&&(o=n.get(Qt,null))&&(i=o),e.create(n,r,void 0,i));return this.insert(o.hostView,t),o}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded(),kn(n[3])&&(-1!==(c=this.indexOf(e))?this.detach(c):(c=n[3],(c=new jo(c,c[6],c[3])).detach(c.indexOf(e))));var i,o,a,s,l,c=this._adjustIndex(t);return t=r,i=n,o=this._lContainer,s=10+(a=c),l=o.length,0<a&&(o[s-1][4]=i),a<l-10?(i[4]=o[s],en(o,10+a,i)):(o.push(i),i[4]=null),i[3]=o,null!==(l=i[17])&&o!==l&&(s=i,o=(a=l)[9],s[16]!==s[3][3][16]&&(a[2]=!0),null===o?a[9]=[s]:o.push(s)),null!==(l=i[19])&&l.insertView(t),i[2]|=128,ko(r,n,!0,Po(c,this._lContainer)),e.attachToViewContainerRef(this),en(this._lContainer[8],c,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var e=this._adjustIndex(e,-1),t=_o(this._lContainer,e);t&&(tn(this._lContainer[8],e),wo(t[1],t))}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var e=this._adjustIndex(e,-1),t=_o(this._lContainer,e);return t&&null!=tn(this._lContainer[8],e)?new Fo(t):null}},{key:"_adjustIndex",value:function(e){return null==e?this.length+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0):e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Ho(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Kr(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Vr(this._hostTNode,this._hostView),t=Ar(e,this._hostView),n=((e,t,n)=>{if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=e>>16,a=t,s=t[6];1<o;)s=(a=a[15])[6],o--;return s})(e,this._hostView,this._hostTNode);return-1!==e&&null!=n?new Kr(n,t):new Kr(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),jo=a);var s,l,c,e=r[n.index];return kn(e)?i=e:(4===n.type?s=Ln(e):(s=r[11].createComment(""),xn(r)?(l=r[11],c=Dn(n,r),xo(l,To(l,c),s,(c=c,Mn(l=l)?l.nextSibling(c):c.nextSibling))):Ao(r[1],r,s,n)),r[n.index]=i=io(e,r,s,n),oo(r,i)),new jo(i,n,r)}function Wo(){var e,t,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return e=Kn(),t=x(),!n&&_n(e)?(n=Vn(e.index,t),new Fo(n,n)):3===e.type||0===e.type||4===e.type||5===e.type?new Fo(t[16],t):null}ea.__NG_ELEMENT_ID__=function(){return Ko()};var $o=ea,Ko=Wo,Go=Function,Zo=new c("Set Injector scope."),Jo={},Qo={},Yo=[],Xo=void 0;function ea(){wE(this,ea)}function ta(){return Xo=void 0===Xo?new Jt:Xo}function na(e,t,n,r){t=1<arguments.length&&void 0!==t?t:null,n=2<arguments.length&&void 0!==n?n:null,r=3<arguments.length?r:void 0;return new ra(e,n,t||ta(),r)}CE(ia,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Vt,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:b.Default;this.assertNotDestroyed();var r=qt(this);try{if(!(n&b.SkipSelf)){var i,o=this.records.get(t);if(void 0===o&&(o=(i=("function"==typeof t||"object"==typeof t&&t instanceof c)&&gt(t))&&this.injectableDefInScope(i)?sa(oa(t),Jo):null,this.records.set(t,o)),null!=o)return this.hydrate(t,o)}return(n&b.Self?ta():this.parent).get(t,n&b.Optional&&e===Vt?null:e)}catch(e){if("NullInjectorError"!==e.name)throw e;if((e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(C(t)),r)throw e;var a=e,s=this.source,l=a.ngTempTokenPath;throw t.__source&&l.unshift(t.__source),a.message=function(e,t,n,r){var r=3<arguments.length&&void 0!==r?r:null,i=(e=e&&"\n"===e.charAt(0)&&""==e.charAt(1)?e.substr(2):e,C(t));if(Array.isArray(t))i=t.map(C).join(" -> ");else if("object"==typeof t){var o,a,s=[];for(o in t)t.hasOwnProperty(o)&&(a=t[o],s.push(o+":"+("string"==typeof a?JSON.stringify(a):C(a))));i="{".concat(s.join(", "),"}")}return"".concat("R3InjectorError").concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(zt,"\n  "))}("\n"+a.message,l,"R3InjectorError",s),a.ngTokenPath=l,a.ngTempTokenPath=null,a}finally{qt(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var n=[];return this.records.forEach(function(e,t){return n.push(C(t))}),"R3Injector[".concat(n.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Et(e)))return!1;var i,o=mt(e),a=null==o&&e.ngModule||void 0,s=void 0===a?e:a,l=-1!==n.indexOf(s);if(null==(o=void 0!==a?mt(a):o))return!1;if(null!=o.imports&&!l&&(n.push(s),Xt(o.imports,function(e){r.processInjectorType(e,t,n)&&(i=void 0===i?[]:i).push(e)}),void 0!==i))for(var c=0;c<i.length;c++)(e=>{var t=(e=i[e]).ngModule,n=e.providers;Xt(n,function(e){return r.processProvider(e,t,n||Yo)})})(c);this.injectorDefTypes.add(s),this.records.set(s,sa(o.factory,Jo));var u,h=o.providers;return null==h||l||(u=e,Xt(h,function(e){return r.processProvider(e,u,h)})),void 0!==a&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r,i=ca(e=Et(e))?e:Et(e&&e.provide),o=(t=t,n=n,la(o=e)?sa(void 0,o.useValue):sa(aa(o,t,n),Jo));ca(e)||!0!==e.multi?(t=this.records.get(i))&&void 0!==t.multi&&mi():((r=this.records.get(i))?void 0===r.multi&&mi():((r=sa(void 0,Jo,!0)).factory=function(){return Gt(r.multi)},this.records.set(i,r)),i=e,r.multi.push(e)),this.records.set(i,o)}},{key:"hydrate",value:function(e,t){{var e;if(t.value===Qo)throw e=C(e),new Error("Cannot instantiate cyclic dependency! "+e);t.value===Jo&&(t.value=Qo,t.value=t.factory())}return"object"==typeof t.value&&t.value&&null!==(e=t.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]);var ra=ia;function ia(t,n,e){var r=this,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=(wE(this,ia),this.parent=e,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1,[]),e=(n&&Xt(n,function(e){return r.processProvider(e,t,n)}),Xt([t],function(e){return r.processInjectorType(e,[],o)}),this.records.set(Ft,sa(void 0,this)),this.records.get(Zo));this.scope=null!=e?e.value:null,this.source=i||("object"==typeof t?null:C(t))}function oa(e){var t=gt(e),t=null!==t?t.factory:vn(e);if(null!==t)return t;t=mt(e);if(null!==t)return t.factory;if(e instanceof c)throw new Error("Token ".concat(C(e)," is missing a prov definition."));if(e instanceof Function){var n=e,t=n.length;if(0<t)throw t=(e=>{for(var t=[],n=0;n<e;n++)t.push("?");return t})(t),new Error("Can't resolve all parameters for ".concat(C(n),": (").concat(t.join(", "),")."));var r=(e=(t=n)&&(t[yt]||t[_t]||t[bt]&&t[bt]()))?(t=(t=t).hasOwnProperty("name")?t.name:null===(t=(""+t).match(/^function\s*([^\s(]+)/))?"":t[1],console.warn('DEPRECATED: DI is instantiating a token "'.concat(t,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(t,'" class.')),e):null;return null!==r?function(){return r.factory(n)}:function(){return new n}}throw new Error("unreachable")}function aa(e,t,n){var r=void 0;if(ca(e))return vn(o=Et(e))||oa(o);if(la(e))r=function(){return Et(e.useValue)};else if(e&&e.useFactory)r=function(){return e.useFactory.apply(e,_E(Gt(e.deps||[])))};else if(e&&e.useExisting)r=function(){return l(Et(e.useExisting))};else{var i=Et(e&&(e.useClass||e.provide));if(!i){var o=t;t=n;var a=e;n="";throw o&&t&&(n=" - only instances of Provider and Type are allowed, got: [".concat(t.map(function(e){return e==a?"?"+a+"?":"..."}).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(C(o),"'")+n)}if(!e.deps)return vn(i)||oa(i);r=function(){return PE(i,_E(Gt(e.deps)))}}return r}function sa(e,t,n){return{factory:e,value:t,multi:2<arguments.length&&void 0!==n&&n?[]:void 0}}function la(e){return null!==e&&"object"==typeof e&&Bt in e}function ca(e){return"function"==typeof e}function ua(e,t,n){return function(e,t,n,r){e=na(e,1<arguments.length&&void 0!==t?t:null,2<arguments.length&&void 0!==n?n:null,3<arguments.length?r:void 0);return e._resolveInjectorDefTypes(),e}({name:n},t,e,n)}CE(da,null,[{key:"create",value:function(e,t){return Array.isArray(e)?ua(e,t,""):ua(e.providers,e.parent,e.name||"")}}]),(e=da).THROW_IF_NOT_FOUND=Vt,e.NULL=new Jt,e.prov=r({token:e,providedIn:"any",factory:function(){return l(Ft)}}),e.__NG_ELEMENT_ID__=-1;var f=e,ha=new c("AnalyzeForEntryComponents");function da(){wE(this,da)}function fa(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=Ct(i,s):2==o&&(r=Ct(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var pa=null;function ga(){if(!pa){var e=Rt.Symbol;if(e&&e.iterator)pa=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(pa=r)}}return pa}CE(ma,null,[{key:"wrap",value:function(e){return new ma(e)}},{key:"unwrap",value:function(e){return ma.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof ma}}]);var va=ma;function ma(e){wE(this,ma),this.wrapped=e}function ya(e){return!!ka(e)&&(Array.isArray(e)||!(e instanceof Map)&&ga()in e)}function ka(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ba(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function _a(e,t,n,r){n=ba(e,t,n);return ba(e,t+1,r)||n}function wa(e,t,n,r){var i,o,a=x();ba(a,er(),t)&&(S(),i=pr(),e=e,t=t,n=n,r=r,o=Dn(i,a=a),a=a[11],null==t?Mn(a)?a.removeAttribute(o,e,r):o.removeAttribute(e):(n=null==n?Pr(t):n(t,i.tagName||"",e),Mn(a)?a.setAttribute(o,e,n,r):r?o.setAttributeNS(r,e,n):o.setAttribute(e,n)))}function Ca(e,t,n,r){return ba(e,er(),n)?t+Pr(n)+r:xi}function p(e,t,n,r,i,o,a,s){var l,c,u,h,d=x(),f=S(),p=e+20,i=f.firstCreatePass?(c=d,t=t,n=n,r=r,u=a,h=(l=f).consts,e=Di(l,c[6],e,0,i||null,Un(h,o)),Ji(l,c,e,Un(h,u)),mr(l,e),c=e.tViews=Wi(2,-1,t,n,r,l.directiveRegistry,l.pipeRegistry,null,l.schemas,h),(u=Ki(0,null,2,-1,null,null)).injectorIndex=e.injectorIndex,c.node=u,null!==l.queries&&(l.queries.template(l,e),c.queries=l.queries.embeddedTView(e)),e):f.data[p],o=(Gn(i,!1),d[11].createComment(""));Ao(f,d,o,i),vi(o,d),oo(d,d[p]=io(o,d,o,i)),wn(i)&&Hi(f,d,i),null!=a&&Ui(d,i,s)}function k(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:b.Default,n=x();return null==n?l(e,t):Br(Kn(),n,Et(e),t)}function xa(e){var t=Kn(),n=e;if("class"===n)return t.classes;if("style"===n)return t.styles;var r=t.attrs;if(r)for(var i=r.length,o=0;o<i;){var a=r[o];if(xr(a))break;if(0===a)o+=2;else if("number"==typeof a)for(o++;o<i&&"string"==typeof r[o];)o++;else{if(a===n)return r[o+1];o+=2}}return null}function v(e,t,n){var r=x();return ba(r,er(),t)&&Zi(S(),pr(),r,e,t,r[11],n,!1),v}function Sa(e,t,n,r,i){i=i?"class":"style";go(e,n,t.inputs[i],i,r)}function m(e,t,n,r){var i,o,a=x(),s=S(),l=20+e,c=a[11],u=a[l]=Li(t,c,V.lFrame.currentNamespace),e=s.firstCreatePass?(h=a,o=r,d=(i=s).consts,n=Un(d,n),n=Di(i,h[6],e,3,t,n),Ji(i,h,n,Un(d,o)),null!==n.attrs&&fa(n,n.attrs,!1),null!==n.mergedAttrs&&fa(n,n.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,n),n):s.data[l],t=(Gn(e,!0),e.mergedAttrs),h=(null!==t&&Cr(c,u,t),e.classes),d=(null!==h&&Mo(c,u,h),e.styles);null!==d&&Oo(c,u,d),Ao(s,a,u,e),0===V.lFrame.elementDepthCount&&vi(u,a),V.lFrame.elementDepthCount++,wn(e)&&(Hi(s,a,e),Bi(s,e,a)),null!==r&&Ui(a,e)}function y(){var e=Kn(),t=(Zn()?Jn():Gn(e=e.parent,!1),e),n=(V.lFrame.elementDepthCount--,S());n.firstCreatePass&&(mr(n,e),bn(e))&&n.queries.elementEnd(e),null!=t.classesWithoutHost&&0!=(16&t.flags)&&Sa(n,t,x(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&0!=(32&t.flags)&&Sa(n,t,x(),t.stylesWithoutHost,!1)}function _(e,t,n,r){m(e,t,n,r),y()}function Ea(e,t,n){var r,i,o,a=x(),s=S(),l=e+20,t=s.firstCreatePass?(c=a,i=n,o=(r=s).consts,t=Un(o,t),e=Di(r,c[6],e,4,"ng-container",t),null!==t&&fa(e,t,!0),Ji(r,c,e,Un(o,i)),null!==r.queries&&r.queries.elementStart(r,e),e):s.data[l],c=(Gn(t,!0),a[l]=a[11].createComment(""));Ao(s,a,c,t),vi(c,a),wn(t)&&(Hi(s,a,t),Bi(s,t,a)),null!=n&&Ui(a,t)}function Ta(){var e=Kn(),t=S();Zn()?Jn():Gn(e=e.parent,!1),t.firstCreatePass&&(mr(t,e),bn(e))&&t.queries.elementEnd(e)}function Aa(e){return e&&"function"==typeof e.then}function w(e,t){var n=x(),r=S(),i=Kn();return Ra(r,n,n[11],i,e,t,2<arguments.length&&void 0!==arguments[2]&&arguments[2],3<arguments.length?arguments[3]:void 0),w}function Pa(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length?arguments[3]:void 0,i=Kn(),o=x(),a=S();Ra(a,o,fo(nr(a.data),i,o),i,e,t,n,r)}function Ra(l,e,t,n,r,i,o,a){var s,c,u,h,o=6<arguments.length&&void 0!==o&&o,d=7<arguments.length?a:void 0,a=wn(n),f=l.firstCreatePass&&(l.cleanup||(l.cleanup=[])),p=ho(e),g=!0;3===n.type&&(c=Dn(n,e),c=(s=d?d(c):sn).target||c,u=p.length,h=d?function(e){return d(Ln(e[n.index])).target}:n.index,Mn(t)?(m=null)!==(m=!d&&a?((e,t,n)=>{var r=l.cleanup;if(null!=r)for(var i=0;i<r.length-1;i+=2){var o,a,s=r[i];if(s===t&&r[i+1]===n)return o=e[7],a=r[i+2],o.length>a?o[a]:null;"string"==typeof s&&(i+=2)}return null})(e,r,n.index):m)?((m.__ngLastListenerFn__||m).__ngNextListenerFn__=i,m.__ngLastListenerFn__=i,g=!1):(i=Oa(n,e,i,!1),a=t.listen(s.name||c,r,i),p.push(i,a),f&&f.push(r,h,u,u+1)):(i=Oa(n,e,i,!0),c.addEventListener(r,i,o),p.push(i),f&&f.push(r,h,u,o)));var v,m=n.outputs;if(g&&null!==m&&(v=m[r])){var y=v.length;if(y)for(var k=0;k<y;k+=2){var b=e[v[k]][v[k+1]].subscribe(i),_=p.length;p.push(i,b),f&&f.push(r,n.index,_,-(_+1))}}}function Ia(t,e,n){try{return!1!==e(n)}catch(e){return po(t,e),!1}}function Oa(o,a,s,l){return function e(t){if(t===Function)return s;var n=2&o.flags?Vn(o.index,a):a;0==(32&a[2])&&ao(n);for(var r=Ia(a,s,t),i=e.__ngNextListenerFn__;i;)r=Ia(a,i,t)&&r,i=i.__ngNextListenerFn__;return l&&!1===r&&(t.preventDefault(),t.returnValue=!1),r}}function E(e){e=0<arguments.length&&void 0!==e?e:1;return(V.lFrame.contextLView=((e,t)=>{for(;0<e;)t=t[15],e--;return t})(e,V.lFrame.contextLView))[8]}function Ma(e,t,n){Na(e,"",t,"",n)}function Na(e,t,n,r,i){var o=x(),t=Ca(o,t,n,r);t!==xi&&Zi(S(),pr(),o,e,t,o[11],i,!1)}var La=[];function ja(e,t,n,r){for(var i,o,a=e[n+1],s=null===t,l=(r?Ii:Oi)(a),c=!1;0!==l&&(!1===c||s);){var u=e[l+1];o=t,(null===(i=e[l])||null==o||(Array.isArray(i)?i[1]:i)===o||Array.isArray(i)&&"string"==typeof o&&0<=rn(i,o))&&(c=!0,e[l+1]=r?1|u:2|u),l=(r?Ii:Oi)(u)}c&&(e[n+1]=r?2|a:1|a)}function Da(e,t,n){return Va(e,t,n,!1),Da}function Fa(e,t){return Va(e,t,null,!0),Fa}function Va(e,t,n,r){var i,o,a,s,l,c,u,h,d,f,p,g,v,m,y,k,b=x(),_=S(),w=(o=(w=V.lFrame).bindingIndex,w.bindingIndex=w.bindingIndex+2,o);_.firstUpdatePass&&(o=e,a=w,s=r,null===(k=(i=_).data)[a+1])&&(l=k[dr()+20],i=a>=i.expandoStartIndex,0==(l.flags&(s?16:32))||null!==o||i||(o=!1),h=l,d=o,f=s,m=nr(u=k),y=f?h.residualClasses:h.residualStyles,null===m?0===(f?h.classBindings:h.styleBindings)&&(d=Ba(d=za(null,u,h,d,f),h.attrs,f),y=null):-1!==(p=h.directiveStylingLast)&&u[p]===m||(d=za(m,u,h,d,f),null===y?void 0!==(p=(()=>{var e=f?h.classBindings:h.styleBindings;if(0!==Oi(e))return u[Ii(e)]})())&&Array.isArray(p)&&(m=f,p=Ba(p=za(null,g=u,v=h,p[1],f),h.attrs,f),g[Ii(m?v.classBindings:v.styleBindings)]=p):y=((e,t,n)=>{for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ba(r,e[o].hostAttrs,n);return Ba(r,t.attrs,n)})(u,h,f)),void 0!==y&&(f?h.residualClasses=y:h.residualStyles=y),g=k,m=l,v=o=d,p=a,y=i,l=(k=s)?m.classBindings:m.styleBindings,d=Ii(l),o=Oi(l),g[p]=v,a=!1,Array.isArray(v)?(null===(c=v[1])||0<rn(v,c))&&(a=!0):c=v,y?0!==o?(v=Ii(g[d+1]),g[p+1]=Ri(v,d),0!==v&&(g[v+1]=Mi(g[v+1],p)),g[d+1]=131071&g[d+1]|p<<17):(g[p+1]=Ri(d,0),0!==d&&(g[d+1]=Mi(g[d+1],p)),d=p):(g[p+1]=Ri(o,0),0===d?d=p:g[o+1]=Mi(g[o+1],p),o=p),a&&(g[p+1]=2|g[p+1]),ja(g,c,p,!0),ja(g,c,p,!1),y=c,v=g,a=p,null!=(c=k?m.residualClasses:m.residualStyles)&&"string"==typeof y&&0<=rn(c,y)&&(v[a+1]=1|v[a+1]),l=Ri(d,o),k?m.classBindings=l:m.styleBindings=l),t!==xi&&ba(b,w,t)&&(s=(i=_).data[dr()+20],a=(y=b)[11],d=e,k=b[w+1]=(null!=(o=t)&&("string"==typeof n?o+=n:"object"==typeof o&&(o=C(ii(o)))),o),m=r,l=w,3!==s.type||Ua(1==(1&(_=(i=i.data)[l+1]))?Ha(i,s,y,d,Oi(_),m):void 0)||(Ua(k)||2==(2&_)&&(k=Ha(i,null,y,d,l,m)),s=a,_=m,i=jn(dr(),y),l=d,a=k,m=Mn(s),_?a?m?s.addClass(i,l):i.classList.add(l):m?s.removeClass(i,l):i.classList.remove(l):(_=-1==l.indexOf("-")?void 0:2,null==a?m?s.removeStyle(i,l,_):i.style.removeProperty(l):m?s.setStyle(i,l,a,_):i.style.setProperty(l,a))))}function za(e,t,n,r,i){var o,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ba(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ba(e,t,n){var r,i,o,a=n?1:2,s=-1;if(null!==t)for(var l=0;l<t.length;l++){var c=t[l];if("number"==typeof c)s=c;else if(s===a){Array.isArray(e)||(e=void 0===e?[]:["",e]),r=e,c=c,i=!!n||t[++l],0;if(0<=(o=rn(r,c)))r[1|o]=i;else{u=void 0;h=void 0;d=void 0;f=void 0;p=void 0;var u=r;var h=~o;var d=c;var f=i;var p=u.length;if(p==h)u.push(d,f);else if(1===p)u.push(f,u[0]),u[0]=d;else{for(u.push(u[--p-1],u[p]);h<p;)u[p]=u[p-2],p--;u[h]=d,u[1+h]=f}}}}return void 0===e?null:e}function Ha(e,t,n,r,i,o){for(var a=null===t,s=void 0;0<i;){var l=e[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u,d=n[i+1],h=(d===xi&&(d=h?La:void 0),h?nn(d,r):u===r?d:void 0);if(c&&!Ua(h)&&(h=nn(l,r)),Ua(h)&&(s=h,a))return s;u=e[i+1];i=(a?Ii:Oi)(u)}return s=null!==t&&null!=(o=o?t.residualClasses:t.residualStyles)?nn(o,r):s}function Ua(e){return void 0!==e}function T(e,t){var t=1<arguments.length&&void 0!==t?t:"",n=x(),r=S(),i=e+20,e=r.firstCreatePass?Di(r,n[6],e,3,null,null):r.data[i],t=n[i]=(i=t,Mn(t=n[11])?t.createText(i):t.createTextNode(i));Ao(r,n,t,e),Gn(e,!1)}function qa(e,t,n){var r=x(),e=Ca(r,e,t,n);e!==xi&&(t=r,n=dr(),r=e,n=jn(n,t),Mn(t=t[11])?t.setValue(n,r):n.textContent=r)}function Wa(e,t,n){var r=x();ba(r,er(),t)&&Zi(S(),pr(),r,e,t,r[11],n,!0)}function $a(e,t,n){var r,i,o=x();ba(o,er(),t)&&Zi(r=S(),i=pr(),o,e,t,fo(nr(r.data),i,o),n,!0)}function Ka(e,t){var e=zn(e)[1],n=e.data.length-1;mr(e,{directiveStart:n,directiveEnd:1+n})}function Ga(e,t,n,r,i){if(e=Et(e),Array.isArray(e))for(var o=0;o<e.length;o++)Ga(e[o],t,n,r,i);else{var a,s,l=S(),c=x(),u=ca(e)?e:Et(e.provide),h=aa(e),d=Kn(),f=1048575&d.providerIndexes,p=d.directiveStart,g=d.providerIndexes>>20;ca(e)||!e.multi?(s=new wr(h,i,k),-1===(a=Qa(u,t,i?f:f+g,p))?(zr(jr(d,c),l,u),Za(l,e,t.length),t.push(u),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(s),c.push(s)):(n[a]=s,c[a]=s)):(a=Qa(u,t,f+g,p),s=Qa(u,t,f,f+g),p=0<=a&&n[a],f=0<=s&&n[s],i&&!f||!i&&!p?(zr(jr(d,c),l,u),g=n.length,p=r,m=h,(y=new wr((v=i)?Xa:Ya,v,k)).multi=[],y.index=g,y.componentProviders=0,Ja(y,m,p&&!v),g=y,!i&&f&&(n[s].providerFactory=g),Za(l,e,t.length,0),t.push(u),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(g),c.push(g)):Za(l,e,-1<a?a:s,Ja(n[i?s:a],h,!i&&r)),!i&&r&&f&&n[s].componentProviders++)}var v,m,y}function Za(e,t,n,r){var i,o=ca(t);(o||t.useClass)&&(i=(t.useClass||t).prototype.ngOnDestroy)&&(e=e.destroyHooks||(e.destroyHooks=[]),!o&&t.multi?-1===(o=e.indexOf(n))?e.push(n,[r,i]):e[o+1].push(r,i):e.push(n,i))}function Ja(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qa(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Ya(e,t,n,r){return es(this.multi,[])}function Xa(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=qr(n,n[1],this.providerFactory.index,r);es(o,i=s.slice(0,a));for(var l=a;l<s.length;l++)i.push(s[l])}else es(o,i=[]);return i}function es(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function ts(){wE(this,ts)}function ns(){wE(this,ns)}function rs(e,t){return t}CE(Ss,[{key:"resolveComponentFactory",value:function(e){throw e=e,(t=Error("No component factory found for ".concat(C(e),". Did you add it to @NgModule.entryComponents?"))).ngComponent=e,t;var t}}]);var a=Ss,is=(xs.NULL=new a,xs),os=(Cs.__NG_ELEMENT_ID__=function(){return as(Cs)},Cs),as=function(e){return Ho(e,Kn(),x())},ss=((o={})[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o),ls=(ws.__NG_ELEMENT_ID__=function(){return cs()},ws),cs=function(){var e=x(),t=Vn(Kn().index,e),t=(yn(t)?t:e)[11];if(Mn(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")},us=(_s.prov=r({token:_s,providedIn:"root",factory:function(){return null}}),_s),hs=new function e(t){wE(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("10.0.14"),ds=(CE(bs,[{key:"supports",value:ya},{key:"create",value:function(e){return new fs(e)}}]),bs),fs=(CE(ks,[{key:"forEachItem",value:function(e){for(var t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Es(n,r,i)?t:n,a=Es(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{var i=i||[],l=a-r,c=s-r;if(l!=c){for(var u=0;u<l;u++){var h=u<i.length?i[u]:i[u]=0,d=h+u;c<=d&&d<l&&(i[u]=h+1)}i[o.previousIndex]=c-l}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){for(var t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){for(var t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){for(var t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){for(var t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){for(var t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(ya(e=null==e?[]:e))return this.check(e)?this:null;throw new Error("Error trying to diff '".concat(C(e),"'. Only arrays and iterables are allowed"))}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else{n=0;{var l=e;var c=function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++};if(Array.isArray(l))for(var u=0;u<l.length;u++)c(l[u]);else for(var h,d=l[ga()]();!(h=d.next()).done;)c(h.value)}this.length=n}return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){for(var e,t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new ps(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==n?e=this._reinsertAfter(n,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new vs),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex!==t&&(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vs),this._unlinkedRecords.put(e),e.currentIndex=null,(e._nextRemoved=null)===this._removalsTail?(this._removalsTail=this._removalsHead=e)._prevRemoved=null:(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),ks),ps=function e(t,n){wE(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},gs=(CE(ys,[{key:"add",value:function(e){null===this._head?((this._head=this._tail=e)._nextDup=null,e._prevDup=null):((this._tail._nextDup=e)._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){for(var n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,e=e._nextDup;return null===t?this._head=e:t._nextDup=e,null===e?this._tail=t:e._prevDup=t,null===this._head}}]),ys),vs=(CE(ms,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new gs,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),ms);function ms(){wE(this,ms),this.map=new Map}function ys(){wE(this,ys),this._head=null,this._tail=null}function ks(e){wE(this,ks),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rs}function bs(){wE(this,bs)}function _s(){wE(this,_s)}function ws(){wE(this,ws)}function Cs(e){wE(this,Cs),this.nativeElement=e}function xs(){wE(this,xs)}function Ss(){wE(this,Ss)}function Es(e,t,n){var r,e=e.previousIndex;return null===e?e:(r=0,e+t+(r=n&&e<n.length?n[e]:r))}CE(Gs,[{key:"supports",value:function(e){return e instanceof Map||ka(e)}},{key:"create",value:function(){return new Is}}]);var Ts,As,Ps,Rs=Gs,Is=(CE(Ks,[{key:"forEachItem",value:function(e){for(var t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){for(var t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){for(var t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){for(var t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){for(var t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||ka(e)))throw new Error("Error trying to diff '".concat(C(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this,r=(this._reset(),this._mapHead);if(this._appendAfter=null,this._forEach(e,function(e,t){r=r&&r.key===t?(n._maybeAddToChanges(r,e),(n._appendAfter=r)._next):(t=n._getOrCreateRecordForKey(t,e),n._insertBeforeOrAppend(r,t))}),r){r._prev&&(r._prev._next=null);for(var t=this._removalsHead=r;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){var n;return e?(n=e._prev,t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e):(this._appendAfter?(this._appendAfter._next=t)._prev=this._appendAfter:this._mapHead=t,this._appendAfter=t,null)}},{key:"_getOrCreateRecordForKey",value:function(e,t){var n,r,i;return this._records.has(e)?(n=this._records.get(e),this._maybeAddToChanges(n,t),r=n._prev,i=n._next,r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n):(i=new Os(e),this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i)}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(function(e){return n(t[e],e)})}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),Ks),Os=function e(t){wE(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ms=(CE($s,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat(t.name||typeof t,"'"))}}],[{key:"create",value:function(e,t){return null!=t&&(t=t.factories.slice(),e=e.concat(t)),new $s(e)}},{key:"extend",value:function(t){return{provide:$s,useFactory:function(e){if(e)return $s.create(t,e);throw new Error("Cannot extend IterableDiffers without a parent injector")},deps:[[$s,new pt,new dt]]}}}]),(Ps=$s).prov=r({token:Ps,providedIn:"root",factory:function(){return new Ps([new ds])}}),Ps),e=(CE(Ws,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,t){return t&&(t=t.factories.slice(),e=e.concat(t)),new Ws(e)}},{key:"extend",value:function(t){return{provide:Ws,useFactory:function(e){if(e)return Ws.create(t,e);throw new Error("Cannot extend KeyValueDiffers without a parent injector")},deps:[[Ws,new pt,new dt]]}}}]),(As=Ws).prov=r({token:As,providedIn:"root",factory:function(){return new As([new Rs])}}),As),a=[new Rs],Ns=new Ms([new ds]),Ls=new e(a),js=(qs.__NG_ELEMENT_ID__=function(){return Ds(qs,os)},qs),Ds=function(e,t){return Uo(e,t,Kn(),x())},Fs=(Us.__NG_ELEMENT_ID__=function(){return Vs(Us,os)},Us),Vs=function(e,t){return qo(e,t,Kn(),x())},zs={},Bs=(xE(Hs,is),Ts=SE(Hs),CE(Hs,[{key:"resolveComponentFactory",value:function(e){e=gn(e);return new Ys(e,this.ngModule)}}]),Hs);function Hs(e){var t;return wE(this,Hs),(t=Ts.call(this)).ngModule=e,t}function Us(){wE(this,Us)}function qs(){wE(this,qs)}function Ws(e){wE(this,Ws),this.factories=e}function $s(e){wE(this,$s),this.factories=e}function Ks(){wE(this,Ks),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}function Gs(){wE(this,Gs)}function Zs(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}var Js,Qs,o=new c("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ir}}),Ys=(xE(rl,ts),Qs=SE(rl),CE(rl,[{key:"create",value:function(e,t,n,r){var i,o,a,s,l,c,u,h,j,d,f,p,g,v,m,y,k,b,_,w,C,x,S,E,r=(r=r||this.ngModule)?(s=e,l=r.injector,{get:function(e,t,n){var r=s.get(e,zs,n);return r!==zs||t===zs?r:l.get(e,t,n)}}):e,e=r.get(ns,Nn),T=r.get(us,null),A=e.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",R=n?(a=A,R=n,I=this.componentDef.encapsulation,Mn(a)?a.selectRootElement(R,I===an.ShadowDom):((I="string"==typeof R?a.querySelector(R):R).textContent="",I)):Li(P,e.createRenderer(null,this.componentDef),"svg"===(a=P.toLowerCase())?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null),I=this.componentDef.onPush?576:528,P={components:[],scheduler:Ir,clean:uo,playerHandler:null,flags:0},O=Wi(0,-1,null,1,0,null,null,null,null,null),T=ji(null,O,P,I,null,null,e,A,T,r);ar(T,null);try{k=R,b=this.componentDef,w=e,C=A,x=(_=T)[1],_[20]=k,S=Di(x,null,0,3,null,null),null!==(E=S.mergedAttrs=b.hostAttrs)&&(fa(S,E,!0),null!==k)&&(Cr(C,k,E),null!==S.classes&&Mo(C,k,S.classes),null!==S.styles)&&Oo(C,k,S.styles),E=w.createRenderer(k,b),C=ji(_,qi(b),null,b.onPush?64:16,_[20],S,w,E,void 0),x.firstCreatePass&&(zr(jr(S,_),x,b.type),to(x,S),no(S,_.length,1)),oo(_,C);var D,M,N,F=_[20]=C;if(R&&(n?Cr(A,R,["ng-version",hs.full]):(M=(D=(e=>{for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!_i(i))break;i=o}r++}return{attrs:t,classes:n}})(this.componentDef.selectors[0])).attrs,N=D.classes,M&&Cr(A,R,M),N&&0<N.length&&Mo(A,R,N.join(" ")))),o=Fn(O,0),void 0!==t)for(var V=o.projection=[],L=0;L<this.ngContentSelectors.length;L++){var z=t[L];V.push(null!=z?Array.from(z):null)}c=F,u=this.componentDef,j=P,d=[Ka],v=(h=T)[1],g=v,f=h,p=u,y=Kn(),g.firstCreatePass&&(p.providersResolver&&p.providersResolver(p),eo(g,y,1),ro(g,f,p)),vi(p=qr(f,g,f.length-1,y),f),(g=Dn(y,f))&&vi(g,f),m=p,j.components.push(m),c[8]=m,d&&d.forEach(function(e){return e(m,u)}),u.contentQueries&&u.contentQueries(1,m,h.length-1),y=Kn(),!v.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(fr(y.index-20),Qi(g=h[1],u),Yi(g,h,u.hostVars),Xi(u,m)),i=m,Fi(O,T,null)}finally{hr()}r=new Xs(this.componentType,i,Ho(os,o,T),T,o);return O.node.child=o,r}},{key:"inputs",get:function(){return Zs(this.componentDef.inputs)}},{key:"outputs",get:function(){return Zs(this.componentDef.outputs)}}]),rl),Xs=(xE(nl,function(){return function e(){wE(this,e)}}()),Js=SE(nl),CE(nl,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null,!this.hostView.destroyed)&&this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new Kr(this._tNode,this._rootLView)}}]),nl),a=void 0,el=["en",[["a","p"],["AM","PM"],a],[["AM","PM"],a,a],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],a,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],a,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",a,"{1} 'at' {0}",a],[".",",",";","%","+","-","E","","","","NaN",":"],["#,##0.###","#,##0%","#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),e=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}],tl={};function nl(e,t,n,r,i){var o;return wE(this,nl),(o=Js.call(this)).location=n,o._rootLView=r,o._tNode=i,o.destroyCbs=[],o.instance=t,o.hostView=o.changeDetectorRef=new Vo(r),null==(t=(i=(n=r)[1]).node)&&(i.node=t=Ki(0,null,2,-1,null,null)),n[6]=t,o.componentType=e,o}function rl(e,t){var n;return wE(this,rl),(n=Qs.call(this)).componentDef=e,n.ngModule=t,n.componentType=e.type,n.selector=e.selectors.map(Ci).join(","),n.ngContentSelectors=e.ngContentSelectors||[],n.isBoundToModule=!!t,n}function il(e){return e in tl||(tl[e]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[e]),tl[e]}(a={})[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData";var ol=a;function al(e){var t;if(null==(t=e))throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"));"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var sl,ll,cl=new Map,ul=(xE(fl,Qt),ll=SE(fl),CE(fl,[{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f.THROW_IF_NOT_FOUND,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:b.Default;return e===f||e===Qt||e===Ft?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;e.destroyed||e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),fl),hl=(xE(dl,Zt),sl=SE(dl),CE(dl,[{key:"create",value:function(e){return new ul(this.moduleType,e)}}]),dl);function dl(e){var t;return wE(this,dl),null!==mn((t=sl.call(this)).moduleType=e)&&function e(t){if(null!==t.mod.id){var n=t.mod.id,r=n,i=cl.get(n);if(i&&i!==t)throw new Error("Duplicate module registered for ".concat(r," - ").concat(C(i)," vs ").concat(C(i.name)));cl.set(n,t)}r=t.mod.imports;(r=r instanceof Function?r():r)&&r.forEach(e)}(e),t}function fl(e,t){wE(this,fl),(n=ll.call(this))._parent=t,n._bootstrapComponents=[],n.injector=TE(n),n.destroyCbs=[],n.componentFactoryResolver=new Bs(TE(n));var n,r=mn(e),i=e[Lt]||null;return i&&al(i),n._bootstrapComponents=Or(r.bootstrap),n._r3Injector=na(e,t,[{provide:Qt,useValue:TE(n)},{provide:is,useValue:n.componentFactoryResolver}],C(e)),n._r3Injector._resolveInjectorDefTypes(),n.instance=n.get(e),n}function pl(e,t,n,r,i){var o=x(),a=Xn();return _a(o,a+=e,n,r)?o[a+2]=i?t.call(i,n,r):t(n,r):gl(o,a+2)}function gl(e,t){e=e[t];return e===xi?void 0:e}function A(e,t){var n=S(),r=e+20,t=(n.firstCreatePass?(i=((e,t)=>{if(t)for(var n=t.length-1;0<=n;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))})(t,n.pipeRegistry),(n.data[r]=i).onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r],i.factory||(i.factory=vn(i.type))),r=Wt(k),i=Nr(!1),t=t();Nr(i),Wt(r),i=n,r=x(),n=t,(t=e+20)>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),r[t]=n}function P(e,o,t){var n,r=x(),i=r[e+20];return e=(n=r)[1].data[e+20].pure?((e,t,n,r,i)=>ba(e,t+=o,r)?e[t+1]=i?n.call(i,r):n(r):gl(e,t+1))(r,Xn(),i.transform,t,i):i.transform(t),va.isWrapped(e)&&(e=va.unwrap(e),n[V.lFrame.bindingIndex]=xi),e}xE(ml,pe),vl=SE(ml),CE(ml,[{key:"emit",value:function(e){yE(RE(ml.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(t,n,e){var r=function(e){return null},i=function(){return null},o=(t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(r=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(i=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(r=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),e&&(i=this.__isAsync?function(){setTimeout(function(){return e()})}:function(){e()})),yE(RE(ml.prototype),"subscribe",this).call(this,o,r,i));return t instanceof $&&t.add(o),o}}]);var vl,R=ml;function ml(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return wE(this,ml),(e=vl.call(this)).__isAsync=t,e}function yl(){return this._results[ga()]()}function kl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;wE(this,kl),this.predicate=e,this.descendants=t,this.isStatic=n,this.read=r}CE(Pl,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?e(i,n=n===t?t.slice(0,r):n):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]);var bl=Pl,_l=(CE(Al,[{key:"clone",value:function(){return new Al(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),Al),wl=(CE(Tl,[{key:"createEmbeddedView",value:function(e){var t=e.queries;if(null===t)return null;for(var n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[],i=0;i<n;i++){var o=t.getByIndex(i);r.push(this.queries[o.indexInDeclarationView].clone())}return new Tl(r)}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Dl(e,t).matches&&this.queries[t].setDirty()}}]),Tl),Cl=(CE(El,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(e){for(var t=null,n=0;n<this.length;n++){var r=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,r);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new El(t):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),El),xl=(CE(Sl,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Sl(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,((e,t)=>{var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null})(t,i)),this.matchTNodeWithReadOption(e,t,Ur(t,e,i,!1,!1))}else n===js?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ur(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){var r;null!==n&&(null!==(r=this.metadata.read)?r===os||r===Fs||r===js&&0===t.type?this.addMatch(t.index,-2):null!==(e=Ur(t,e,r,!1,!1))&&this.addMatch(t.index,e):this.addMatch(t.index,n))}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),Sl);function Sl(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;wE(this,Sl),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}function El(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];wE(this,El),this.queries=e}function Tl(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];wE(this,Tl),this.queries=e}function Al(e){wE(this,Al),this.queryList=e,this.matches=null}function Pl(){wE(this,Pl),this.dirty=!0,this._results=[],this.changes=new R,this.length=0;var e=ga(),t=Pl.prototype;t[e]||(t[e]=yl)}function Rl(e,t,n,r){var i,o,a,s,l,r=t[19].queries[r];if(null===r.matches){for(var c=e.data,u=n.matches,h=[],d=0;d<u.length;d+=2){var f=u[d];h.push(f<0?null:(i=t,f=c[f],o=u[d+1],a=n.metadata.read,l=s=void 0,-1===o?(l=i,3===(s=f).type||4===s.type?Ho(os,s,l):0===s.type?Uo(js,os,s,l):null):-2===o?(s=i,l=f,(a=a)===os?Ho(os,l,s):a===js?Uo(js,os,l,s):a===Fs?qo(Fs,os,l,s):void 0):qr(i,i[1],o,f)))}r.matches=h}return r.matches}function Il(e){var t=x(),n=S(),r=rr(),i=(ir(r+1),Dl(n,r));return e.dirty&&Bn(t)===i.metadata.isStatic&&(null===i.matches?e.reset([]):(n=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Rl(t,n,o,r),l=0;l<a.length;l+=2){var c=a[l];if(0<c)i.push(s[l/2]);else{for(var u=a[l+1],h=n[-c],d=10;d<h.length;d++){var f=h[d];f[17]===f[3]&&e(f[1],f,u,i)}if(null!==h[9])for(var p=h[9],g=0;g<p.length;g++){var v=p[g];e(v[1],v,u,i)}}}return i}(n,t,r,[]):Rl(n,t,i,r),e.reset(n),e.notifyOnChanges()),1)}function Ol(e,t,n){var r,i;r=S(),i=x(),r.firstCreatePass&&jl(r,new kl(e,t,!1,n),-1),Ll(r,i)}function Ml(e,t,n,r){var i,o,a;i=S(),o=x(),a=Kn(),e=e,i.firstCreatePass&&(jl(i,new kl(t,n,!1,r),a.index),a=e,t=(e=i).contentQueries||(e.contentQueries=[]),a!==(e.contentQueries.length?t[t.length-1]:-1))&&t.push(e.queries.length-1,a),Ll(i,o)}function Nl(){return e=x(),t=rr(),e[19].queries[t].queryList;var e,t}function Ll(e,t){var n=new bl;$i(e,t,n,n.destroy),null===t[19]&&(t[19]=new wl),t[19].queries.push(new _l(n))}function jl(e,t,n){null===e.queries&&(e.queries=new Cl),e.queries.track(new xl(t,n))}function Dl(e,t){return e.queries.getByIndex(t)}var Fl,Vl=new c("Application Initializer"),zl=(CE(Hl,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Aa(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),(Fl=Hl).fac=function(e){return new(e||Fl)(l(Vl,8))},Fl.prov=r({token:Fl,factory:Fl.fac}),Fl),Bl=new c("AppId"),a={provide:Bl,useFactory:function(){return"".concat(Ul()).concat(Ul()).concat(Ul())},deps:[]};function Hl(e){var n=this;wE(this,Hl),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}function Ul(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function ql(e,t){wE(this,ql),this.ngModuleFactory=e,this.componentFactories=t}function Wl(e){return Promise.resolve(tc(e))}function $l(e){return Promise.resolve(rc(e))}var Kl,Gl,Zl=new c("Platform Initializer"),Jl=new c("Platform ID"),Ql=new c("appBootstrapListener"),Yl=(CE(lc,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),(Gl=lc).fac=function(e){return new(e||Gl)},Gl.prov=r({token:Gl,factory:Gl.fac}),Gl),Xl=new c("LocaleId"),ec=new c("DefaultCurrencyCode"),tc=function(e){return new hl(e)},nc=tc,rc=function(e){var t=tc(e),e=Or(mn(e).declarations).reduce(function(e,t){t=gn(t);return t&&e.push(new Ys(t)),e},[]);return new ql(t,e)},ic=rc,oc=(CE(sc,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),(Kl=sc).fac=function(e){return new(e||Kl)},Kl.prov=r({token:Kl,factory:Kl.fac}),Kl),ac=Promise.resolve(0);function sc(){wE(this,sc),this.compileModuleSync=nc,this.compileModuleAsync=Wl,this.compileModuleAndAllComponentsSync=ic,this.compileModuleAndAllComponentsAsync=$l}function lc(){wE(this,lc)}function cc(e){"undefined"==typeof Zone?ac.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}CE(uc,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,r=i.scheduleEventTask("NgZoneEvent: "+r,e,dc,hc,hc);try{return i.runTask(r,t,n)}finally{i.cancelTask(r)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!uc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(uc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]);var I=uc;function uc(e){var s,a,t,n=e.enableLongStackTrace,n=void 0!==n&&n,e=e.shouldCoalesceEventChangeDetection,e=void 0!==e&&e;if(wE(this,uc),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new R(!1),this.onMicrotaskEmpty=new R(!1),this.onStable=new R(!1),this.onError=new R(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=(n=Rt.requestAnimationFrame,e=Rt.cancelAnimationFrame,void 0!==Zone&&n&&e&&((t=n[Zone.__symbol__("OriginalDelegate")])&&(n=t),t=e[Zone.__symbol__("OriginalDelegate")])&&(e=t),n),a=!!(s=this).shouldCoalesceEventChangeDetection&&s.nativeRequestAnimationFrame&&function(){var e;-1===(e=s).lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Rt,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,pc(e),fc(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),pc(e))},s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:a},onInvokeTask:function(e,t,n,r,i,o){try{return gc(s),e.invokeTask(n,r,i,o)}finally{a&&"eventTask"===r.type&&a(),vc(s)}},onInvoke:function(e,t,n,r,i,o,a){try{return gc(s),e.invoke(n,r,i,o,a)}finally{vc(s)}},onHasTask:function(e,t,n,r){e.hasTask(n,r),t===n&&("microTask"==r.change?(s._hasPendingMicrotasks=r.microTask,pc(s),fc(s)):"macroTask"==r.change&&(s.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,n,r){return e.handleError(n,r),s.runOutsideAngular(function(){return s.onError.emit(r)}),!1}})}function hc(){}var dc={};function fc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function pc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function gc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vc(e){e._nesting--,fc(e)}function mc(e,t){wE(this,mc),this.name=e,this.token=t}CE(Pc,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]);var yc,kc,bc,_c=Pc,wc=(CE(Ac,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){I.assertNotInAngularZone(),cc(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(--this._pendingCount,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t,n=this;this.isStable()?cc(function(){for(;0!==n._callbacks.length;){var e=n._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(n._didWork)}n._didWork=!1}):(t=this.getPendingTasks(),this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0)}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&0<t&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),(bc=Ac).fac=function(e){return new(e||bc)(l(I))},bc.prov=r({token:bc,factory:bc.fac}),bc),Cc=(CE(Tc,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){return xc.findTestabilityInTree(this,e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}}]),(kc=Tc).fac=function(e){return new(e||kc)},kc.prov=r({token:kc,factory:kc.fac}),kc),xc=(CE(Ec,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),new Ec),Sc=new c("AllowMultipleToken");function Ec(){wE(this,Ec)}function Tc(){wE(this,Tc),this._applications=new Map,xc.addToWindow(this)}function Ac(e){var t=this;wE(this,Ac),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){t.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}function Pc(){wE(this,Pc),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new R,this.onMicrotaskEmpty=new R,this.onStable=new R,this.onError=new R}function Rc(n,e,t){var r=2<arguments.length&&void 0!==t?t:[],i="Platform: "+e,o=new c(i);return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=Ic();if(!t||t.injector.get(Sc,!1))if(n)n(r.concat(e).concat({provide:o,useValue:!0}));else{t=r.concat(e).concat({provide:o,useValue:!0},{provide:Zo,useValue:"platform"}),e=f.create({providers:t,name:i});if(yc&&!yc.destroyed&&!yc.injector.get(Sc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yc=e.get(Mc),(e=e.get(Zl,null))&&e.forEach(function(e){return e()})}t=o,e=Ic();if(!e)throw new Error("No platform exists!");if(e.injector.get(t,null))return e;throw new Error("A platform with a different configuration has been created. Please destroy it first.")}}function Ic(){return yc&&!yc.destroyed?yc:null}CE(Nc,[{key:"bootstrapModuleFactory",value:function(s,e){var t,l=this,c=(t=e?e.ngZone:void 0,e=e&&e.ngZoneEventCoalescing||!1,"noop"===t?new _c:("zone.js"===t?void 0:t)||new I({enableLongStackTrace:li(),shouldCoalesceEventChangeDetection:e})),u=[{provide:I,useValue:c}];return c.run(function(){var e=f.create({providers:u,parent:l.injector,name:s.moduleType.name}),t=s.create(e),n=t.injector.get(ei,null);if(!n)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");t.onDestroy(function(){return Vc(l._modules,t)}),c.runOutsideAngular(function(){return c.onError.subscribe({next:function(e){n.handleError(e)}})});var r,i=n,o=c;try{(r=t.injector.get(zl)).runInitializers();var a=r.donePromise.then(function(){return al(t.injector.get(Xl,"en-US")||"en-US"),l._moduleDoBootstrap(t),t});return Aa(a)?a.catch(function(e){throw o.runOutsideAngular(function(){return i.handleError(e)}),e}):a}catch(e){throw o.runOutsideAngular(function(){return i.handleError(e)}),e}})}},{key:"bootstrapModule",value:function(e){var t=this,n=Lc({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]);return e=new hl(e),Promise.resolve(e).then(function(e){return t.bootstrapModuleFactory(e,n)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Dc);if(0<e._bootstrapComponents.length)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(C(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),(Oc=Nc).fac=function(e){return new(e||Oc)(l(f))},Oc.prov=r({token:Oc,factory:Oc.fac});var Oc,Mc=Oc;function Nc(e){wE(this,Nc),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}function Lc(e,t){return Array.isArray(t)?t.reduce(Lc,e):Object.assign(Object.assign({},e),t)}CE(Fc,[{key:"bootstrap",value:function(e,t){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");e=e instanceof ts?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(e.componentType);var r=e.isBoundToModule?void 0:this._injector.get(Qt),i=e.create(f.NULL,[],t||e.selector,r),t=(i.onDestroy(function(){n._unloadComponent(i)}),i.injector.get(wc,null));return t&&i.injector.get(Cc).registerApplication(i.location.nativeElement,t),this._loadComponent(i),li()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=bE(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(e){n.e(e)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=bE(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(e){i.e(e)}finally{i.f()}}}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(e){Vc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ql,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Vc(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()})}},{key:"viewCount",get:function(){return this._views.length}}]),(jc=Fc).fac=function(e){return new(e||jc)(l(I),l(Yl),l(f),l(ei),l(is),l(zl))},jc.prov=r({token:jc,factory:jc.fac});var jc,Dc=jc;function Fc(e,t,n,r,i,o){var a=this,e=(wE(this,Fc),this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=li(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}}),new u(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})})),t=new u(function(e){a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){I.assertNotInAngularZone(),cc(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))})})});var t,n=a._zone.onUnstable.subscribe(function(){I.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Ze(e,t.pipe(function(e){return Je()((e=e,t="function"==typeof(r=lt)?r:function(){return r},(n=Object.create(e,nt)).source=e,n.subjectFactory=t,n));var t,n,r}))}function Vc(e,t){t=e.indexOf(t);-1<t&&e.splice(t,1)}function zc(){wE(this,zc)}function Bc(){wE(this,Bc)}var Hc,Uc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},qc=(CE(Wc,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,e=kE(e.split("#"),2),n=e[0],r=e[1];return void 0===r&&(r="default"),j("zn8P")(n).then(function(e){return e[r]}).then(function(e){return $c(e,n,r)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var e=kE(e.split("#"),2),t=e[0],n=e[1],r="NgFactory";return void 0===n&&(n="default",r=""),j("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(function(e){return e[n+r]}).then(function(e){return $c(e,t,n)})}}]),(Hc=Wc).fac=function(e){return new(e||Hc)(l(oc),l(Bc,8))},Hc.prov=r({token:Hc,factory:Hc.fac}),Hc);function Wc(e,t){wE(this,Wc),this._compiler=e,this._config=t||Uc}function $c(e,t,n){if(e)return e;throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"))}var Kc,Gc=Rc(null,"core",[{provide:Jl,useValue:"unknown"},{provide:Mc,deps:[f]},{provide:Cc,deps:[]},{provide:Yl,deps:[]}]),o=[{provide:Dc,useClass:Dc,deps:[I,Yl,f,ei,is,zl]},{provide:o,deps:[I],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:zl,useClass:zl,deps:[[new dt,Vl]]},{provide:oc,useClass:oc,deps:[]},a,{provide:Ms,useFactory:function(){return Ns},deps:[]},{provide:e,useFactory:function(){return Ls},deps:[]},{provide:Xl,useFactory:function(e){return al(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ht(Xl),new dt,new pt]]},{provide:ec,useValue:"USD"}],a=((Kc=function e(t){wE(this,e)}).mod=s({type:Kc}),Kc.inj=t({factory:function(e){return new(e||Kc)(l(Dc))},providers:o}),Kc),Zc={production:!0,configLocal:j("ek6d")},Jc=null;var Qc,Yc=new c("DocumentToken"),Xc=((Qc=function e(){wE(this,e)}).fac=function(e){return new(e||Qc)},Qc.prov=r({factory:function(){return l(ru)},token:Qc,providedIn:"platform"}),Qc);var eu,tu,nu=new c("Location Initialized"),ru=(xE(iu,Xc),tu=SE(iu),CE(iu,[{key:"_init",value:function(){this.location=Jc.getLocation(),this._history=Jc.getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Jc.getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Jc.getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Jc.getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){ou()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){ou()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),(eu=iu).fac=function(e){return new(e||eu)(l(Yc))},eu.prov=r({factory:function(){return new ru(l(Yc))},token:eu,providedIn:"platform"}),eu);function iu(e){var t;return wE(this,iu),(t=tu.call(this))._doc=e,t._init(),t}function ou(){return window.history.pushState}function au(e,t){var n;return 0==e.length?t:0==t.length?e:(n=0,e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t)}function su(e){var t=e.match(/#|\?|$/),t=t&&t.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function lu(e){return e&&"?"!==e[0]?"?"+e:e}(cu=function e(){wE(this,e)}).fac=function(e){return new(e||cu)},cu.prov=r({factory:function(e){var t=l(Yc).location;return new mu(l(Xc),t&&t.origin||"")},token:cu,providedIn:"root"});var cu,uu=cu;var hu,du,fu,pu,gu,vu=new c("appBaseHref"),mu=(xE(wu,uu),gu=SE(wu),CE(wu,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return au(this._baseHref,e)}},{key:"path",value:function(){var e=this._platformLocation.pathname+lu(this._platformLocation.search),t=this._platformLocation.hash;return t&&(0<arguments.length&&void 0!==arguments[0]&&arguments[0])?"".concat(e).concat(t):e}},{key:"pushState",value:function(e,t,n,r){n=this.prepareExternalUrl(n+lu(r));this._platformLocation.pushState(e,t,n)}},{key:"replaceState",value:function(e,t,n,r){n=this.prepareExternalUrl(n+lu(r));this._platformLocation.replaceState(e,t,n)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),(fu=wu).fac=function(e){return new(e||fu)(l(Xc),l(vu,8))},fu.prov=r({token:fu,factory:fu.fac}),fu),yu=(xE(_u,uu),pu=SE(_u),CE(_u,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return 0<(e=null==e?"#":e).length?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){e=au(this._baseHref,e);return 0<e.length?"#"+e:e}},{key:"pushState",value:function(e,t,n,r){n=this.prepareExternalUrl(n+lu(r));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.pushState(e,t,n)}},{key:"replaceState",value:function(e,t,n,r){n=this.prepareExternalUrl(n+lu(r));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,n)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),(du=_u).fac=function(e){return new(e||du)(l(Xc),l(vu,8))},du.prov=r({token:du,factory:du.fac}),du),ku=(CE(bu,[{key:"path",value:function(){return this.normalize(this._platformStrategy.path(0<arguments.length&&void 0!==arguments[0]&&arguments[0]))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+lu(t))}},{key:"normalize",value:function(e){return bu.stripTrailingSlash((t=this._baseHref,e=Cu(e),t&&e.startsWith(t)?e.substring(t.length):e));var t}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lu(t)),n)}},{key:"replaceState",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lu(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length?arguments[1]:void 0;this._urlChangeListeners.forEach(function(e){return e(t,n)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),(hu=bu).fac=function(e){return new(e||hu)(l(uu),l(Xc))},hu.normalizeQueryParams=lu,hu.joinWithSlash=au,hu.stripTrailingSlash=su,hu.prov=r({factory:function(){return new ku(l(uu),l(Xc))},token:hu,providedIn:"root"}),hu);function bu(e,t){var n=this,e=(wE(this,bu),this._subject=new R,this._urlChangeListeners=[],this._platformStrategy=e,this._platformStrategy.getBaseHref());this._platformLocation=t,this._baseHref=su(Cu(e)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})})}function _u(e,t){var n;return wE(this,_u),(n=pu.call(this))._platformLocation=e,n._baseHref="",null!=t&&(n._baseHref=t),n}function wu(e,t){var n;if(wE(this,wu),(n=gu.call(this))._platformLocation=e,null==(t=null==t?n._platformLocation.getBaseHrefFromDOM():t))throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return n._baseHref=t,EE(n)}function Cu(e){return e.replace(/\/index.html$/,"")}function xu(){wE(this,xu)}(e={})[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other";var Su,Eu,Tu=e,ec=(xE(Au,xu),Eu=SE(Au),CE(Au,[{key:"getPluralCategory",value:function(e,t){switch((0,(e=>{var t=e.toLowerCase().replace(/_/g,"-"),n=il(t);if(n)return n;if(t=t.split("-")[0],n=il(t))return n;if("en"===t)return el;throw new Error('Missing locale data for the locale "'.concat(e,'".'))})(t||this.locale)[ol.PluralCase])(e)){case Tu.Zero:return"zero";case Tu.One:return"one";case Tu.Two:return"two";case Tu.Few:return"few";case Tu.Many:return"many";default:return"other"}}}]),(Su=Au).fac=function(e){return new(e||Su)(l(Xl))},Su.prov=r({token:Su,factory:Su.fac}),Su);function Au(e){var t;return wE(this,Au),(t=Eu.call(this)).locale=e,t}function Pu(e,t){t=encodeURIComponent(t);var n,r=bE(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=kE(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],l=a[1];if(s.trim()===t)return decodeURIComponent(l)}}catch(e){r.e(e)}finally{r.f()}return null}CE(Du,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]);var Ru,Iu,Ou=Du,o=(CE(ju,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat(t.name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}this._differ&&(t=this._differ.diff(this._ngForOf))&&this._applyChanges(t)}},{key:"_applyChanges",value:function(e){var i=this,o=[];e.forEachOperation(function(e,t,n){var r;null==e.previousIndex?(r=i._viewContainer.createEmbeddedView(i._template,new Ou(null,i._ngForOf,-1,-1),null===n?void 0:n),r=new Mu(e,r),o.push(r)):null==n?i._viewContainer.remove(null===t?void 0:t):null!==t&&(r=i._viewContainer.get(t),i._viewContainer.move(r,n),t=new Mu(e,r),o.push(t))});for(var t=0;t<o.length;t++)this._perViewChange(o[t].view,o[t].record);for(var n=0,r=this._viewContainer.length;n<r;n++){var a=this._viewContainer.get(n);a.context.index=n,a.context.count=r,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){i._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){li()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),(Ru=ju).fac=function(e){return new(e||Ru)(k(Fs),k(js),k(Ms))},Ru.dir=Pt({type:Ru,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Ru),Mu=function e(t,n){wE(this,e),this.record=t,this.view=n},e=(CE(Lu,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Fu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Fu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),(Iu=Lu).fac=function(e){return new(e||Iu)(k(Fs),k(js))},Iu.dir=Pt({type:Iu,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Iu),Nu=function e(){wE(this,e),this.$implicit=null,this.ngIf=null};function Lu(e,t){wE(this,Lu),this._viewContainer=e,this._context=new Nu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}function ju(e,t,n){wE(this,ju),this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}function Du(e,t,n,r){wE(this,Du),this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}function Fu(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(C(t),"'."))}CE(Yu,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]);var Vu,zu,Bu,Hu,Uu=Yu,qu=(CE(Qu,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){e=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),(Hu=Qu).fac=function(e){return new(e||Hu)},Hu.dir=Pt({type:Hu,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Hu),Wu=(CE(Ju,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),(Bu=Ju).fac=function(e){return new(e||Bu)(k(Fs),k(js),k(qu,1))},Bu.dir=Pt({type:Bu,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Bu),$u=((zu=function e(t,n,r){wE(this,e),r._addDefault(new Uu(t,n))}).fac=function(e){return new(e||zu)(k(Fs),k(js),k(qu,1))},zu.dir=Pt({type:zu,selectors:[["","ngSwitchDefault",""]]}),zu),ec=((Vu=function e(){wE(this,e)}).mod=s({type:Vu}),Vu.inj=t({factory:function(e){return new(e||Vu)},providers:[{provide:xu,useClass:ec}]}),Vu),Ku=((ph=function e(){wE(this,e)}).prov=r({token:ph,providedIn:"root",factory:function(){return new Gu(l(Yc),window,l(ei))}}),ph),Gu=(CE(Zu,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){this.supportsScrolling()&&(e=this.document.getElementById(e)||this.document.getElementsByName(e)[0])&&this.scrollToElement(e)}},{key:"setHistoryScrollRestoration",value:function(e){var t;this.supportScrollRestoration()&&(t=this.window.history)&&t.scrollRestoration&&(t.scrollRestoration=e)}},{key:"scrollToElement",value:function(e){var e=e.getBoundingClientRect(),t=e.left+this.window.pageXOffset,e=e.top+this.window.pageYOffset,n=this.offset();this.window.scrollTo(t-n[0],e-n[1])}},{key:"supportScrollRestoration",value:function(){try{var e;return this.window&&this.window.scrollTo?!(!(e=Xu(this.window.history)||Xu(Object.getPrototypeOf(this.window.history)))||!e.writable&&!e.set):!1}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(e){return!1}}}]),Zu);function Zu(e,t,n){wE(this,Zu),this.document=e,this.window=t,this.errorHandler=n,this.offset=function(){return[0,0]}}function Ju(e,t,n){wE(this,Ju),(this.ngSwitch=n)._addCase(),this._view=new Uu(e,t)}function Qu(){wE(this,Qu),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}function Yu(e,t){wE(this,Yu),this._viewContainerRef=e,this._templateRef=t,this._created=!1}function Xu(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}xE(Sh,function(){return function e(){wE(this,e)}}()),ah=SE(Sh),CE(Sh,[{key:"supportsDOMEvents",value:function(){return!0}}]),xE(xh,Sh),oh=SE(xh),CE(xh,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t=(lh=lh||document.querySelector("base"))?lh.getAttribute("href"):null;return null==t?null:(t=t,(eh=eh||document.createElement("a")).setAttribute("href",t),"/"===eh.pathname.charAt(0)?eh.pathname:"/"+eh.pathname)}},{key:"resetBaseElement",value:function(){lh=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Pu(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e=new xh;Jc=Jc||e}}]);var eh,th,nh,rh,ih,oh,ah,sh=xh,lh=null,ch=new c("TRANSITION_ID"),uh=[{provide:Vl,useFactory:function(n,e,t){return function(){t.get(zl).donePromise.then(function(){var t=Jc;Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===n}).forEach(function(e){return t.remove(e)})})}},deps:[ch,Yc,f],multi:!0}],hh=(CE(Ch,[{key:"addToWindow",value:function(t){Rt.getAngularTestability=function(e){e=t.findTestabilityInTree(e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1]);if(null==e)throw new Error("Could not find testability for element.");return e},Rt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Rt.getAllAngularRootElements=function(){return t.getAllRootElements()},Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(function(t){function n(e){i=i||e,0==--r&&t(i)}var e=Rt.getAllAngularTestabilities(),r=e.length,i=!1;e.forEach(function(e){e.whenStable(n)})})}},{key:"findTestabilityInTree",value:function(e,t,n){var r;return null==t?null:null!=(r=e.getTestability(t))?r:n?Jc.isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var e=new Ch;xc=e}}]),Ch),dh=new c("EventManagerPlugins"),fh=(CE(wh,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),(th=wh).fac=function(e){return new(e||th)(l(dh),l(I))},th.prov=r({token:th,factory:th.fac}),th),ph=(CE(_h,[{key:"addGlobalEventListener",value:function(e,t,n){e=Jc.getGlobalEventTarget(this._doc,e);if(e)return this.addEventListener(e,t,n);throw new Error("Unsupported event target ".concat(e," for event ").concat(t))}}]),_h),gh=(CE(bh,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),(rh=bh).fac=function(e){return new(e||rh)},rh.prov=r({token:rh,factory:rh.fac}),rh),vh=(xE(kh,gh),ih=SE(kh),CE(kh,[{key:"_addStylesToHost",value:function(e,n){var r=this;e.forEach(function(e){var t=r._doc.createElement("style");t.textContent=e,r._styleNodes.add(n.appendChild(t))})}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(t){var n=this;this._hostNodes.forEach(function(e){return n._addStylesToHost(t,e)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(e){return Jc.remove(e)})}}]),(nh=kh).fac=function(e){return new(e||nh)(l(Yc))},nh.prov=r({token:nh,factory:nh.fac}),nh),mh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yh=/%COMP%/g;function kh(e){var t;return wE(this,kh),(t=ih.call(this))._doc=e,t._hostNodes=new Set,t._styleNodes=new Set,t._hostNodes.add(e.head),t}function bh(){wE(this,bh),this._stylesSet=new Set}function _h(e){wE(this,_h),this._doc=e}function wh(e,t){var n=this;wE(this,wh),this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}function Ch(){wE(this,Ch)}function xh(){return wE(this,xh),oh.apply(this,arguments)}function Sh(){return wE(this,Sh),ah.call(this)}function Eh(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Eh(e,i,n):(i=i.replace(yh,e),n.push(i))}return n}function Th(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}CE(Qh,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case an.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Fh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case an.Native:case an.ShadowDom:return new Vh(this.eventManager,this.sharedStylesHost,e,t);default:return this.rendererByCompId.has(t.id)||(n=Eh(t.id,t.styles,[]),this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(t.id,this.defaultRenderer)),this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),(Ah=Qh).fac=function(e){return new(e||Ah)(l(fh),l(vh),l(Bl))},Ah.prov=r({token:Ah,factory:Ah.fac});var Ah,Ph,Rh,Ih,Oh,Mh,Nh,Lh,jh=Ah,Dh=(CE(Jh,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(mh[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(n)return t||(n.textContent=""),n;throw new Error('The selector "'.concat(e,'" did not match any elements'))}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){r&&(t=r+":"+t,r=mh[r])?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){var r;n?(r=mh[n])?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t)):e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&ss.DashCase?e.style.setProperty(t,n,r&ss.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&ss.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Th(n)):this.eventManager.addEventListener(e,t,Th(n))}}]),Jh),Fh=(xE(Zh,Dh),Lh=SE(Zh),CE(Zh,[{key:"applyToHost",value:function(e){yE(RE(Zh.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){e=yE(RE(Zh.prototype),"createElement",this).call(this,e,t);return yE(RE(Zh.prototype),"setAttribute",this).call(this,e,this.contentAttr,""),e}}]),Zh),Vh=(xE(Gh,Dh),Nh=SE(Gh),CE(Gh,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return yE(RE(Gh.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,n){return yE(RE(Gh.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,n)}},{key:"removeChild",value:function(e,t){return yE(RE(Gh.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(yE(RE(Gh.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),Gh),zh=(xE(Kh,ph),Mh=SE(Kh),CE(Kh,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),(Ph=Kh).fac=function(e){return new(e||Ph)(l(Yc))},Ph.prov=r({token:Ph,factory:Ph.fac}),Ph),Bh=["alt","control","meta","shift"],Hh={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},qh={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},ph=(xE($h,ph),Oh=SE($h),CE($h,[{key:"supports",value:function(e){return null!=$h.parseEventName(e)}},{key:"addEventListener",value:function(e,t,n){var r=$h.parseEventName(t),i=$h.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Jc.onAndCancel(e,r.domEventName,i)})}}],[{key:"parseEventName",value:function(e){var n,t,r=e.toLowerCase().split("."),e=r.shift();return 0===r.length||"keydown"!==e&&"keyup"!==e||(t=$h._normalizeKey(r.pop()),n="",Bh.forEach(function(e){var t=r.indexOf(e);-1<t&&(r.splice(t,1),n+=e+".")}),n+=t,0!=r.length)||0===t.length?null:((t={}).domEventName=e,t.fullKey=n,t)}},{key:"getEventFullKey",value:function(t){var n="",r=(e=>{var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location)&&Uh.hasOwnProperty(t)&&(t=Uh[t])}return Hh[t]||t})(t);return" "===(r=r.toLowerCase())?r="space":"."===r&&(r="dot"),Bh.forEach(function(e){e!=r&&(0,qh[e])(t)&&(n+=e+".")}),n+=r}},{key:"eventCallback",value:function(t,n,r){return function(e){$h.getEventFullKey(e)===t&&r.runGuarded(function(){return n(e)})}}},{key:"_normalizeKey",value:function(e){return"esc"!==e?e:"escape"}}]),(Rh=$h).fac=function(e){return new(e||Rh)(l(Yc))},Rh.prov=r({token:Rh,factory:Rh.fac}),Rh),Gc=Rc(Gc,"browser",[{provide:Jl,useValue:"browser"},{provide:Zl,useValue:function(){sh.makeCurrent(),hh.init()},multi:!0},{provide:Yc,useFactory:function(){return e=document,On=e,document;var e},deps:[]}]),zh=[[],{provide:Zo,useValue:"root"},{provide:ei,useFactory:function(){return new ei},deps:[]},{provide:dh,useClass:zh,multi:!0,deps:[Yc,I,Jl]},{provide:dh,useClass:ph,multi:!0,deps:[Yc]},[],{provide:jh,useClass:jh,deps:[fh,vh,Bl]},{provide:ns,useExisting:jh},{provide:gh,useExisting:vh},{provide:vh,useClass:vh,deps:[Yc]},{provide:wc,useClass:wc,deps:[I]},{provide:fh,useClass:fh,deps:[dh,I]},[]],ph=(CE(Wh,null,[{key:"withServerTransition",value:function(e){return{ngModule:Wh,providers:[{provide:Bl,useValue:e.appId},{provide:ch,useExisting:Bl},uh]}}}]),(Ih=Wh).mod=s({type:Ih}),Ih.inj=t({factory:function(e){return new(e||Ih)(l(Ih,12))},providers:zh,imports:[ec,a]}),Ih);function Wh(e){if(wE(this,Wh),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}function $h(e){return wE(this,$h),Oh.call(this,e)}function Kh(e){return wE(this,Kh),Mh.call(this,e)}function Gh(e,t,n,r){var i;wE(this,Gh),(i=Nh.call(this,e)).sharedStylesHost=t,i.hostEl=n,i.component=r,i.shadowRoot=r.encapsulation===an.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var o=Eh(r.id,r.styles,[]),a=0;a<o.length;a++){var s=document.createElement("style");s.textContent=o[a],i.shadowRoot.appendChild(s)}return i}function Zh(e,t,n,r){wE(this,Zh);var i=Eh(r+"-"+((e=Lh.call(this,e)).component=n).id,n.styles,[]);return t.addStyles(i),e.contentAttr="_ngcontent-%COMP%".replace(yh,r+"-"+n.id),e.hostAttr=(t=r+"-"+n.id,"_nghost-%COMP%".replace(yh,t)),e}function Jh(e){wE(this,Jh),this.eventManager=e,this.data=Object.create(null)}function Qh(e,t,n){wE(this,Qh),this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Dh(e)}xE(gd,pe),rd=SE(gd),CE(gd,[{key:"_subscribe",value:function(e){var t=yE(RE(gd.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new he;return this._value}},{key:"next",value:function(e){yE(RE(gd.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]);var Yh,Xh,ed,td,nd,rd,id=gd,gh=(xE(pd,$),nd=SE(pd),CE(pd,[{key:"schedule",value:function(e){return this}}]),xE(fd,pd),td=SE(fd),CE(fd,[{key:"schedule",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.closed||(this.state=e,e=this.id,t=this.scheduler,null!=e&&(this.id=this.recycleAsyncId(t,e,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(t,this.id,n)),this}},{key:"requestAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;e=this._execute(e,t);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),fd,xE(dd,fd),ed=SE(dd),CE(dd,[{key:"schedule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return 0<t?yE(RE(dd.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return 0<t||this.closed?yE(RE(dd.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return null!==n&&0<n||null===n&&0<this.delay?yE(RE(dd.prototype),"requestAsyncId",this).call(this,e,t,n):e.flush(this)}}]),dd),od=(CE(hd,[{key:"schedule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),(zh=hd).now=function(){return Date.now()},zh),ad=(xE(ud,od),Xh=SE(ud),CE(ud,[{key:"schedule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length?arguments[2]:void 0;return ud.delegate&&ud.delegate!==this?ud.delegate.schedule(e,t,n):yE(RE(ud.prototype),"schedule",this).call(this,e,t,n)}},{key:"flush",value:function(e){var t,n=this.actions;if(this.active)n.push(e);else{this.active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}}}}]),xE(cd,ud),Yh=SE(cd),new cd(gh)),sd=ad,ld=new u(function(e){return e.complete()});function cd(){return wE(this,cd),Yh.apply(this,arguments)}function ud(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:od.now;return wE(this,ud),(t=Xh.call(this,e,function(){return ud.delegate&&ud.delegate!==TE(t)?ud.delegate.now():n()})).actions=[],t.active=!1,t.scheduled=void 0,t}function hd(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:hd.now;wE(this,hd),this.SchedulerAction=e,this.now=t}function dd(e,t){var n;return wE(this,dd),(n=ed.call(this,e,t)).scheduler=e,n.work=t,n}function fd(e,t){var n;return wE(this,fd),(n=td.call(this,e,t)).scheduler=e,n.work=t,n.pending=!1,n}function pd(e,t){return wE(this,pd),nd.call(this)}function gd(e){var t;return wE(this,gd),(t=rd.call(this))._value=e,t}function vd(e){return e?(t=e,new u(function(e){return t.schedule(function(){return e.complete()})})):ld;var t}function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return _e(r)?(t.pop(),Oe(t,r)):Ge(t)}function md(t,n){return new u(n?function(e){return n.schedule(yd,0,{error:t,subscriber:e})}:function(e){return e.error(t)})}function yd(e){var t=e.error;e.subscriber.error(t)}CE(Id,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return O(this.value);case"E":return md(this.error);case"C":return vd()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new Id("N",e):Id.undefinedValueNotification}},{key:"createError",value:function(e){return new Id("E",void 0,e)}},{key:"createComplete",value:function(){return Id.completeNotification}}]),(a=Id).completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);var kd,bd,_d,wd=a,Cd=(CE(Rd,[{key:"call",value:function(e,t){return t.subscribe(new xd(e,this.scheduler,this.delay))}}]),Rd),xd=(xE(Pd,i),_d=SE(Pd),CE(Pd,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(Pd.dispatch,this.delay,new Sd(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(wd.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(wd.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(wd.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){e.notification.observe(e.destination),this.unsubscribe()}}]),Pd),Sd=function e(t,n){wE(this,e),this.notification=t,this.destination=n},zh=(xE(Ad,i),bd=SE(Ad),CE(Ad,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),Ad),Ed=(xE(Td,i),kd=SE(Td),CE(Td,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),Td);function Td(e,t,n){var r;return wE(this,Td),(r=kd.call(this)).parent=e,r.outerValue=t,r.outerIndex=n,r.index=0,r}function Ad(){return wE(this,Ad),bd.apply(this,arguments)}function Pd(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return wE(this,Pd),(e=_d.call(this,e)).scheduler=t,e.delay=n,e}function Rd(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;wE(this,Rd),this.scheduler=e,this.delay=t}function Id(e,t,n){wE(this,Id),this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}function Od(e,t,n,r,i){i=4<arguments.length&&void 0!==i?i:new Ed(e,n,r);if(!i.closed)return t instanceof u?t.subscribe(i):Ie(t)(i)}CE(Dd,[{key:"call",value:function(e,t){return t.subscribe(new Ld(e,this.observables,this.project))}}]);var Md,Nd=Dd,Ld=(xE(jd,zh),Md=SE(jd),CE(jd,[{key:"notifyNext",value:function(e,t,n){this.values[n]=t;t=this.toRespond;0<t.length&&-1!==(n=t.indexOf(n))&&t.splice(n,1)}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){0===this.toRespond.length&&(e=[e].concat(_E(this.values)),this.project?this._tryProject(e):this.destination.next(e))}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}]),jd);function jd(e,t,n){wE(this,jd),(r=Md.call(this,e)).observables=t,r.project=n,r.toRespond=[];var r,i=t.length;r.values=new Array(i);for(var o=0;o<i;o++)r.toRespond.push(o);for(var a=0;a<i;a++)r.add(Od(TE(r),t[a],void 0,a));return r}function Dd(e,t){wE(this,Dd),this.observables=e,this.project=t}function Fd(t,n){var r=2<=arguments.length?!0:!1;return function(e){return e.lift(new zd(t,n,r))}}CE(Ud,[{key:"call",value:function(e,t){return t.subscribe(new Bd(e,this.accumulator,this.seed,this.hasSeed))}}]);var Vd,zd=Ud,Bd=(xE(Hd,i),Vd=SE(Hd),CE(Hd,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),Hd);function Hd(e,t,n,r){return wE(this,Hd),(e=Vd.call(this,e)).accumulator=t,e._seed=n,e.hasSeed=r,e.index=0,e}function Ud(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];wE(this,Ud),this.accumulator=e,this.seed=t,this.hasSeed=n}function qd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return g((i=t,o=r,function(e){for(var t=e,n=0;n<o;n++){var r=null!=t?t[i[n]]:void 0;if(void 0===r)return;t=r}return t}))(e);var i,o}}function Wd(t,n){return function(e){return e.lift(new Zd(t,n))}}CE(Sf,[{key:"call",value:function(e,t){return t.subscribe(new Jd(e,this.compare,this.keySelector))}}]);var $d,Kd,Gd,Zd=Sf,Jd=(xE(xf,i),Gd=SE(xf),CE(xf,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){try{var t=this.keySelector,n=t?t(e):e}catch(e){return this.destination.error(e)}t=!1;if(this.hasKey)try{t=(0,this.compare)(this.key,n)}catch(e){return this.destination.error(e)}else this.hasKey=!0;t||(this.key=n,this.destination.next(e))}}]),xf),Qd={},Yd="@ngrx/store/init",Xd=(xE(Cf,id),Kd=SE(Cf),CE(Cf,[{key:"next",value:function(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");yE(RE(Cf.prototype),"next",this).call(this,e)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){yE(RE(Cf.prototype),"complete",this).call(this)}}]),($d=Cf).fac=function(e){return new(e||$d)},$d.prov=r({token:$d,factory:$d.fac}),$d),ef=[Xd],tf=new c("@ngrx/store Internal Root Guard"),nf=new c("@ngrx/store Internal Initial State"),rf=new c("@ngrx/store Initial State"),of=new c("@ngrx/store Reducer Factory"),af=new c("@ngrx/store Internal Reducer Factory Provider"),sf=new c("@ngrx/store Initial Reducers"),lf=new c("@ngrx/store Internal Initial Reducers"),cf=new c("@ngrx/store Store Features"),uf=new c("@ngrx/store Internal Store Reducers"),hf=new c("@ngrx/store Internal Feature Reducers"),df=new c("@ngrx/store Internal Feature Configs"),ff=new c("@ngrx/store Internal Store Features"),pf=new c("@ngrx/store Internal Feature Reducers Token"),gf=new c("@ngrx/store Feature Reducers"),vf=new c("@ngrx/store User Provided Meta Reducers"),mf=new c("@ngrx/store Meta Reducers"),yf=new c("@ngrx/store Internal Resolved Meta Reducers"),kf=new c("@ngrx/store User Runtime Checks Config"),bf=new c("@ngrx/store Internal User Runtime Checks Config"),_f=new c("@ngrx/store Internal Runtime Checks"),wf=new c("@ngrx/store Check if Action types are unique");function Cf(){return wE(this,Cf),Kd.call(this,{type:Yd})}function xf(e,t,n){return wE(this,xf),(e=Gd.call(this,e)).keySelector=n,e.hasKey=!1,"function"==typeof t&&(e.compare=t),e}function Sf(e,t){wE(this,Sf),this.compare=e,this.keySelector=t}function Ef(e){for(var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=Object.keys(e),c={},n=0;n<t.length;n++){var r=t[n];"function"==typeof e[r]&&(c[r]=e[r])}var u=Object.keys(c);return function(e,t){e=void 0===e?l:e;for(var n=!1,r={},i=0;i<u.length;i++){var o=u[i],a=e[o],s=(0,c[o])(a,t);r[o]=s,n=n||s!==a}return n?r:e}}function Tf(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){var t;return 0===n.length?e:(t=n[n.length-1],n.slice(0,-1).reduceRight(function(e,t){return t(e)},t(e)))}}function Af(t,e){return Array.isArray(e)&&0<e.length&&(t=Tf.apply(null,[].concat(_E(e),[t]))),function(e,n){var r=t(e);return function(e,t){return r(e=void 0===e?n:e,t)}}}xE(Qf,u),Df=SE(Qf);var Pf,Rf,If,Of,Mf,Nf,Lf,jf,Df,Ff=Qf,Vf=(xE(Jf,Xd),jf=SE(Jf),Jf),zf=(xE(Zf,id),Lf=SE(Zf),CE(Zf,[{key:"addFeature",value:function(e){this.addFeatures([e])}},{key:"addFeatures",value:function(e){e=e.reduce(function(e,t){var i,n=t.reducers,r=t.reducerFactory,o=t.metaReducers,a=t.initialState,t=t.key,s=("function"==typeof n?(s=o,i=Array.isArray(s)&&0<s.length?Tf.apply(void 0,_E(s)):function(e){return e},(n,r)=>(n=i(n),function(e,t){return n(e=void 0===e?r:e,t)})):Af(r,o))(n,a);return e[t]=s,e},{});this.addReducers(e)}},{key:"removeFeature",value:function(e){this.removeFeatures([e])}},{key:"removeFeatures",value:function(e){this.removeReducers(e.map(function(e){return e.key}))}},{key:"addReducer",value:function(e,t){this.addReducers(mE({},e,t))}},{key:"addReducers",value:function(e){this.reducers=Object.assign(Object.assign({},this.reducers),e),this.updateReducers(Object.keys(e))}},{key:"removeReducer",value:function(e){this.removeReducers([e])}},{key:"removeReducers",value:function(e){var r=this;e.forEach(function(e){var n,t;r.reducers=(n=r.reducers,t=e,Object.keys(n).filter(function(e){return e!==t}).reduce(function(e,t){return Object.assign(e,mE({},t,n[t]))},{}))}),this.updateReducers(e)}},{key:"updateReducers",value:function(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:e})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),(Pf=Zf).fac=function(e){return new(e||Pf)(l(Vf),l(rf),l(sf),l(of))},Pf.prov=r({token:Pf,factory:Pf.fac}),Pf),Bf=[zf,{provide:Ff,useExisting:zf},{provide:Vf,useExisting:Xd}],Hf=(xE(Gf,pe),Nf=SE(Gf),CE(Gf,[{key:"ngOnDestroy",value:function(){this.complete()}}]),(Rf=Gf).fac=function(e){return Uf(e||Rf)},Rf.prov=r({token:Rf,factory:Rf.fac}),Rf),Uf=Jr(Hf),qf=[Hf],Wf=(xE(Kf,u),Mf=SE(Kf),Kf);function $f(e,t,n,r){wE(this,$f),i=Of.call(this,r);var i,e=e.pipe(function(t,e){var n=1<arguments.length&&void 0!==e?e:0;return function(e){return e.lift(new Cd(t,n))}}(ad)).pipe(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){var t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new Nd(n,t))}}(t)).pipe(Fd(Yf,{state:r}));return i.stateSubscription=e.subscribe(function(e){var t=e.state,e=e.action;i.next(t),n.next(e)}),i}function Kf(){return wE(this,Kf),Mf.apply(this,arguments)}function Gf(){return wE(this,Gf),Nf.apply(this,arguments)}function Zf(e,t,n,r){var i;return wE(this,Zf),(i=Lf.call(this,r(n,t))).dispatcher=e,i.initialState=t,i.reducers=n,i.reducerFactory=r,i}function Jf(){return wE(this,Jf),jf.apply(this,arguments)}function Qf(){return wE(this,Qf),Df.apply(this,arguments)}function Yf(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{state:void 0},t=kE(1<arguments.length?arguments[1]:void 0,2),n=t[0];return{state:(0,t[1])(e.state,n),action:n}}xE($f,id),Of=SE($f),CE($f,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}]),(If=$f).fac=function(e){return new(e||If)(l(Xd),l(Ff),l(Hf),l(rf))},If.prov=r({token:If,factory:If.fac}),If.INIT=Yd;var Xf,ep,tp=[If,{provide:Wf,useExisting:If}],np=(xE(ip,u),ep=SE(ip),CE(ip,[{key:"select",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return op.call.apply(op,[null,e].concat(n))(this)}},{key:"lift",value:function(e){var t=new ip(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}},{key:"dispatch",value:function(e){this.actionsObserver.next(e)}},{key:"next",value:function(e){this.actionsObserver.next(e)}},{key:"error",value:function(e){this.actionsObserver.error(e)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(e,t){this.reducerManager.addReducer(e,t)}},{key:"removeReducer",value:function(e){this.reducerManager.removeReducer(e)}}]),(Xf=ip).fac=function(e){return new(e||Xf)(l(Wf),l(Xd),l(zf))},Xf.prov=r({token:Xf,factory:Xf.fac}),Xf),rp=[np];function ip(e,t,n){var r;return wE(this,ip),(r=ep.call(this)).actionsObserver=t,r.reducerManager=n,r.source=e,r}function op(n,r){for(var e=arguments.length,i=new Array(2<e?e-2:0),t=2;t<e;t++)i[t-2]=arguments[t];return function(e){if("string"==typeof n)var t=[r].concat(i).filter(Boolean),t=e.pipe(qd.apply(void 0,[n].concat(_E(t))));else{if("function"!=typeof n)throw new TypeError("Unexpected type '".concat(typeof n,"' in select operator, expected 'string' or 'function'"));t=e.pipe(g(function(e){return n(e,r)}))}return t.pipe(Wd())}}var ap="https://ngrx.io/guide/store/configuration/runtime-checks";function sp(e){return Array.isArray(e)}function lp(e){return"object"==typeof e&&null!==e}function cp(e){return"function"==typeof e}function up(t){Object.freeze(t);var n=cp(t);return Object.getOwnPropertyNames(t).forEach(function(e){e.startsWith("")||!Object.prototype.hasOwnProperty.call(t,e)||n&&("caller"===e||"callee"===e||"arguments"===e)||!lp(e=t[e])&&!cp(e)||Object.isFrozen(e)||up(e)}),t}function hp(r,e){var i=1<arguments.length&&void 0!==e?e:[];return null==r&&0===i.length?{path:["root"],value:r}:Object.keys(r).reduce(function(e,t){var n;return e||(cp(n=r[t])&&n.hasOwnProperty("cmp")?e:!(null==n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n||sp(n))&&((e=>{if(lp(e)&&!sp(e))return(e=Object.getPrototypeOf(e))===Object.prototype||null===e})(n)?hp(n,[].concat(_E(i),[t])):{path:[].concat(_E(i),[t]),value:n}))},!1)}function dp(e,t){var n;if(!1!==e)throw n=e.path.join("."),(t=new Error("Detected unserializable ".concat(t,' at "').concat(n,'". ').concat(ap,"#strict").concat(t,"serializability"))).value=e.value,t.unserializablePath=n,t}function fp(e){return li()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function pp(e){var t=e.strictActionSerializability,i=e.strictStateSerializability;return function(e){return t||i?(n=e,r={action:function(e){return t&&!vp(e)},state:function(){return i}},function(e,t){r.action(t)&&dp(hp(t),"action");e=n(e,t);return r.state()&&dp(hp(e),"state"),e}):e;var n,r}}function gp(e){var t=e.strictActionImmutability,i=e.strictStateImmutability;return function(e){return t||i?(n=e,r={action:function(e){return t&&!vp(e)},state:function(){return i}},function(e,t){t=r.action(t)?up(t):t,e=n(e,t);return r.state()?up(e):e}):e;var n,r}}function vp(e){return e.type.startsWith("@ngrx")}function mp(e){var t=e.strictActionWithinNgZone;return function(e){return t?(n=e,r={action:function(e){return t&&!vp(e)}},function(e,t){if(r.action(t)&&!I.isInAngularZone())throw new Error("Action '".concat(t.type,"' running outside NgZone. ").concat(ap,"#strictactionwithinngzone"));return n(e,t)}):e;var n,r}}function yp(){return[{provide:wf,multi:!0,deps:[_f],useFactory:bp}]}function kp(e){return e}function bp(e){if(e.strictActionTypeUniqueness){e=Object.entries(Qd).filter(function(e){return 1<kE(e,2)[1]}).map(function(e){return kE(e,1)[0]});if(e.length)throw new Error("Action types are registered more than once, ".concat(e.map(function(e){return'"'.concat(e,'"')}).join(", "),". ").concat(ap,"#strictactiontypeuniqueness"))}}(Cp=function e(t,n,r,i,o,a){wE(this,e)}).mod=s({type:Cp}),Cp.inj=t({factory:function(e){return new(e||Cp)(l(Xd),l(Ff),l(Hf),l(np),l(tf,8),l(wf,8))}});var _p,wp,Cp,xp=Cp,Sp=(CE(Tp,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),(wp=Tp).mod=s({type:wp}),wp.inj=t({factory:function(e){return new(e||wp)(l(ff),l(gf),l(zf),l(xp),l(wf,8))}}),wp),gh=(CE(Ep,null,[{key:"forRoot",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:xp,providers:[{provide:tf,useFactory:Mp,deps:[[np,new dt,new pt]]},{provide:nf,useValue:t.initialState},{provide:rf,useFactory:Ip,deps:[nf]},{provide:lf,useValue:e},{provide:uf,useExisting:e instanceof c?e:lf},{provide:sf,deps:[f,lf,[new ht(uf)]],useFactory:Ap},{provide:vf,useValue:t.metaReducers||[]},{provide:yf,deps:[mf,vf],useFactory:Op},{provide:af,useValue:t.reducerFactory||Ef},{provide:of,deps:[af,yf],useFactory:Af},ef,Bf,qf,tp,rp,(e=t.runtimeChecks,[{provide:bf,useValue:e},{provide:kf,useFactory:kp,deps:[bf]},{provide:_f,deps:[kf],useFactory:fp},{provide:mf,multi:!0,deps:[_f],useFactory:gp},{provide:mf,multi:!0,deps:[_f],useFactory:pp},{provide:mf,multi:!0,deps:[_f],useFactory:mp}]),yp()]}}},{key:"forFeature",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return{ngModule:Sp,providers:[{provide:df,multi:!0,useValue:n},{provide:cf,multi:!0,useValue:{key:e,reducerFactory:n instanceof c||!n.reducerFactory?Ef:n.reducerFactory,metaReducers:n instanceof c||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof c||!n.initialState?void 0:n.initialState}},{provide:ff,deps:[f,df,cf],useFactory:Pp},{provide:hf,multi:!0,useValue:t},{provide:pf,multi:!0,useExisting:t instanceof c?t:hf},{provide:gf,multi:!0,deps:[f,hf,[new ht(pf)]],useFactory:Rp},yp()]}}}]),(_p=Ep).mod=s({type:_p}),_p.inj=t({factory:function(e){return new(e||_p)}}),_p);function Ep(){wE(this,Ep)}function Tp(e,n,t,r,i){wE(this,Tp),this.features=e,this.featureReducers=n,this.reducerManager=t;e=e.map(function(e,t){t=n.shift()[t];return Object.assign(Object.assign({},e),{reducers:t,initialState:Ip(e.initialState)})});t.addFeatures(e)}function Ap(e,t){return t instanceof c?e.get(t):t}function Pp(n,r,e){return e.map(function(e,t){return r[t]instanceof c?(t=n.get(r[t]),{key:e.key,reducerFactory:t.reducerFactory||Ef,metaReducers:t.metaReducers||[],initialState:t.initialState}):e})}function Rp(t,e){return e.map(function(e){return e instanceof c?t.get(e):e})}function Ip(e){return"function"==typeof e?e():e}function Op(e,t){return e.concat(t)}function Mp(e){if(e)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Np(n){return new u(function(t){var e;try{e=n()}catch(e){return void t.error(e)}return(e?Me(e):vd()).subscribe(t)})}CE(qp,[{key:"call",value:function(e,t){return t.subscribe(new Fp(e))}}]);var Lp,jp,Dp=qp,Fp=(xE(Up,i),jp=SE(Up),CE(Up,[{key:"_next",value:function(e){}}]),Up),Vp=(CE(Hp,[{key:"call",value:function(e,t){return t.subscribe(new zp(e))}}]),Hp),zp=(xE(Bp,i),Lp=SE(Bp),CE(Bp,[{key:"_next",value:function(e){this.destination.next(wd.createNext(e))}},{key:"_error",value:function(e){var t=this.destination;t.next(wd.createError(e)),t.complete()}},{key:"_complete",value:function(){var e=this.destination;e.next(wd.createComplete()),e.complete()}}]),Bp);function Bp(e){return wE(this,Bp),Lp.call(this,e)}function Hp(){wE(this,Hp)}function Up(){return wE(this,Up),jp.apply(this,arguments)}function qp(){wE(this,qp)}function Wp(n){return function(e){var t=new Kp(n),e=e.lift(t);return t.caught=e}}CE(Jp,[{key:"call",value:function(e,t){return t.subscribe(new Gp(e,this.selector,this.caught))}}]);var $p,Kp=Jp,Gp=(xE(Zp,De),$p=SE(Zp),CE(Zp,[{key:"error",value:function(e){if(!this.isStopped){try{t=this.selector(e,this.caught)}catch(e){return void yE(RE(Zp.prototype),"error",this).call(this,e)}this._unsubscribeAndRecycle();var e=new je(this),t=(this.add(e),ze(t,e));t!==e&&this.add(t)}}}]),Zp);function Zp(e,t,n){return wE(this,Zp),(e=$p.call(this,e)).selector=t,e.caught=n,e}function Jp(e){wE(this,Jp),this.selector=e}function Qp(t,n){return function(e){return e.lift(new Xp(t,n))}}CE(ng,[{key:"call",value:function(e,t){return t.subscribe(new eg(e,this.predicate,this.thisArg))}}]);var Yp,Xp=ng,eg=(xE(tg,i),Yp=SE(tg),CE(tg,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)}}]),tg);function tg(e,t,n){return wE(this,tg),(e=Yp.call(this,e)).predicate=t,e.thisArg=n,e.count=0,e}function ng(e,t){wE(this,ng),this.predicate=e,this.thisArg=t}function rg(t,n,r,i){return function(e){return e.lift(new ug(t,n,r,i))}}CE(Pg,[{key:"call",value:function(e,t){return t.subscribe(new hg(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]);var ig,og,ag,sg,lg,cg,ug=Pg,hg=(xE(Ag,i),cg=SE(Ag),CE(Ag,[{key:"_next",value:function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)}},{key:"_group",value:function(e,t){var n,r=this.groups,i=(r=r||(this.groups=new Map)).get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new pe,r.set(t,i);var o,e=new fg(t,i,this);if(this.destination.next(e),this.durationSelector){try{o=this.durationSelector(new fg(t,i))}catch(e){return void this.error(e)}this.add(o.subscribe(new dg(t,i,this)))}}i.closed||i.next(n)}},{key:"_error",value:function(n){var e=this.groups;e&&(e.forEach(function(e,t){e.error(n)}),e.clear()),this.destination.error(n)}},{key:"_complete",value:function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()}},{key:"removeGroup",value:function(e){this.groups.delete(e)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&yE(RE(Ag.prototype),"unsubscribe",this).call(this))}}]),Ag),dg=(xE(Tg,i),lg=SE(Tg),CE(Tg,[{key:"_next",value:function(e){this.complete()}},{key:"_unsubscribe",value:function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)}}]),Tg),fg=(xE(Eg,u),sg=SE(Eg),CE(Eg,[{key:"_subscribe",value:function(e){var t=new $,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new pg(n)),t.add(r.subscribe(e)),t}}]),Eg),pg=(xE(Sg,$),ag=SE(Sg),CE(Sg,[{key:"unsubscribe",value:function(){var e=this.parent;e.closed||this.closed||(yE(RE(Sg.prototype),"unsubscribe",this).call(this),--e.count,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}]),Sg),gg=(CE(xg,[{key:"call",value:function(e,t){return t.subscribe(new vg(e,this.project))}}]),xg),vg=(xE(Cg,De),og=SE(Cg),CE(Cg,[{key:"_next",value:function(e){this.hasSubscription||this.tryNext(e)}},{key:"tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new je(this),n=this.destination,e=(n.add(t),ze(e,t));e!==t&&n.add(e)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),Cg),mg=(CE(wg,[{key:"call",value:function(e,t){return t.subscribe(new yg(e))}}]),wg),yg=(xE(_g,i),ig=SE(_g),CE(_g,[{key:"_next",value:function(e){e.observe(this.destination)}}]),_g),kg=(bg.prototype=Object.create(Error.prototype),bg);function bg(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}function _g(e){return wE(this,_g),ig.call(this,e)}function wg(){wE(this,wg)}function Cg(e,t){return wE(this,Cg),(e=og.call(this,e)).project=t,e.hasSubscription=!1,e.hasCompleted=!1,e.index=0,e}function xg(e){wE(this,xg),this.project=e}function Sg(e){var t;return wE(this,Sg),((t=ag.call(this)).parent=e).count++,t}function Eg(e,t,n){var r;return wE(this,Eg),(r=sg.call(this)).key=e,r.groupSubject=t,r.refCountSubscription=n,r}function Tg(e,t,n){var r;return wE(this,Tg),(r=lg.call(this,t)).key=e,r.group=t,r.parent=n,r}function Ag(e,t,n,r,i){return wE(this,Ag),(e=cg.call(this,e)).keySelector=t,e.elementSelector=n,e.durationSelector=r,e.subjectSelector=i,e.groups=null,e.attemptedToUnsubscribe=!1,e.count=0,e}function Pg(e,t,n,r){wE(this,Pg),this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}function Rg(t){return function(e){return 0===t?vd():e.lift(new Og(t))}}CE(Lg,[{key:"call",value:function(e,t){return t.subscribe(new Mg(e,this.total))}}]);var Ig,Og=Lg,Mg=(xE(Ng,i),Ig=SE(Ng),CE(Ng,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t)&&(this.destination.complete(),this.unsubscribe())}}]),Ng);function Ng(e,t){return wE(this,Ng),(e=Ig.call(this,e)).total=t,e.count=0,e}function Lg(e){if(wE(this,Lg),this.total=e,this.total<0)throw new kg}function jg(e,t){return Be(e,t,1)}CE(Bg,[{key:"call",value:function(e,t){return t.subscribe(new Vg(e,this.callback))}}]);var Dg,Fg=Bg,Vg=(xE(zg,i),Dg=SE(zg),zg);function zg(e,t){return wE(this,zg),(e=Dg.call(this,e)).add(new $(t)),e}function Bg(e){wE(this,Bg),this.callback=e}function Hg(e){return Object.getPrototypeOf(e)}function Ug(e){return e.constructor.hasOwnProperty("__@ngrx/effects__")?e.constructor["__@ngrx/effects__"]:[]}function qg(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10;return t.pipe(Wp(function(e){return n&&n.handleError(e),r<=1?t:qg(t,n,r-1)}))}xE(Gg,u),$g=SE(Gg),CE(Gg,[{key:"lift",value:function(e){var t=new Gg;return t.source=this,t.operator=e,t}}]),(Wg=Gg).fac=function(e){return new(e||Wg)(l(Hf))},Wg.prov=r({token:Wg,factory:Wg.fac});var Wg,$g,Kg=Wg;function Gg(e){var t;return wE(this,Gg),t=$g.call(this),e&&(t.source=e),t}function Zg(e){return Jg(e,"ngrxOnInitEffects")}function Jg(e,t){return e&&t in e&&"function"==typeof e[t]}var Qg,Yg,Xg=new c("@ngrx/effects Internal Root Guard"),ev=new c("ngrx/effects: User Provided Effects"),tv=new c("ngrx/effects: Internal Root Effects"),nv=new c("ngrx/effects: Root Effects"),rv=new c("ngrx/effects: Internal Feature Effects"),iv=new c("ngrx/effects: Feature Effects"),ov=new c("ngrx/effects: Effects Error Handler"),av=(xE(sv,pe),Yg=SE(sv),CE(sv,[{key:"addEffects",value:function(e){this.next(e)}},{key:"toActions",value:function(){var l=this;return this.pipe(rg(Hg),Be(function(e){return e.pipe(rg(lv))}),Be(function(e){return Ze(e.pipe(function t(i,o){return o?function(e){return e.pipe(t(function(n,r){return Me(i(n,r)).pipe(g(function(e,t){return o(n,e,r,t)}))}))}:function(e){return e.lift(new gg(i))}}(function(e){return t=l.errorHandler,r=l.effectsErrorHandler,o=t,a=r,s=Hg(i=t=e).constructor.name,r=Ze.apply(void 0,_E((n=i,[function(e){return Tf(Ug,Hg)(e)},function(t){return Object.getOwnPropertyNames(t).filter(function(e){return t[e]&&t[e].hasOwnProperty("__@ngrx/effects_create__")}).map(function(e){return Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"])})}].reduce(function(e,t){return e.concat(t(n))},[]).map(function(e){var t=e.propertyName,n=e.dispatch,e=e.useEffectsErrorHandler,r="function"==typeof i[t]?i[t]():i[t],e=e?a(r,o):r;return!1===n?e.pipe(function(e){return e.lift(new Dp)}):e.pipe(function(e){return e.lift(new Vp)}).pipe(g(function(e){return{effect:i[t],notification:e,propertyName:t,sourceName:s,sourceInstance:i}}))})))),Jg(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(r):r;var i,o,a,n,s,t,r}),g(function(e){return t=l.errorHandler,"N"!==e.notification.kind||"function"!=typeof(n=e.notification.value)&&n&&n.type&&"string"==typeof n.type||t.handleError(new Error("Effect ".concat((t=e.propertyName,r="function"==typeof e.sourceInstance[t],'"'.concat(e.sourceName,".").concat(String(t)).concat(r?"()":"",'"'))," dispatched an invalid action: ").concat((t=>{try{return JSON.stringify(t)}catch(e){return t}})(n)))),e.notification;var t,n,r}),Qp(function(e){return"N"===e.kind}),function(e){return e.lift(new mg)}),e.pipe(Rg(1),Qp(Zg),g(function(e){return e.ngrxOnInitEffects()})))}))}}]),(Qg=sv).fac=function(e){return new(e||Qg)(l(ei),l(ov))},Qg.prov=r({token:Qg,factory:Qg.fac}),Qg);function sv(e,t){var n;return wE(this,sv),(n=Yg.call(this)).errorHandler=e,n.effectsErrorHandler=t,n}function lv(e){return Jg(e,"ngrxOnIdentifyEffects")?e.ngrxOnIdentifyEffects():""}CE(yv,[{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}]),(dv=yv).fac=function(e){return new(e||dv)(l(av),l(np))},dv.prov=r({token:dv,factory:dv.fac});var cv,uv,hv,dv,fv=dv,pv=(CE(mv,[{key:"addEffects",value:function(e){this.sources.addEffects(e)}}]),(hv=mv).mod=s({type:hv}),hv.inj=t({factory:function(e){return new(e||hv)(l(av),l(fv),l(np),l(nv),l(xp,8),l(Sp,8),l(Xg,8))}}),hv),gv=((uv=function e(t,n,r,i){wE(this,e),n.forEach(function(e){return e.forEach(function(e){return t.addEffects(e)})})}).mod=s({type:uv}),uv.inj=t({factory:function(e){return new(e||uv)(l(pv),l(iv),l(xp,8),l(Sp,8))}}),uv),a=(CE(vv,null,[{key:"forFeature",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:gv,providers:[e,{provide:rv,multi:!0,useValue:e},{provide:ev,multi:!0,useValue:[]},{provide:iv,multi:!0,useFactory:kv,deps:[f,rv,ev]}]}}},{key:"forRoot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:pv,providers:[{provide:Xg,useFactory:bv,deps:[[fv,new dt,new pt]]},{provide:ov,useValue:qg},fv,av,Kg,e,{provide:tv,useValue:[e]},{provide:ev,multi:!0,useValue:[]},{provide:nv,useFactory:kv,deps:[f,tv,ev]}]}}}]),(cv=vv).mod=s({type:cv}),cv.inj=t({factory:function(e){return new(e||cv)}}),cv);function vv(){wE(this,vv)}function mv(t,e,n,r,i,o,a){wE(this,mv),this.sources=t,e.start(),r.forEach(function(e){return t.addEffects(e)}),n.dispatch({type:"@ngrx/effects/init"})}function yv(e,t){wE(this,yv),this.effectSources=e,this.store=t,this.effectsSubscription=null}function kv(e,t,n){var r,i=[],o=bE(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push.apply(i,_E(a))}}catch(e){o.e(e)}finally{o.f()}var s,l,c=bE(n);try{for(c.s();!(s=c.n()).done;){var u=s.value;i.push.apply(i,_E(u))}}catch(e){c.e(e)}finally{c.f()}return l=e,i.map(function(e){return l.get(e)})}function bv(e){if(e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}function _v(){wE(this,_v)}function wv(){wE(this,wv)}CE(Ev,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();e=this.headers.get(e.toLowerCase());return e&&0<e.length?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof Ev?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate)&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null)}},{key:"copyFrom",value:function(t){var n=this;t.init(),Array.from(t.headers.keys()).forEach(function(e){n.headers.set(e,t.headers.get(e)),n.normalizedNames.set(e,t.normalizedNames.get(e))})}},{key:"clone",value:function(e){var t=new Ev;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ev?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n,r=e.value;0!==(r="string"==typeof r?[r]:r).length&&(this.maybeSetNormalizedName(e.name,t),(n=("a"===e.op?this.headers.get(t):void 0)||[]).push.apply(n,_E(r)),this.headers.set(t,n));break;case"d":var i=e.value;i?(r=this.headers.get(t))&&(0===(r=r.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,r)):(this.headers.delete(t),this.normalizedNames.delete(t))}}},{key:"forEach",value:function(t){var n=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(e){return t(n.normalizedNames.get(e),n.headers.get(e))})}}]);var Cv=Ev,xv=(CE(Sv,[{key:"encodeKey",value:Tv},{key:"encodeValue",value:Tv},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),Sv);function Sv(){wE(this,Sv)}function Ev(r){var i=this;wE(this,Ev),this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?function(){i.headers=new Map,r.split("\n").forEach(function(e){var t,n,r=e.indexOf(":");0<r&&(n=(t=e.slice(0,r)).toLowerCase(),e=e.slice(r+1).trim(),i.maybeSetNormalizedName(t,n),i.headers.has(n)?i.headers.get(n).push(e):i.headers.set(n,[e]))})}:function(){i.headers=new Map,Object.keys(r).forEach(function(e){var t=r[e],n=e.toLowerCase();0<(t="string"==typeof t?[t]:t).length&&(i.headers.set(n,t),i.maybeSetNormalizedName(e,n))})}:this.headers=new Map}function Tv(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}CE(Pv,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();e=this.map.get(e);return e?e[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var n=this;return this.init(),this.keys().map(function(e){var t=n.encoder.encodeKey(e);return n.map.get(e).map(function(e){return t+"="+n.encoder.encodeValue(e)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(e){var t=new Pv({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}},{key:"init",value:function(){var r=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return r.map.set(e,r.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var t=("a"===e.op?r.map.get(e.param):void 0)||[];t.push(e.value),r.map.set(e.param,t);break;case"d":var n;void 0===e.value?r.map.delete(e.param):(-1!==(n=(t=r.map.get(e.param)||[]).indexOf(e.value))&&t.splice(n,1),0<t.length?r.map.set(e.param,t):r.map.delete(e.param))}}),this.cloneFrom=this.updates=null)}}]);var Av=Pv;function Pv(){var e,r,i,n=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(wE(this,Pv),this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new xv,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=o.fromString,r=this.encoder,i=new Map,0<e.length&&e.split("&").forEach(function(e){var t=e.indexOf("="),e=kE(-1==t?[r.decodeKey(e),""]:[r.decodeKey(e.slice(0,t)),r.decodeValue(e.slice(t+1))],2),t=e[0],e=e[1],n=i.get(t)||[];n.push(e),i.set(t,n)}),i)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach(function(e){var t=o.fromObject[e];n.map.set(e,Array.isArray(t)?t:[t])})):this.map=null}function Rv(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Iv(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Ov(e){return"undefined"!=typeof FormData&&e instanceof FormData}function Mv(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"OK";wE(this,Mv),this.headers=e.headers||new Cv,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=200<=this.status&&this.status<300}CE(Wv,[{key:"serializeBody",value:function(){return null===this.body?null:Rv(this.body)||Iv(this.body)||Ov(this.body)||"string"==typeof this.body?this.body:!(this.body instanceof Av)&&("object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body))?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Ov(this.body)?null:Iv(this.body)?this.body.type||null:Rv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Av?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=n.method||this.method,t=n.url||this.url,r=n.responseType||this.responseType,i=(void 0!==n.body?n:this).body,o=(void 0!==n.withCredentials?n:this).withCredentials,a=(void 0!==n.reportProgress?n:this).reportProgress,s=n.headers||this.headers,l=n.params||this.params;return void 0!==n.setHeaders&&(s=Object.keys(n.setHeaders).reduce(function(e,t){return e.set(t,n.setHeaders[t])},s)),new Wv(e,t,i,{params:l=n.setParams?Object.keys(n.setParams).reduce(function(e,t){return e.set(t,n.setParams[t])},l):l,headers:s,reportProgress:a,responseType:r,withCredentials:o})}}]);var Nv,Lv,jv,Dv=Wv,Fv=((hm={})[hm.Sent=0]="Sent",hm[hm.UploadProgress=1]="UploadProgress",hm[hm.ResponseHeader=2]="ResponseHeader",hm[hm.DownloadProgress=3]="DownloadProgress",hm[hm.Response=4]="Response",hm[hm.User=5]="User",hm),Vv=(xE(qv,Mv),jv=SE(qv),CE(qv,[{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new qv({headers:e.headers||this.headers,status:(void 0!==e.status?e:this).status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),qv),zv=(xE(Uv,Mv),Lv=SE(Uv),CE(Uv,[{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Uv({body:(void 0!==e.body?e:this).body,headers:e.headers||this.headers,status:(void 0!==e.status?e:this).status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),Uv),Bv=(xE(Hv,Mv),Nv=SE(Hv),Hv);function Hv(e){var t;return wE(this,Hv),(t=Nv.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",t.ok=!1,t.message=200<=t.status&&t.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),t.error=e.error||null,t}function Uv(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return wE(this,Uv),(e=Lv.call(this,t)).type=Fv.Response,e.body=void 0!==t.body?t.body:null,e}function qv(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return wE(this,qv),(e=jv.call(this,e)).type=Fv.ResponseHeader,e}function Wv(e,t,n,r){wE(this,Wv),this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),(e=(e=>{switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return;default:return 1}})(this.method)||r?(this.body=void 0!==n?n:null,r):n)&&(this.reportProgress=!!e.reportProgress,this.withCredentials=!!e.withCredentials,e.responseType&&(this.responseType=e.responseType),e.headers&&(this.headers=e.headers),e.params)&&(this.params=e.params),this.headers||(this.headers=new Cv),this.params?0===(r=this.params.toString()).length?this.urlWithParams=t:(n=t.indexOf("?"),this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+r):(this.params=new Av,this.urlWithParams=t)}function $v(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}function Kv(){wE(this,Kv)}function Gv(){wE(this,Gv)}CE(Rm,[{key:"request",value:function(e,t){var n,r,i=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=e instanceof Dv?e:(n=void 0,n=o.headers instanceof Cv?o.headers:new Cv(o.headers),r=void 0,o.params&&(r=o.params instanceof Av?o.params:new Av({fromObject:o.params})),new Dv(e,t,void 0!==o.body?o.body:null,{headers:n,params:r,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})),t=O(a).pipe(jg(function(e){return i.handler.handle(e)}));if(e instanceof Dv||"events"===o.observe)return t;var s=t.pipe(Qp(function(e){return e instanceof zv}));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return s.pipe(g(function(e){if(null===e.body||e.body instanceof ArrayBuffer)return e.body;throw new Error("Response is not an ArrayBuffer.")}));case"blob":return s.pipe(g(function(e){if(null===e.body||e.body instanceof Blob)return e.body;throw new Error("Response is not a Blob.")}));case"text":return s.pipe(g(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));default:return s.pipe(g(function(e){return e.body}))}case"response":return s;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(e){return this.request("DELETE",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"get",value:function(e){return this.request("GET",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"head",value:function(e){return this.request("HEAD",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Av).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){return this.request("OPTIONS",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"patch",value:function(e,t){return this.request("PATCH",e,$v(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t))}},{key:"post",value:function(e,t){return this.request("POST",e,$v(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t))}},{key:"put",value:function(e,t){return this.request("PUT",e,$v(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t))}}]),(Zv=Rm).fac=function(e){return new(e||Zv)(l(_v))},Zv.prov=r({token:Zv,factory:Zv.fac});var Zv,Jv,Qv,Yv,Xv,em,tm,nm,rm,im,om,am=Zv,sm=(CE(Pm,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),Pm),lm=new c("HTTP_INTERCEPTORS"),cm=(CE(Am,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),(Jv=Am).fac=function(e){return new(e||Jv)},Jv.prov=r({token:Jv,factory:Jv.fac}),Jv),um=/^\)\]\}',?\n/,hm=(CE(Tm,[{key:"build",value:function(){return new XMLHttpRequest}}]),(Yv=Tm).fac=function(e){return new(e||Yv)},Yv.prov=r({token:Yv,factory:Yv.fac}),Yv),dm=(CE(Em,[{key:"handle",value:function(h){var d=this;if("JSONP"===h.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new u(function(s){function l(){var e,t,n,r;return null!==a?a:(e=1223===c.status?204:c.status,t=c.statusText||"OK",n=new Cv(c.getAllResponseHeaders()),r=("responseURL"in(r=c)&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null)||h.url,a=new Vv({headers:n,status:e,statusText:t,url:r}))}function e(){var e=(r=l()).headers,t=r.status,n=r.statusText,r=r.url,i=null,o=(204!==t&&(i=void 0===c.response?c.responseText:c.response),200<=(t=0===t?i?200:0:t)&&t<300);if("json"===h.responseType&&"string"==typeof i){var a=i,i=i.replace(um,"");try{i=""!==i?JSON.parse(i):null}catch(e){i=a,o&&(o=!1,i={error:e,text:i})}}o?(s.next(new zv({body:i,headers:e,status:t,statusText:n,url:r||void 0})),s.complete()):s.error(new Bv({error:i,headers:e,status:t,statusText:n,url:r||void 0}))}function t(e){var t=l().url,e=new Bv({error:e,status:c.status||0,statusText:c.statusText||"Unknown Error",url:t||void 0});s.error(e)}function n(e){u||(s.next(l()),u=!0);var t={type:Fv.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),"text"===h.responseType&&c.responseText&&(t.partialText=c.responseText),s.next(t)}function r(e){var t={type:Fv.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),s.next(t)}var i,c=d.xhrFactory.build(),o=(c.open(h.method,h.urlWithParams),h.withCredentials&&(c.withCredentials=!0),h.headers.forEach(function(e,t){return c.setRequestHeader(e,t.join(","))}),h.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),h.headers.has("Content-Type")||null!==(i=h.detectContentTypeHeader())&&c.setRequestHeader("Content-Type",i),h.responseType&&(i=h.responseType.toLowerCase(),c.responseType="json"!==i?i:"text"),h.serializeBody()),a=null,u=!1;return c.addEventListener("load",e),c.addEventListener("error",t),h.reportProgress&&(c.addEventListener("progress",n),null!==o)&&c.upload&&c.upload.addEventListener("progress",r),c.send(o),s.next({type:Fv.Sent}),function(){c.removeEventListener("error",t),c.removeEventListener("load",e),h.reportProgress&&(c.removeEventListener("progress",n),null!==o)&&c.upload&&c.upload.removeEventListener("progress",r),c.readyState!==c.DONE&&c.abort()}})}}]),(Qv=Em).fac=function(e){return new(e||Qv)(l(Kv))},Qv.prov=r({token:Qv,factory:Qv.fac}),Qv),fm=new c("XSRF_COOKIE_NAME"),pm=new c("XSRF_HEADER_NAME"),gm=(CE(Sm,[{key:"getToken",value:function(){var e;return"server"===this.platform?null:((e=this.doc.cookie||"")!==this.lastCookieString&&(this.parseCount++,this.lastToken=Pu(e,this.cookieName),this.lastCookieString=e),this.lastToken)}}]),(om=Sm).fac=function(e){return new(e||om)(l(Yc),l(Jl),l(fm))},om.prov=r({token:om,factory:om.fac}),om),vm=(CE(xm,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();return"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://")||null===(n=this.tokenService.getToken())||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}]),(im=xm).fac=function(e){return new(e||im)(l(Gv),l(pm))},im.prov=r({token:im,factory:im.fac}),im),mm=(CE(Cm,[{key:"handle",value:function(e){var t;return null===this.chain&&(t=this.injector.get(lm,[]),this.chain=t.reduceRight(function(e,t){return new sm(e,t)},this.backend)),this.chain.handle(e)}}]),(rm=Cm).fac=function(e){return new(e||rm)(l(wv),l(f))},rm.prov=r({token:rm,factory:rm.fac}),rm),gm=(CE(wm,null,[{key:"disable",value:function(){return{ngModule:wm,providers:[{provide:vm,useClass:cm}]}}},{key:"withOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:wm,providers:[e.cookieName?{provide:fm,useValue:e.cookieName}:[],e.headerName?{provide:pm,useValue:e.headerName}:[]]}}}]),(nm=wm).mod=s({type:nm}),nm.inj=t({factory:function(e){return new(e||nm)},providers:[vm,{provide:lm,useExisting:vm,multi:!0},{provide:Gv,useClass:gm},{provide:fm,useValue:"XSRF-TOKEN"},{provide:pm,useValue:"X-XSRF-TOKEN"}]}),nm),mm=((tm=function e(){wE(this,e)}).mod=s({type:tm}),tm.inj=t({factory:function(e){return new(e||tm)},providers:[am,{provide:_v,useClass:mm},dm,{provide:wv,useExisting:dm},hm,{provide:Kv,useExisting:hm}],imports:[[gm.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),tm),ym=(CE(_m,[{key:"getEnvironment",value:function(){return Zc}}]),(em=_m).fac=function(e){return new(e||em)},em.prov=r({token:em,factory:em.fac,providedIn:"root"}),em),km=(CE(bm,[{key:"fetch",value:function(){var n=this,r=this.environmentService.getEnvironment();return new Promise(function(t,e){window.taigaConfig?(n._config=window.taigaConfig,t(n.config)):r.configLocal?(n._config=r.configLocal,t(n.config)):r.configRemote?n.http.get(r.configRemote).subscribe(function(e){n._config=e,t(n.config)}):e("No config provided")})}},{key:"config",get:function(){var e;return window.taigaConfig?((e=Object.assign({},window.taigaConfig)).api.endsWith("/")&&(e.api=e.api.slice(0,e.api.length-1)),e):this._config}},{key:"apiUrl",get:function(){return this.config.api}}]),(Xv=bm).fac=function(e){return new(e||Xv)(l(am),l(ym))},Xv.prov=r({token:Xv,factory:Xv.fac,providedIn:"root"}),Xv);function bm(e,t){wE(this,bm),this.http=e,this.environmentService=t}function _m(){wE(this,_m)}function wm(){wE(this,wm)}function Cm(e,t){wE(this,Cm),this.backend=e,this.injector=t,this.chain=null}function xm(e,t){wE(this,xm),this.tokenService=e,this.headerName=t}function Sm(e,t,n){wE(this,Sm),this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}function Em(e){wE(this,Em),this.xhrFactory=e}function Tm(){wE(this,Tm)}function Am(){wE(this,Am)}function Pm(e,t){wE(this,Pm),this.next=e,this.interceptor=t}function Rm(e){wE(this,Rm),this.handler=e}function Im(t,i){return"function"==typeof i?function(e){return e.pipe(Im(function(n,r){return Me(t(n,r)).pipe(g(function(e,t){return i(n,e,r,t)}))}))}:function(e){return e.lift(new Mm(t))}}CE(jm,[{key:"call",value:function(e,t){return t.subscribe(new Nm(e,this.project))}}]);var Om,Mm=jm,Nm=(xE(Lm,De),Om=SE(Lm),CE(Lm,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription,t=(t&&t.unsubscribe(),new je(this)),n=this.destination;n.add(t),this.innerSubscription=ze(e,t),this.innerSubscription!==t&&n.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||yE(RE(Lm.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&yE(RE(Lm.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),Lm);function Lm(e,t){return wE(this,Lm),(e=Om.call(this,e)).project=t,e.index=0,e}function jm(e){wE(this,jm),this.project=e}function Dm(){}function Fm(t,n,r){return function(e){return e.lift(new Um(t,n,r))}}CE(Ym,[{key:"call",value:function(e,t){return t.subscribe(new qm(e,this.nextOrObserver,this.error,this.complete))}}]);var Vm,zm,Bm,Hm,Um=Ym,qm=(xE(Qm,i),Hm=SE(Qm),CE(Qm,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),Qm),dm=(CE(Jm,[{key:"createEmbeddedView",value:function(){this.embeddedView=this.viewContainerRef.createEmbeddedView(this.templateRef,this.ViewContext)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.viewContainerRef.clear()}},{key:"ngrxLet",set:function(e){this.cdAware.nextPotentialObservable(e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),(zm=Jm).fac=function(e){return new(e||zm)(k($o),k(I),k(js),k(Fs))},zm.dir=Pt({type:zm,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet"}}),zm),hm=((Vm=function e(){wE(this,e)}).mod=s({type:Vm}),Vm.inj=t({factory:function(e){return new(e||Vm)}}),Vm),Wm=(xE(Zm,pe),Bm=SE(Zm),CE(Zm,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),yE(RE(Zm.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new $m(this._getNow(),e)),this._trimBufferThenGetEvents(),yE(RE(Zm.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new he;if(t=this.isStopped||this.hasError?$.EMPTY:(this.observers.push(e),new de(this,e)),i&&e.add(e=new xd(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(var s=0;s<o&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||sd).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return 0<(o=t<i?Math.max(o,i-t):o)&&r.splice(0,o),r}}]),Zm),$m=function e(t,n){wE(this,e),this.time=t,this.value=n},Km=(gm=Element.prototype).matches||gm.matchesSelector||gm.mozMatchesSelector||gm.msMatchesSelector||gm.oMatchesSelector||gm.webkitMatchesSelector,Gm={schedule:function(e,t){var n=setTimeout(e,t);return function(){return clearTimeout(n)}},scheduleBeforeRender:function(e){var t;return"undefined"==typeof window?Gm.schedule(e,0):void 0===window.requestAnimationFrame?Gm.schedule(e,16):(t=window.requestAnimationFrame(e),function(){return window.cancelAnimationFrame(t)})}};function Zm(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,r=2<arguments.length?arguments[2]:void 0;return wE(this,Zm),(e=Bm.call(this)).scheduler=r,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=t<1?1:t,e._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}function Jm(e,t,n,r){var i,o,a,s,l=this;wE(this,Jm),this.templateRef=n,this.viewContainerRef=r,this.ViewContext={$implicit:void 0,ngrxLet:void 0,$error:!1,$complete:!1},this.resetContextObserver={next:function(){l.embeddedView&&(l.ViewContext.$implicit=void 0,l.ViewContext.ngrxLet=void 0,l.ViewContext.$error=!1,l.ViewContext.$complete=!1)}},this.updateViewContextObserver={next:function(e){l.embeddedView||l.createEmbeddedView(),l.ViewContext.$implicit=e,l.ViewContext.ngrxLet=e},error:function(e){l.embeddedView||l.createEmbeddedView(),l.ViewContext.$error=!0},complete:function(){l.embeddedView||l.createEmbeddedView(),l.ViewContext.$complete=!0}},this.cdAware=(o={render:(i={cdRef:e,ngZone:t},function(){i.ngZone instanceof I?i.cdRef.markForCheck():i.cdRef.detectChanges()}),resetContextObserver:this.resetContextObserver,updateViewContextObserver:this.updateViewContextObserver},a=new pe,s=a.pipe(Wd()).pipe(Im(function(e){return null==e?(o.updateViewContextObserver.next(e),o.render(),ld):(o.resetContextObserver.next(),o.render(),e.pipe(Wd(),Fm(o.updateViewContextObserver),Fm(function(){return o.render()}),Wp(function(e){return console.error(e),ld})))})),{nextPotentialObservable:function(e){a.next(e)},subscribe:function(){return s.subscribe()}}),this.subscription=this.cdAware.subscribe()}function Qm(e,t,n,r){return wE(this,Qm),(e=Hm.call(this,e))._tapNext=Dm,e._tapError=Dm,e._tapComplete=Dm,e._tapError=n||Dm,e._tapComplete=r||Dm,D(t)?(e._context=TE(e),e._tapNext=t):t&&(e._context=t,e._tapNext=t.next||Dm,e._tapError=t.error||Dm,e._tapComplete=t.complete||Dm),e}function Ym(e,t,n){wE(this,Ym),this.nextOrObserver=e,this.error=t,this.complete=n}CE(oy,[{key:"create",value:function(e){return new ty(this.componentFactory,e)}}]);var Xm,ey=oy,ty=(CE(iy,[{key:"connect",value:function(e){null!==this.scheduledDestroyFn?(this.scheduledDestroyFn(),this.scheduledDestroyFn=null):null===this.componentRef&&this.initializeComponent(e)}},{key:"disconnect",value:function(){var e=this;null!==this.componentRef&&null===this.scheduledDestroyFn&&(this.scheduledDestroyFn=Gm.schedule(function(){null!==e.componentRef&&(e.componentRef.destroy(),e.componentRef=null)},10))}},{key:"getInputValue",value:function(e){return null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]}},{key:"setInputValue",value:function(e,t){var n,r;null!==this.componentRef?((n=t)!==(r=this.getInputValue(e))&&(n==n||r==r)||void 0===t&&this.unchangedInputs.has(e))&&(this.recordInputChange(e,t),this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)}},{key:"initializeComponent",value:function(l){var e=f.create({providers:[],parent:this.injector}),t=(e=>{var t=l.childNodes,n=e.map(function(){return[]}),r=-1;e.some(function(e,t){return"*"===e&&(r=t,!0)});for(var i=0,o=t.length;i<o;++i){var a=t[i],s=((n,e,t)=>{var r=t;return n&&n.nodeType===Node.ELEMENT_NODE&&e.some(function(e,t){return!("*"===e||!Km.call(n,e)||(r=t,0))}),r})(a,e,r);-1!==s&&n[s].push(a)}return n})(this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,t,l),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Dc).attachView(this.componentRef.hostView)}},{key:"initializeInputs",value:function(){var t=this;this.componentFactory.inputs.forEach(function(e){e=e.propName;t.implementsOnChanges&&t.unchangedInputs.add(e),t.initialInputValues.has(e)&&t.setInputValue(e,t.initialInputValues.get(e))}),this.initialInputValues.clear()}},{key:"initializeOutputs",value:function(r){var e=this.componentFactory.outputs.map(function(e){var t=e.propName,n=e.templateName;return r.instance[t].pipe(g(function(e){return{name:n,value:e}}))});this.eventEmitters.next(e)}},{key:"callNgOnChanges",value:function(e){var t;this.implementsOnChanges&&null!==this.inputChanges&&(t=this.inputChanges,this.inputChanges=null,e.instance.ngOnChanges(t))}},{key:"scheduleDetectChanges",value:function(){var e=this;this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Gm.scheduleBeforeRender(function(){e.scheduledChangeDetectionFn=null,e.detectChanges()}))}},{key:"recordInputChange",value:function(e,t){var n,r;null!==this.componentRef&&!this.implementsOnChanges||(null===this.inputChanges&&(this.inputChanges={}),(n=this.inputChanges[e])?n.currentValue=t:(n=this.unchangedInputs.has(e),this.unchangedInputs.delete(e),r=n?void 0:this.getInputValue(e),this.inputChanges[e]=new Sn(r,t,n)))}},{key:"detectChanges",value:function(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.componentRef.changeDetectorRef.detectChanges())}}]),iy),ny=(xE(ry,AE(HTMLElement)),Xm=SE(ry),ry);function ry(){var e;return wE(this,ry),(e=Xm.apply(this,arguments)).ngElementEventsSubscription=null,e}function iy(e,t){wE(this,iy),this.componentFactory=e,this.injector=t,this.eventEmitters=new Wm(1),this.events=this.eventEmitters.pipe(Im(function(e){return Ze.apply(void 0,_E(e))})),this.componentRef=null,this.inputChanges=null,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set}function oy(e,t){wE(this,oy),this.componentFactory=t.get(is).resolveComponentFactory(e)}function ay(e,r){t=e;var n,i,o=r.injector.get(is).resolveComponentFactory(t).inputs,a=r.strategyFactory||new ey(e,r.injector),s=(i={},o.forEach(function(e){var t=e.propName;i[e.templateName.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})]=t}),i),t=(xE(l,ny),n=SE(l),CE(l,[{key:"attributeChangedCallback",value:function(e,t,n,r){this.ngElementStrategy.setInputValue(s[e],n)}},{key:"connectedCallback",value:function(){var e=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),e=!0),this.ngElementStrategy.connect(this),e||this.subscribeToEvents()}},{key:"disconnectedCallback",value:function(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}},{key:"subscribeToEvents",value:function(){var r=this;this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(function(e){n=r.ownerDocument,t=e.name,e=e.value;var t,n="function"!=typeof CustomEvent?((n=n.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,e),n):new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:e});r.dispatchEvent(n)})}},{key:"ngElementStrategy",get:function(){var n,e,t=this;return this._ngElementStrategy||(n=this._ngElementStrategy=a.create(this.injector||r.injector),e=o.filter(function(e){e=e.propName;return t.hasOwnProperty(e)}).map(function(e){e=e.propName;return[e,t[e]]}),this instanceof l?e.forEach(function(e){e=kE(e,1)[0];return delete t[e]}):sy(o,this),e.forEach(function(e){var e=kE(e,2),t=e[0];return n.setInputValue(t,e[1])})),this._ngElementStrategy}}]),l);function l(e){var t;return wE(this,l),(t=n.call(this)).injector=e,t}return t.observedAttributes=Object.keys(s),Object.defineProperty(t.prototype,"ngElementStrategy",{enumerable:!0}),sy(o,t.prototype),t}function sy(e,n){e.forEach(function(e){var t=e.propName;Object.defineProperty(n,t,{get:function(){return this.ngElementStrategy.getInputValue(t)},set:function(e){this.ngElementStrategy.setInputValue(t,e)},configurable:!0,enumerable:!0})})}(cy=function e(){wE(this,e)}).mod=s({type:cy}),cy.inj=t({factory:function(e){return new(e||cy)}});var ly,cy,gm=cy,uy=((ly=function e(){wE(this,e)}).mod=s({type:ly}),ly.inj=t({factory:function(e){return new(e||ly)}}),ly),hy=function(){return(hy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function dy(e){return e.toLowerCase()}var fy=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],py=/[^A-Z0-9]+/gi;function gy(e,t){for(var n=(t=void 0===t?{}:t).splitRegexp,r=t.stripRegexp,r=void 0===r?py:r,i=t.transform,i=void 0===i?dy:i,t=t.delimiter,t=void 0===t?" ":t,o=vy(vy(e,void 0===n?fy:n,"$1\0$2"),r,"\0"),a=0,s=o.length;"\0"===o.charAt(a);)a++;for(;"\0"===o.charAt(s-1);)s--;return o.slice(a,s).split("\0").map(i).join(t)}function vy(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(e,t){return e.replace(t,n)},e)}function my(e,t){return e=e,t=hy({delimiter:"_"},t=void 0===t?{}:t),gy(e,hy({delimiter:"."},t=void 0===t?{}:t))}function yy(e,t){var n=e.charAt(0),e=e.substr(1).toLowerCase();return 0<t&&"0"<=n&&n<="9"?"_"+n+e:""+n.toUpperCase()+e}function ky(e,t){return 0===t?e.toLowerCase():yy(e,t)}function by(e,t){return e=e,t=hy({transform:ky},t=void 0===t?{}:t),gy(e,hy({delimiter:"",transform:yy},t=void 0===t?{}:t))}CE(My,null,[{key:"buildQueryParams",value:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=new Av;return Object.keys(n).forEach(function(e){var t=n[e],e=e in r?r[e]:e;void 0===t?i=i.append(e,"undefined"):null===t?i=i.append(e,"null"):Array.isArray(t)?i=i.append(e,t.join(",")):t.toString&&(i=i.append(e,t.toString()))}),i}},{key:"buildFormData",value:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=new FormData;return Object.keys(n).forEach(function(e){var t=n[e],e=e in r?r[e]:e;void 0===t?i.append(e,"undefined"):null===t?i.append(e,"null"):t instanceof File?i.append(e,t,t.name):Array.isArray(t)?i.append(e,t.join(",")):t.toString&&i.append(e,t.toString())}),i}},{key:"objKeysTransformer",value:function(e,n){var r=this;return null===e||"object"!=typeof e?e:Array.isArray(e)?e.map(function(e){return r.objKeysTransformer(e,n)}):Object.fromEntries(Object.entries(e).map(function(e){var e=kE(e,2),t=e[0],e=e[1];return"object"==typeof e&&null!==e?[n(t),r.objKeysTransformer(e,n)]:[n(t),e]}))}},{key:"slugify",value:function(e){return e.toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}}]);var _y,wy,Cy=My,xy=(CE(Oy,[{key:"get",value:function(e){e=localStorage.getItem(e);if(e)try{return JSON.parse(e)}catch(e){}}},{key:"set",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"contains",value:function(e){return void 0!==localStorage.get(e)}},{key:"clear",value:function(){localStorage.clear()}}]),(_y=Oy).fac=function(e){return new(e||_y)},_y.prov=r({token:_y,factory:_y.fac}),_y),Sy=(Iy.prototype=Object.create(Error.prototype),Iy),Ey={},Ty=(CE(Ry,[{key:"call",value:function(e,t){return t.subscribe(new Ay(e,this.resultSelector))}}]),Ry),Ay=(xE(Py,zh),wy=SE(Py),CE(Py,[{key:"_next",value:function(e){this.values.push(Ey),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(Od(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==--this.active&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===Ey?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}]),Py);function Py(e,t){return wE(this,Py),(e=wy.call(this,e)).resultSelector=t,e.active=0,e.values=[],e.observables=[],e}function Ry(e){wE(this,Ry),this.resultSelector=e}function Iy(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}function Oy(){wE(this,Oy)}function My(){wE(this,My)}function Ny(){return Ke(1)}function Ly(t){return function(e){return 0===t?vd():e.lift(new Dy(t))}}CE(zy,[{key:"call",value:function(e,t){return t.subscribe(new Fy(e,this.total))}}]);var jy,Dy=zy,Fy=(xE(Vy,i),jy=SE(Vy),CE(Vy,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(0<t)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),Vy);function Vy(e,t){return wE(this,Vy),(e=jy.call(this,e)).total=t,e.ring=new Array,e.count=0,e}function zy(e){if(wE(this,zy),this.total=e,this.total<0)throw new kg}function By(e){var t=0<arguments.length&&void 0!==e?e:Ky;return function(e){return e.lift(new Uy(t))}}CE($y,[{key:"call",value:function(e,t){return t.subscribe(new qy(e,this.errorFactory))}}]);var Hy,Uy=$y,qy=(xE(Wy,i),Hy=SE(Wy),CE(Wy,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),Wy);function Wy(e,t){return wE(this,Wy),(e=Hy.call(this,e)).errorFactory=t,e.hasValue=!1,e}function $y(e){wE(this,$y),this.errorFactory=e}function Ky(){return new Sy}function Gy(e){var t=0<arguments.length&&void 0!==e?e:null;return function(e){return e.lift(new Jy(t))}}CE(Xy,[{key:"call",value:function(e,t){return t.subscribe(new Qy(e,this.defaultValue))}}]);var Zy,Jy=Xy,Qy=(xE(Yy,i),Zy=SE(Yy),CE(Yy,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),Yy);function Yy(e,t){return wE(this,Yy),(e=Zy.call(this,e)).defaultValue=t,e.isEmpty=!0,e}function Xy(e){wE(this,Xy),this.defaultValue=e}function ek(r,e){var t=2<=arguments.length;return function(n){return n.pipe(r?Qp(function(e,t){return r(e,t,n)}):re,Rg(1),t?Gy(e):By(function(){return new Sy}))}}CE(ok,[{key:"call",value:function(e,t){return t.subscribe(new rk(e,this.predicate,this.thisArg,this.source))}}]);var tk,nk=ok,rk=(xE(ik,i),tk=SE(ik),CE(ik,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),ik);function ik(e,t,n,r){return wE(this,ik),(e=tk.call(this,e)).predicate=t,e.thisArg=n,e.source=r,e.index=0,e.thisArg=n||TE(e),e}function ok(e,t,n){wE(this,ok),this.predicate=e,this.thisArg=t,this.source=n}function ak(){return Ny()(O.apply(void 0,arguments))}function sk(e,t){wE(this,sk),this.id=e,this.url=t}xE(Jk,sk),vk=SE(Jk),CE(Jk,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]);var lk,ck,uk,hk,dk,fk,pk,gk,vk,mk=Jk,yk=(xE(Zk,sk),gk=SE(Zk),CE(Zk,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),Zk),kk=(xE(Gk,sk),pk=SE(Gk),CE(Gk,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),Gk),bk=(xE(Kk,sk),fk=SE(Kk),CE(Kk,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),Kk),_k=(xE($k,sk),dk=SE($k),CE($k,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),$k),wk=(xE(Wk,sk),hk=SE(Wk),CE(Wk,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),Wk),Ck=(xE(qk,sk),uk=SE(qk),CE(qk,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),qk),xk=(xE(Uk,sk),ck=SE(Uk),CE(Uk,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),Uk),Sk=(xE(Hk,sk),lk=SE(Hk),CE(Hk,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),Hk),Ek=(CE(Bk,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),Bk),Tk=(CE(zk,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),zk),Ak=(CE(Vk,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),Vk),Pk=(CE(Fk,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),Fk),Rk=(CE(Dk,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),Dk),Ik=(CE(jk,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),jk),Ok=(CE(Lk,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),Lk),Mk=(CE(Nk,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){return this.has(e)?(e=this.params[e],Array.isArray(e)?e[0]:e):null}},{key:"getAll",value:function(e){return this.has(e)?(e=this.params[e],Array.isArray(e)?e:[e]):[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),Nk);function Nk(e){wE(this,Nk),this.params=e||{}}function Lk(e,t,n){wE(this,Lk),this.routerEvent=e,this.position=t,this.anchor=n}function jk(e){wE(this,jk),this.snapshot=e}function Dk(e){wE(this,Dk),this.snapshot=e}function Fk(e){wE(this,Fk),this.snapshot=e}function Vk(e){wE(this,Vk),this.snapshot=e}function zk(e){wE(this,zk),this.route=e}function Bk(e){wE(this,Bk),this.route=e}function Hk(e,t,n,r){return wE(this,Hk),(e=lk.call(this,e,t)).urlAfterRedirects=n,e.state=r,e}function Uk(e,t,n,r){return wE(this,Uk),(e=ck.call(this,e,t)).urlAfterRedirects=n,e.state=r,e}function qk(e,t,n,r,i){return wE(this,qk),(e=uk.call(this,e,t)).urlAfterRedirects=n,e.state=r,e.shouldActivate=i,e}function Wk(e,t,n,r){return wE(this,Wk),(e=hk.call(this,e,t)).urlAfterRedirects=n,e.state=r,e}function $k(e,t,n,r){return wE(this,$k),(e=dk.call(this,e,t)).urlAfterRedirects=n,e.state=r,e}function Kk(e,t,n){return wE(this,Kk),(e=fk.call(this,e,t)).error=n,e}function Gk(e,t,n){return wE(this,Gk),(e=pk.call(this,e,t)).reason=n,e}function Zk(e,t,n){return wE(this,Zk),(e=gk.call(this,e,t)).urlAfterRedirects=n,e}function Jk(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"imperative",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return wE(this,Jk),(e=vk.call(this,e,t)).navigationTrigger=n,e.restoredState=r,e}function Qk(e){return new Mk(e)}function Yk(e){e=Error("NavigationCancelingError: "+e);return e.ngNavigationCancelingError=!0,e}function Xk(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function eb(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!tb(e[n=r[o]],t[n]))return!1;return!0}function tb(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(function(e){return-1<t.indexOf(e)}):e===t}function nb(e){return Array.prototype.concat.apply([],e)}function rb(e){return 0<e.length?e[e.length-1]:null}function ib(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ob(e){return e&&"function"==typeof e.subscribe?e:Aa(e)?Me(Promise.resolve(e)):O(e)}function ab(e,t,n){return n?eb(e.queryParams,t.queryParams)&&function e(t,n){if(!db(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):(r=e.queryParams,i=t.queryParams,Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(function(e){return tb(r[e],i[e])})&&function a(e,t){return function e(t,n,r){if(t.segments.length>r.length)return!!db(t.segments.slice(0,r.length),r)&&!n.hasChildren();if(t.segments.length===r.length){if(!db(t.segments,r))return!1;for(var i in n.children){if(!t.children[i])return!1;if(!a(t.children[i],n.children[i]))return!1}return!0}var o=r.slice(0,t.segments.length),r=r.slice(t.segments.length);return!!db(t.segments,o)&&!!t.children.primary&&e(t.children.primary,n,r)}(e,t,t.segments)}(e.root,t.root));var r,i}CE(hb,[{key:"toString",value:function(){return gb.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Qk(this.queryParams)),this._queryParamMap}}]);var sb=hb,M=(CE(ub,[{key:"hasChildren",value:function(){return 0<this.numberOfChildren}},{key:"toString",value:function(){return mb(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),ub),lb=(CE(cb,[{key:"toString",value:function(){return Cb(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Qk(this.parameters)),this._parameterMap}}]),cb);function cb(e,t){wE(this,cb),this.path=e,this.parameters=t}function ub(e,t){var n=this;wE(this,ub),this.segments=e,this.children=t,this.parent=null,ib(t,function(e,t){e.parent=n})}function hb(e,t,n){wE(this,hb),this.root=e,this.queryParams=t,this.fragment=n}function db(e,n){return e.length===n.length&&e.every(function(e,t){return e.path===n[t].path})}function fb(e,n){var r=[];return ib(e.children,function(e,t){"primary"===t&&(r=r.concat(n(e,t)))}),ib(e.children,function(e,t){"primary"!==t&&(r=r.concat(n(e,t)))}),r}function pb(){wE(this,pb)}CE(vb,[{key:"parse",value:function(e){e=new Ab(e);return new sb(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function n(r,e){var i;return r.hasChildren()?e?(e=r.children.primary?n(r.children.primary,!1):"",i=[],ib(r.children,function(e,t){"primary"!==t&&i.push("".concat(t,":").concat(n(e,!1)))}),0<i.length?"".concat(e,"(").concat(i.join("//"),")"):e):(e=fb(r,function(e,t){return"primary"===t?[n(r.children.primary,!1)]:["".concat(t,":").concat(n(e,!1))]}),"".concat(mb(r),"/(").concat(e.join("//"),")")):mb(r)}(e.root,!0)).concat((n=e.queryParams,(t=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(kb(t),"=").concat(kb(e))}).join("&"):"".concat(kb(t),"=").concat(kb(e))})).length?"?"+t.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var n,t}}]);var zh=vb,gb=new zh;function vb(){wE(this,vb)}function mb(e){return e.segments.map(Cb).join("/")}function yb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kb(e){return yb(e).replace(/%3B/gi,";")}function bb(e){return yb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _b(e){return decodeURIComponent(e)}function wb(e){return _b(e.replace(/\+/g,"%20"))}function Cb(e){return"".concat(bb(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(bb(e),"=").concat(bb(t[e]))}).join("")));var t}var xb=/^[^\/()?;=#]+/;function Sb(e){e=e.match(xb);return e?e[0]:""}var Eb=/^[^=?&#]+/,Tb=/^[^?&#]+/,Ab=(CE(Ib,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new M([],{}):new M([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))for(;this.parseQueryParam(e),this.consumeOptional("&"););return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={},n=(this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0)),{});return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(0<e.length||0<Object.keys(t).length)&&(n.primary=new M(e,t)),n}},{key:"parseSegment",value:function(){var e=Sb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new lb(_b(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t,n,r=Sb(this.remaining);r&&(this.capture(r),t="",this.consumeOptional("=")&&(n=Sb(this.remaining))&&this.capture(t=n),e[_b(r)]=_b(t))}},{key:"parseQueryParam",value:function(e){var t,n,r=(e=>(e=e.match(Eb))?e[0]:"")(this.remaining);r&&(this.capture(r),n="",this.consumeOptional("=")&&(t=(e=>(e=e.match(Tb))?e[0]:"")(this.remaining))&&this.capture(n=t),t=wb(r),r=wb(n),e.hasOwnProperty(t)?(n=e[t],Array.isArray(n)||(e[t]=n=[n]),n.push(r)):e[t]=r)}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&0<this.remaining.length;){var n=Sb(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));r=void 0,n=(-1<n.indexOf(":")?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary"),this.parseChildren());t[r]=1===Object.keys(n).length?n.primary:new M([],n),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),Ib),Pb=(CE(Rb,[{key:"parent",value:function(e){e=this.pathFromRoot(e);return 1<e.length?e[e.length-2]:null}},{key:"children",value:function(e){e=Ob(e,this._root);return e?e.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){e=Ob(e,this._root);return e&&0<e.children.length?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Mb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(e){return e.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(e){return Mb(e,this._root).map(function(e){return e.value})}},{key:"root",get:function(){return this._root.value}}]),Rb);function Rb(e){wE(this,Rb),this._root=e}function Ib(e){wE(this,Ib),this.url=e,this.remaining=e}function Ob(e,t){if(e===t.value)return t;var n,r=bE(t.children);try{for(r.s();!(n=r.n()).done;){var i=Ob(e,n.value);if(i)return i}}catch(e){r.e(e)}finally{r.f()}return null}function Mb(e,t){if(e===t.value)return[t];var n,r=bE(t.children);try{for(r.s();!(n=r.n()).done;){var i=Mb(e,n.value);if(i.length)return i.unshift(t),i}}catch(e){r.e(e)}finally{r.f()}return[]}CE(Lb,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]);var Nb=Lb;function Lb(e,t){wE(this,Lb),this.value=e,this.children=t}function jb(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}xE(Vb,Pb),Db=SE(Vb),CE(Vb,[{key:"toString",value:function(){return this.snapshot.toString()}}]);var Db,Fb=Vb;function Vb(e,t){var n;return wE(this,Vb),(n=Db.call(this,e)).snapshot=t,Zb(TE(n),e),n}function zb(e,t){e=new Wb([],{},{},"",{},"primary",t,null,e.root,-1,{});var e=new $b("",new Nb(e,[])),n=new id([new lb("",{})]),r=new id({}),i=new id({}),o=new id({}),a=new id(""),n=new Bb(n,r,o,a,i,"primary",t,e.root);return n.snapshot=e.root,new Fb(new Nb(n,[]),e)}CE(Hb,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(g(Qk))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(g(Qk))),this._queryParamMap}}]);var Bb=Hb;function Hb(e,t,n,r,i,o,a,s){wE(this,Hb),this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}function Ub(e,t){var n=e.pathFromRoot,r=0;if("always"!==(1<arguments.length&&void 0!==t?t:"emptyOnly"))for(r=n.length-1;1<=r;){var i=n[r],o=n[r-1];if((!i.routeConfig||""!==i.routeConfig.path)&&o.component)break;r--}return n.slice(r).reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}CE(Gb,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Qk(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Qk(this.queryParams)),this._queryParamMap}}]);var qb,Wb=Gb,$b=(xE(Kb,Pb),qb=SE(Kb),CE(Kb,[{key:"toString",value:function(){return Jb(this._root)}}]),Kb);function Kb(e,t){var n;return wE(this,Kb),(n=qb.call(this,t)).url=e,Zb(TE(n),t),n}function Gb(e,t,n,r,i,o,a,s,l,c,u){wE(this,Gb),this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}function Zb(t,e){e.value._routerState=t,e.children.forEach(function(e){return Zb(t,e)})}function Jb(e){var t=0<e.children.length?" { ".concat(e.children.map(Jb).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Qb(e){var t,n;e.snapshot?(eb((t=e.snapshot).queryParams,(e.snapshot=n=e._futureSnapshot).queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),eb(t.params,n.params)||e.params.next(n.params),((e,t)=>{if(e.length===t.length){for(var n=0;n<e.length;++n)if(!eb(e[n],t[n]))return;return 1}})(t.url,n.url)||e.url.next(n.url),eb(t.data,n.data)||e.data.next(n.data)):(e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data))}function Yb(e,t){var n,r;return eb(e.params,t.params)&&db(n=e.url,r=t.url)&&n.every(function(e,t){return eb(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||Yb(e.parent,t.parent))}function Xb(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function e_(e,t,n,r,i){var o={};return r&&ib(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return""+e}):""+e}),new sb(n.root===e?t:function n(e,r,i){var o={};return ib(e.children,function(e,t){o[t]=e===r?i:n(e,r,i)}),new M(e.segments,o)}(n.root,e,t),o,i)}function t_(e,t,n){wE(this,t_),this.segmentGroup=e,this.processChildren=t,this.index=n}CE(r_,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]);var n_=r_;function r_(e,t,n){if(wE(this,r_),this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&0<n.length&&Xb(n[0]))throw new Error("Root segment cannot have matrix parameters");t=n.find(function(e){return"object"==typeof e&&null!=e&&e.outlets});if(t&&t!==rb(n))throw new Error("{outlets:{}} has to be the last command")}function i_(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function o_(e,l,t){var n,r,i;return 0===(e=e||new M([],{})).segments.length&&e.hasChildren()?a_(e,l,t):(n=((e,t)=>{for(var n=0,r=l,i={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(n>=t.length)return i;var o=e.segments[r],a=i_(t[n]),s=n<t.length-1?t[n+1]:null;if(0<r&&void 0===a)break;if(a&&s&&"object"==typeof s&&void 0===s.outlets){if(!l_(a,s,o))return i;n+=2}else{if(!l_(a,{},o))return i;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}})(e,t),r=t.slice(n.commandIndex),n.match&&n.pathIndex<e.segments.length?((i=new M(e.segments.slice(0,n.pathIndex),{})).children.primary=new M(e.segments.slice(n.pathIndex),e.children),a_(i,0,r)):n.match&&0===r.length?new M(e.segments,{}):(!n.match||e.hasChildren())&&n.match?a_(e,0,r):s_(e,l,t))}function a_(n,r,e){var i,o;return 0===e.length?new M(n.segments,{}):(i="object"==typeof e[0]&&null!==e[0]&&e[0].outlets?e[0].outlets:{primary:e},o={},ib(i,function(e,t){null!==e&&(o[t]=o_(n.children[t],r,e))}),ib(n.children,function(e,t){void 0===i[t]&&(o[t]=e)}),new M(n.segments,o))}function s_(e,t,n){for(var r,i,o=e.segments.slice(0,t),a=0;a<n.length;){if("object"==typeof n[a]&&null!==n[a]&&void 0!==n[a].outlets)return r=(e=>{var n={};return ib(e,function(e,t){null!==e&&(n[t]=s_(new M([],{}),0,e))}),n})(n[a].outlets),new M(o,r);0===a&&Xb(n[0])?(o.push(new lb(e.segments[t].path,n[0])),a++):(r=i_(n[a]),i=a<n.length-1?n[a+1]:null,r&&i&&Xb(i)?(o.push(new lb(r,(e=>{var n={};return ib(e,function(e,t){n[t]=""+e}),n})(i))),a+=2):(o.push(new lb(r,{})),a++))}return new M(o,{})}function l_(e,t,n){return e==n.path&&eb(t,n.parameters)}CE(u_,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Qb(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=jb(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),ib(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;r===i?r.component?(r=n.getContext(r.outlet))&&this.deactivateChildRoutes(e,t,r.children):this.deactivateChildRoutes(e,t,n):i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n,t=t.getContext(e.value.outlet);t&&t.outlet&&(n=t.outlet.detach(),t=t.children.onOutletDeactivated(),this.routeReuseStrategy.store(e.value.snapshot,{componentRef:n,route:e,contexts:t}))}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n,r,i=this,o=t.getContext(e.value.outlet);o&&(n=jb(e),r=e.value.component?o.children:t,ib(n,function(e,t){i.deactivateRouteAndItsChildren(e,r)}),o.outlet)&&(o.outlet.deactivate(),o.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=jb(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Ik(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Pk(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;Qb(r),r===i?r.component?(i=n.getOrCreateContext(r.outlet),this.activateChildRoutes(e,t,i.children)):this.activateChildRoutes(e,t,n):r.component?(i=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)?(t=this.routeReuseStrategy.retrieve(r.snapshot),this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(t.contexts),i.attachRef=t.componentRef,i.route=t.route.value,i.outlet&&i.outlet.attach(t.componentRef,t.route.value),h_(t.route)):(t=(t=(()=>{for(var e=r.snapshot.parent;e;e=e.parent){var t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null})())?t.module.componentFactoryResolver:null,i.attachRef=null,i.route=r,i.resolver=t,i.outlet&&i.outlet.activateWith(r,t),this.activateChildRoutes(e,null,i.children))):this.activateChildRoutes(e,null,n)}}]);var c_=u_;function u_(e,t,n,r){wE(this,u_),this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}function h_(e){Qb(e.value),e.children.forEach(h_)}function d_(e,t){wE(this,d_),this.routes=e,this.module=t}function f_(e){return"function"==typeof e}function p_(e){return e instanceof sb}function g_(e){wE(this,g_),this.segmentGroup=e||null}function v_(e){wE(this,v_),this.urlTree=e}function m_(t){return new u(function(e){return e.error(new g_(t))})}function y_(t){return new u(function(e){return e.error(new v_(t))})}CE(b_,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(g(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Wp(function(e){if(e instanceof v_)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof g_)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var n=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(g(function(e){return n.createUrlTree(e,t.queryParams,t.fragment)})).pipe(Wp(function(e){if(e instanceof g_)throw n.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){e=0<e.segments.length?new M([],{primary:e}):e;return new sb(e,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(g(function(e){return new M([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(n,r,e){var i,o,a,s=this;return e=e.children,0===Object.keys(e).length?O({}):(i=[],o=[],a={},ib(e,function(e,t){e=s.expandSegmentGroup(n,r,e,t).pipe(g(function(e){return a[t]=e}));("primary"===t?i:o).push(e)}),O.apply(null,i.concat(o)).pipe(Ny(),function(){var t=2<=arguments.length;return function(e){return e.pipe(re,Ly(1),t?Gy(void 0):By(function(){return new Sy}))}}(),g(function(){return a})))}},{key:"expandSegment",value:function(t,n,r,i,o,a){var s=this;return O.apply(void 0,_E(r)).pipe(g(function(e){return s.expandSegmentAgainstRoute(t,n,r,e,i,o,a).pipe(Wp(function(e){if(e instanceof g_)return O(null);throw e}))}),Ny(),ek(function(e){return!!e}),Wp(function(e,t){if(e instanceof Sy||"EmptyError"===e.name){if(s.noLeftoversInUrl(n,i,o))return O(new M([],{}));throw new g_(n)}throw e}))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return x_(r)!==o?m_(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):m_(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(n,r,e,i){var o=this,t=this.applyRedirectCommands([],e.redirectTo,{});return e.redirectTo.startsWith("/")?y_(t):this.lineralizeSegments(e,t).pipe(Be(function(e){var t=new M(e,{});return o.expandSegment(n,t,r,e,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,n,r,e,i,o){var a=this,s=__(n,e,i),l=s.matched,c=s.lastChild;return l?(l=this.applyRedirectCommands(s.consumedSegments,e.redirectTo,s.positionalParamSegments),e.redirectTo.startsWith("/")?y_(l):this.lineralizeSegments(e,l).pipe(Be(function(e){return a.expandSegment(t,n,r,e.concat(i.slice(c)),o,!1)}))):m_(n)}},{key:"matchSegmentAgainstRoute",value:function(e,u,t,n){var r,i,h,d,f=this;return"**"===t.path?t.loadChildren?this.configLoader.load(e.injector,t).pipe(g(function(e){return t._loadedConfig=e,new M(n,{})})):O(new M(n,{})):(i=(r=__(u,t,n)).matched,h=r.consumedSegments,i?(d=n.slice(r.lastChild),this.getChildConfig(e,t,n).pipe(Be(function(e){var s,t,n,r,i,o=e.module,e=e.routes,a=(l=u,a=h,s=e,0<(c=d).length&&(r=l,i=c,s.some(function(e){return C_(r,i,e)&&"primary"!==x_(e)}))?{segmentGroup:w_(new M(a,((e,t)=>{var n={};n.primary=t;var r,i=bE(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==x_(o)&&(n[x_(o)]=new M([],{}))}}catch(e){i.e(e)}finally{i.f()}return n})(s,new M(c,l.children)))),slicedSegments:[]}:0===c.length&&(t=l,n=c,s.some(function(e){return C_(t,n,e)}))?{segmentGroup:w_(new M(l.segments,((e,t,n)=>{var r,i={},o=bE(s);try{for(o.s();!(r=o.n()).done;){var a=r.value;C_(e,t,a)&&!n[x_(a)]&&(i[x_(a)]=new M([],{}))}}catch(e){o.e(e)}finally{o.f()}return Object.assign(Object.assign({},n),i)})(l,c,l.children))),slicedSegments:c}:{segmentGroup:l,slicedSegments:c}),l=a.segmentGroup,c=a.slicedSegments;return 0===c.length&&l.hasChildren()?f.expandChildren(o,e,l).pipe(g(function(e){return new M(h,e)})):0===e.length&&0===c.length?O(new M(h,{})):f.expandSegment(o,l,e,c,"primary",!0).pipe(g(function(e){return new M(h.concat(e.segments),e.children)}))}))):m_(u))}},{key:"getChildConfig",value:function(n,r,e){var i=this;return r.children?O(new d_(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?O(r._loadedConfig):this.runCanLoadGuards(n.injector,r,e).pipe(Be(function(e){return e?i.configLoader.load(n.injector,r).pipe(g(function(e){return r._loadedConfig=e})):(t=r,new u(function(e){return e.error(Yk("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}));var t})):O(new d_([],n))}},{key:"runCanLoadGuards",value:function(n,r,i){var t,o=this,e=r.canLoad;return e&&0!==e.length?Me(e).pipe(g(function(e){var t,e=n.get(e);if(e&&f_(e.canLoad))t=e.canLoad(r,i);else{if(!f_(e))throw new Error("Invalid CanLoad guard");t=e(r,i)}return ob(t)})).pipe(Ny(),Fm(function(e){var t;if(p_(e))throw(t=Yk('Redirecting to "'.concat(o.urlSerializer.serialize(e),'"'))).url=e,t}),(t=function(e){return!0===e},function(e){return e.lift(new nk(t,void 0,e))})):O(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return O(n);if(1<r.numberOfChildren||!r.children.primary){var i=e.redirectTo;return new u(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(i,"'")))});return}r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){e=this.createSegmentGroup(e,t.root,n,r);return new sb(e,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,r){var i={};return ib(e,function(e,t){var n;"string"==typeof e&&e.startsWith(":")?(n=e.substring(1),i[t]=r[n]):i[t]=e}),i}},{key:"createSegmentGroup",value:function(n,e,r,i){var o=this,t=this.createSegments(n,e.segments,r,i),a={};return ib(e.children,function(e,t){a[t]=o.createSegmentGroup(n,e,r,i)}),new M(t,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(e,t,n){n=n[t.path.substring(1)];if(n)return n;throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."))}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=bE(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(e){i.e(e)}finally{i.f()}return e}}]);var k_=b_;function b_(e,t,n,r,i){wE(this,b_),this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(Qt)}function __(e,t,n){return""===t.path?"full"===t.pathMatch&&(e.hasChildren()||0<n.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:(n=(t.matcher||Xk)(n,e,t))?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function w_(e){var t;return 1===e.numberOfChildren&&e.children.primary?(t=e.children.primary,new M(e.segments.concat(t.segments),t.children)):e}function C_(e,t,n){return(!(e.hasChildren()||0<t.length)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function x_(e){return e.outlet||"primary"}function S_(e){wE(this,S_),this.path=e,this.route=this.path[this.path.length-1]}function E_(e,t){wE(this,E_),this.component=e,this.route=t}function T_(e,n,t){var r=(()=>{if(n)for(var e=n.parent;e;e=e.parent){var t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null})();return(r?r.module.injector:t).get(e)}function A_(e,n,r){var t=jb(e),i=e.value;ib(t,function(e,t){A_(e,i.component?n?n.children.getContext(t):null:n,r)}),r.canDeactivateChecks.push(new E_(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}var P_=Symbol("INITIAL_VALUE");function R_(){return Im(function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,i=void 0;return _e(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),Ge(t=1===t.length&&U(t[0])?t[0]:t,i).lift(new Ty(r))}.apply(void 0,_E(e.map(function(e){return e.pipe(Rg(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return _e(r)?(t.pop(),function(e){return ak(t,e,r)}):function(e){return ak(t,e)}}(P_))}))).pipe(Fd(function(e,r){var i=!1;return r.reduce(function(e,t,n){if(e===P_&&!(i=t===P_?!0:i)){if(!1===t)return t;if(n===r.length-1||p_(t))return t}return e},e)},P_),Qp(function(e){return e!==P_}),g(function(e){return p_(e)?e:!0===e}),Rg(1))})}function I_(r,e,i){var o=e[e.length-1],e=e.slice(0,e.length-1).reverse().map(function(e){return(t=e.routeConfig?e.routeConfig.canActivateChild:null)&&0!==t.length?{node:e,guards:t}:null;var t}).filter(function(e){return null!==e}).map(function(n){return Np(function(){return O(n.guards.map(function(e){var t,e=T_(e,n.node,i);if(e&&f_(e.canActivateChild))t=ob(e.canActivateChild(o,r));else{if(!f_(e))throw new Error("Invalid CanActivateChild guard");t=ob(e(o,r))}return t.pipe(ek())})).pipe(R_())})});return O(e).pipe(R_())}function O_(){wE(this,O_)}CE(N_,[{key:"recognize",value:function(){try{var e=D_(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Wb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nb(n,t),i=new $b(this.url,r);return this.inheritParamsAndData(i._root),O(i)}catch(t){return new u(function(e){return e.error(t)})}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Ub(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(n,e){var r=this,e=fb(e,function(e,t){return r.processSegmentGroup(n,e,t)}),i={};return e.forEach(function(e){var t,n=i[e.value.outlet];if(n)throw n=n.url.map(function(e){return e.toString()}).join("/"),t=e.value.url.map(function(e){return e.toString()}).join("/"),new Error("Two segments cannot have the same outlet name: '".concat(n,"' and '").concat(t,"'."));i[e.value.outlet]=e.value}),e.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),e}},{key:"processSegment",value:function(e,t,n,r){var i,o=bE(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(e){if(!(e instanceof O_))throw e}}}catch(e){o.e(e)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new O_}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new O_;if((e.outlet||"primary")!==r)throw new O_;var i,o=[],a=[],r=(n="**"===e.path?(i=0<n.length?rb(n).parameters:{},new Wb(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,z_(e),r,e.component,e,L_(t),j_(t)+n.length,B_(e))):(o=(i=((e,t,n)=>{if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||0<n.length))throw new O_;return{consumedSegments:[],lastChild:0,parameters:{}}}var r;if(n=(t.matcher||Xk)(n,e,t))return r={},ib(n.posParams,function(e,t){r[t]=e.path}),e=0<n.consumed.length?Object.assign(Object.assign({},r),n.consumed[n.consumed.length-1].parameters):r,{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:e};throw new O_})(t,e,n)).consumedSegments,a=n.slice(i.lastChild),new Wb(o,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,z_(e),r,e.component,e,L_(t),j_(t)+o.length,B_(e))),(i=e).children||(i.loadChildren?i._loadedConfig.routes:[])),e=D_(t,o,a,r,this.relativeLinkResolution),t=e.segmentGroup,o=e.slicedSegments;return 0===o.length&&t.hasChildren()?(a=this.processChildren(r,t),[new Nb(n,a)]):0===r.length&&0===o.length?[new Nb(n,[])]:(e=this.processSegment(r,t,o,"primary"),[new Nb(n,e)])}}]);var M_=N_;function N_(e,t,n,r,i,o){wE(this,N_),this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}function L_(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function j_(e){for(var t=e,n=t._segmentIndexShift||0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function D_(e,t,n,u,r){var i,o,a,s,l;return 0<n.length&&(i=e,o=n,u.some(function(e){return F_(i,o,e)&&"primary"!==V_(e)}))?((a=new M(t,((e,t,n,r)=>{var i={};(i.primary=r)._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=bE(n);try{for(a.s();!(o=a.n()).done;){var s,l=o.value;""===l.path&&"primary"!==V_(l)&&((s=new M([],{}))._sourceSegment=e,s._segmentIndexShift=t.length,i[V_(l)]=s)}}catch(e){a.e(e)}finally{a.f()}return i})(e,t,u,new M(n,e.children))))._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}):0===n.length&&(s=e,l=n,u.some(function(e){return F_(s,l,e)}))?((a=new M(e.segments,((e,t,n,r,i)=>{var o,a={},s=bE(u);try{for(s.s();!(o=s.n()).done;){var l,c=o.value;F_(e,n,c)&&!r[V_(c)]&&((l=new M([],{}))._sourceSegment=e,l._segmentIndexShift=("legacy"===i?e.segments:t).length,a[V_(c)]=l)}}catch(e){s.e(e)}finally{s.f()}return Object.assign(Object.assign({},r),a)})(e,t,n,e.children,r)))._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}):((r=new M(e.segments,e.children))._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n})}function F_(e,t,n){return(!(e.hasChildren()||0<t.length)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function V_(e){return e.outlet||"primary"}function z_(e){return e.data||{}}function B_(e){return e.resolve||{}}function H_(n){return function(e){return e.pipe(Im(function(e){var t=n(e);return t?Me(t).pipe(g(function(){return e})):Me([e])}))}}CE($_,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]);var U_,q_=$_,W_=((U_=function e(){wE(this,e)}).fac=function(e){return new(e||U_)},U_.cmp=un({type:U_,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&_(0,"router-outlet")},directives:function(){return[ww]},encapsulation:2}),U_);function $_(){wE(this,$_)}function K_(e,t){for(var n,r=1<arguments.length&&void 0!==t?t:"",i=0;i<e.length;i++){var o=e[i],a=(s=a=void 0,o),s=(n=r,(o=o)?n||o.path?n&&!o.path?n+"/":!n&&o.path?o.path:"".concat(n,"/").concat(o.path):"":n);if(!a)throw new Error("\n      Invalid configuration of route '".concat(s,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(a))throw new Error("Invalid configuration of route '".concat(s,"': Array cannot be specified"));if(!a.component&&!a.children&&!a.loadChildren&&a.outlet&&"primary"!==a.outlet)throw new Error("Invalid configuration of route '".concat(s,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(a.redirectTo&&a.children)throw new Error("Invalid configuration of route '".concat(s,"': redirectTo and children cannot be used together"));if(a.redirectTo&&a.loadChildren)throw new Error("Invalid configuration of route '".concat(s,"': redirectTo and loadChildren cannot be used together"));if(a.children&&a.loadChildren)throw new Error("Invalid configuration of route '".concat(s,"': children and loadChildren cannot be used together"));if(a.redirectTo&&a.component)throw new Error("Invalid configuration of route '".concat(s,"': redirectTo and component cannot be used together"));if(a.path&&a.matcher)throw new Error("Invalid configuration of route '".concat(s,"': path and matcher cannot be used together"));if(void 0===a.redirectTo&&!a.component&&!a.children&&!a.loadChildren)throw new Error("Invalid configuration of route '".concat(s,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===a.path&&void 0===a.matcher)throw new Error("Invalid configuration of route '".concat(s,"': routes must have either a path or a matcher specified"));if("string"==typeof a.path&&"/"===a.path.charAt(0))throw new Error("Invalid configuration of route '".concat(s,"': path cannot start with a slash"));if(""===a.path&&void 0!==a.redirectTo&&void 0===a.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(s,'", redirectTo: "').concat(a.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==a.pathMatch&&"full"!==a.pathMatch&&"prefix"!==a.pathMatch)throw new Error("Invalid configuration of route '".concat(s,"': pathMatch can only be set to 'prefix' or 'full'"));a.children&&K_(a.children,s)}}function G_(e){var t=e.children&&e.children.map(G_),e=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!e.component&&(t||e.loadChildren)&&e.outlet&&"primary"!==e.outlet&&(e.component=W_),e}function Z_(){wE(this,Z_),this.outlet=null,this.route=null,this.resolver=null,this.children=new X_,this.attachRef=null}function J_(){wE(this,J_)}var Q_=new c("ROUTES"),Y_=(CE(rw,[{key:"load",value:function(t,n){var r=this;return this.onLoadStartListener&&this.onLoadStartListener(n),this.loadModuleFactory(n.loadChildren).pipe(g(function(e){r.onLoadEndListener&&r.onLoadEndListener(n);e=e.create(t);return new d_(nb(e.injector.get(Q_)).map(G_),e)}))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Me(this.loader.load(e)):ob(e()).pipe(Be(function(e){return e instanceof Zt?O(e):Me(t.compiler.compileModuleAsync(e))}))}}]),rw),X_=(CE(nw,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){e=this.getContext(e);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Z_,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),nw),ew=(CE(tw,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),tw);function tw(){wE(this,tw)}function nw(){wE(this,nw),this.contexts=new Map}function rw(e,t,n,r){wE(this,rw),this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}function iw(e){throw e}function ow(e,t,n){return t.parse("/")}function aw(e,t){return O(null)}CE(gw,[{key:"setupNavigations",value:function(e){var f=this,p=this.events;return e.pipe(Qp(function(e){return 0!==e.id}),g(function(e){return Object.assign(Object.assign({},e),{extractedUrl:f.urlHandlingStrategy.extract(e.rawUrl)})}),Im(function(r){var t,n,i,o,u,h,a=!1,s=!1;return O(r).pipe(Fm(function(e){f.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:f.lastSuccessfulNavigation?Object.assign(Object.assign({},f.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Im(function(e){var n,r,i,o,a,s,l,c,t,u,h,d=!f.navigated||e.extractedUrl.toString()!==f.browserUrlTree.toString();return("reload"===f.onSameUrlNavigation||d)&&f.urlHandlingStrategy.shouldProcessUrl(e.rawUrl)?O(e).pipe(Im(function(e){var t=f.transitions.getValue();return p.next(new mk(e.id,f.serializeUrl(e.extractedUrl),e.source,e.restoredState)),t!==f.transitions.getValue()?ld:[e]}),Im(function(e){return Promise.resolve(e)}),(n=f.ngModule.injector,r=f.configLoader,i=f.urlSerializer,o=f.config,function(e){return e.pipe(Im(function(t){return e=t.extractedUrl,new k_(n,r,i,e,o).apply().pipe(g(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}));var e}))}),Fm(function(e){f.currentNavigation=Object.assign(Object.assign({},f.currentNavigation),{finalUrl:e.urlAfterRedirects})}),(a=f.rootComponentType,s=f.config,l=f.paramsInheritanceStrategy,c=f.relativeLinkResolution,function(e){return e.pipe(Be(function(t){return function(e,t,n,r,i,o){return new M_(e,t,n,r,4<arguments.length&&void 0!==i?i:"emptyOnly",5<arguments.length&&void 0!==o?o:"legacy").recognize()}(a,s,t.urlAfterRedirects,f.serializeUrl(t.urlAfterRedirects),l,c).pipe(g(function(e){return Object.assign(Object.assign({},t),{targetSnapshot:e})}))}))}),Fm(function(e){"eager"===f.urlUpdateStrategy&&(e.extras.skipLocationChange||f.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),f.browserUrlTree=e.urlAfterRedirects)}),Fm(function(e){e=new _k(e.id,f.serializeUrl(e.extractedUrl),f.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);p.next(e)})):d&&f.rawUrlTree&&f.urlHandlingStrategy.shouldProcessUrl(f.rawUrlTree)?(d=e.id,u=e.source,h=e.restoredState,t=e.extras,u=new mk(d,f.serializeUrl(d=e.extractedUrl),u,h),p.next(u),h=zb(d,f.rootComponentType).snapshot,O(Object.assign(Object.assign({},e),{targetSnapshot:h,urlAfterRedirects:d,extras:Object.assign(Object.assign({},t),{skipLocationChange:!1,replaceUrl:!1})}))):(f.rawUrlTree=e.rawUrl,f.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ld)}),H_(function(e){var t=e.targetSnapshot,n=e.extras,r=n.skipLocationChange;return f.hooks.beforePreactivation(t,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!r,replaceUrl:!!n.replaceUrl})}),Fm(function(e){e=new wk(e.id,f.serializeUrl(e.extractedUrl),f.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);f.triggerEvent(e)}),g(function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,t=f.rootContexts,function c(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=jb(t);return e.children.forEach(function(e){!function(e,t,n,r,i){var o,i=4<arguments.length&&void 0!==i?i:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=t?t.value:null,l=n?n.getContext(e.value.outlet):null;s&&a.routeConfig===s.routeConfig?((o=((e,t,n)=>{if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!db(e.url,t.url);case"pathParamsOrQueryParamsChange":return!db(e.url,t.url)||!eb(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yb(e,t)||!eb(e.queryParams,t.queryParams);default:return!Yb(e,t)}})(s,a,a.routeConfig.runGuardsAndResolvers))?i.canActivateChecks.push(new S_(r)):(a.data=s.data,a._resolvedData=s._resolvedData),c(e,t,a.component?l?l.children:null:n,r,i),o&&i.canDeactivateChecks.push(new E_(l&&l.outlet&&l.outlet.component||null,s))):(s&&A_(t,l,i),i.canActivateChecks.push(new S_(r)),c(e,null,a.component?l?l.children:null:n,r,i))}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),ib(o,function(e,t){A_(e,n.getContext(t),i)}),i}(n=n._root,(e=e.currentSnapshot)?e._root:null,t,[n.value]))});var t,n}),(u=f.ngModule.injector,h=function(e){return f.triggerEvent(e)},function(e){return e.pipe(Be(function(t){var s,l,c,n=t.targetSnapshot,e=t.currentSnapshot,r=t.guards,i=r.canActivateChecks,r=r.canDeactivateChecks;return 0===r.length&&0===i.length?O(Object.assign(Object.assign({},t),{guardsResult:!0})):(s=n,l=e,c=u,Me(r).pipe(Be(function(e){return n=e.component,i=l,o=s,a=c,(e=(r=e.route)&&r.routeConfig?r.routeConfig.canDeactivate:null)&&0!==e.length?O(e.map(function(e){var t,e=T_(e,r,a);if(e&&f_(e.canDeactivate))t=ob(e.canDeactivate(n,r,i,o));else{if(!f_(e))throw new Error("Invalid CanDeactivate guard");t=ob(e(n,r,i,o))}return t.pipe(ek())})).pipe(R_()):O(!0);var n,r,i,o,a}),ek(function(e){return!0!==e},!0)).pipe(Be(function(e){return e&&"boolean"==typeof e?(a=n,s=u,l=h,Me(i).pipe(jg(function(e){return Me([(t=e.route.parent,n=l,null!==t&&n&&n(new Ak(t)),O(!0)),(n=l,null!==(t=e.route)&&n&&n(new Rk(t)),O(!0)),I_(a,e.path,s),(r=a,o=s,(n=(i=e.route).routeConfig?i.routeConfig.canActivate:null)&&0!==n.length?O(n.map(function(n){return Np(function(){var e,t=T_(n,i,o);if(t&&f_(t.canActivate))e=ob(t.canActivate(i,r));else{if(!f_(t))throw new Error("Invalid CanActivate guard");e=ob(t(i,r))}return e.pipe(ek())})})).pipe(R_()):O(!0))]).pipe(Ny(),ek(function(e){return!0!==e},!0));var r,i,o,t,n}),ek(function(e){return!0!==e},!0))):O(e);var a,s,l}),g(function(e){return Object.assign(Object.assign({},t),{guardsResult:e})})))}))}),Fm(function(e){var t;if(p_(e.guardsResult))throw(t=Yk('Redirecting to "'.concat(f.serializeUrl(e.guardsResult),'"'))).url=e.guardsResult,t}),Fm(function(e){e=new Ck(e.id,f.serializeUrl(e.extractedUrl),f.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);f.triggerEvent(e)}),Qp(function(e){var t;return!!e.guardsResult||(f.resetUrlToCurrentUrlTree(),t=new kk(e.id,f.serializeUrl(e.extractedUrl),""),p.next(t),e.resolve(!1),!1)}),H_(function(e){if(e.guards.canActivateChecks.length)return O(e).pipe(Fm(function(e){e=new xk(e.id,f.serializeUrl(e.extractedUrl),f.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);f.triggerEvent(e)}),Im(function(t){var u,h,n=!1;return O(t).pipe((u=f.paramsInheritanceStrategy,h=f.ngModule.injector,function(e){return e.pipe(Be(function(t){var n,c=t.targetSnapshot,r=t.guards.canActivateChecks;return r.length?(n=0,Me(r).pipe(jg(function(e){return t=e.route,n=u,r=t._resolve,i=t,o=c,a=h,(0===(l=Object.keys(r)).length?O({}):(s={},Me(l).pipe(Be(function(t){return((e,t,n)=>ob((e=T_(e,t,a)).resolve?e.resolve(t,n):e(t,n)))(r[t],i,o).pipe(Fm(function(e){s[t]=e}))}),Ly(1),Be(function(){return Object.keys(s).length===l.length?O(s):ld})))).pipe(g(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ub(t,n).resolve),null}));var t,n,r,i,o,a,s,l}),Fm(function(){return n++}),Ly(1),Be(function(e){return n===r.length?O(t):ld}))):O(t)}))}),Fm({next:function(){return n=!0},complete:function(){var e;n||(e=new kk(t.id,f.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value."),p.next(e),t.resolve(!1))}}))}),Fm(function(e){e=new Sk(e.id,f.serializeUrl(e.extractedUrl),f.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);f.triggerEvent(e)}))}),H_(function(e){var t=e.targetSnapshot,n=e.extras,r=n.skipLocationChange;return f.hooks.afterPreactivation(t,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!r,replaceUrl:!!n.replaceUrl})}),g(function(e){var t=((e,t,n)=>(e=function i(t,e,n){var o,a,r;return n&&t.shouldReuseRoute(e.value,n.value.snapshot)?((r=n.value)._futureSnapshot=e.value,o=t,a=n,n=e.children.map(function(e){var t,n=bE(a.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(o.shouldReuseRoute(r.value.snapshot,e.value))return i(o,e,r)}}catch(e){n.e(e)}finally{n.f()}return i(o,e)}),new Nb(r,n)):(r=t.retrieve(e.value))?(n=r.route,function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(e,n),n):(n=new Bb(new id((r=e.value).url),new id(r.params),new id(r.queryParams),new id(r.fragment),new id(r.data),r.outlet,r.component,r),r=e.children.map(function(e){return i(t,e)}),new Nb(n,r))}(e,t._root,n?n._root:void 0),new Fb(e,t)))(f.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Fm(function(e){f.currentUrlTree=e.urlAfterRedirects,f.rawUrlTree=f.urlHandlingStrategy.merge(f.currentUrlTree,e.rawUrl),f.routerState=e.targetRouterState,"deferred"===f.urlUpdateStrategy&&(e.extras.skipLocationChange||f.setBrowserUrl(f.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),f.browserUrlTree=e.urlAfterRedirects)}),(n=f.rootContexts,i=f.routeReuseStrategy,o=function(e){return f.triggerEvent(e)},g(function(e){return new c_(i,e.targetRouterState,e.currentRouterState,o).activate(n),e})),Fm({next:function(){a=!0},complete:function(){a=!0}}),(t=function(){var e;a||s||(f.resetUrlToCurrentUrlTree(),e=new kk(r.id,f.serializeUrl(r.extractedUrl),"Navigation ID ".concat(r.id," is not equal to the current navigation id ").concat(f.navigationId)),p.next(e),r.resolve(!1)),f.currentNavigation=null},function(e){return e.lift(new Fg(t))}),Wp(function(t){if(s=!0,t&&t.ngNavigationCancelingError){var e=p_(t.url),n=(e||(f.navigated=!0,f.resetStateAndUrl(r.currentRouterState,r.currentUrlTree,r.rawUrl)),new kk(r.id,f.serializeUrl(r.extractedUrl),t.message));p.next(n),e?setTimeout(function(){var e=f.urlHandlingStrategy.merge(t.url,f.rawUrlTree);return f.scheduleNavigation(e,"imperative",null,{skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===f.urlUpdateStrategy},{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{f.resetStateAndUrl(r.currentRouterState,r.currentUrlTree,r.rawUrl);n=new bk(r.id,f.serializeUrl(r.extractedUrl),t);p.next(n);try{r.resolve(f.errorHandler(t))}catch(e){r.reject(e)}}return ld}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var i=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var t=i.parseUrl(e.url),n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){i.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){K_(e),this.config=e.map(G_),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var i,o,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,a=t.fragment,s=t.preserveQueryParams,l=t.queryParamsHandling,t=t.preserveFragment,n=(li()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),n||this.routerState.root),t=t?this.currentUrlTree.fragment:a,c=null;if(l)switch(l){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=s?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),a=n,l=this.currentUrlTree,s=c,n=t,0===(t=e).length?e_(l.root,l.root,l,s,n):(t="string"==typeof(t=t)[0]&&1===t.length&&"/"===t[0]?new n_(!0,0,t):(i=0,o=!1,t=t.reduce(function(n,e,t){if("object"==typeof e&&null!=e){var r;if(e.outlets)return r={},ib(e.outlets,function(e,t){r[t]="string"==typeof e?e.split("/"):e}),[].concat(_E(n),[{outlets:r}]);if(e.segmentPath)return[].concat(_E(n),[e.segmentPath])}return"string"==typeof e&&0===t?(e.split("/").forEach(function(e,t){0==t&&"."===e||(0==t&&""===e?o=!0:".."===e?i++:""!=e&&n.push(e))}),n):[].concat(_E(n),[e])},[]),new n_(o,i,t))).toRoot()?e_(l.root,new M([],{}),l,s,n):(t=((a=((e,t,n)=>{if(e.isAbsolute)return new t_(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return r=n.snapshot._urlSegment,new t_(r,r===t.root,0);for(var r=Xb(e.commands[0])?0:1,i=n.snapshot._urlSegment,o=n.snapshot._lastPathIndex+r,a=e.numberOfDoubleDots;o<a;){if(a-=o,!(i=i.parent))throw new Error("Invalid number of '../'");o=i.segments.length}return new t_(i,!1,o-a)})(t,l,a)).processChildren?a_:o_)(a.segmentGroup,a.index,t.commands),e_(a.segmentGroup,t,l,s,n))}},{key:"navigateByUrl",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},e=(li()&&this.isNgZoneEnabled&&!I.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?"),p_(e)?e:this.parseUrl(e)),e=this.urlHandlingStrategy.merge(e,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,t)}},{key:"navigate",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=e,r=0;r<n.length;r++){var i=n[r];if(null==i)throw new Error("The requested path contains ".concat(i," segment at index ").concat(r))}return this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(t){var n;try{n=this.urlSerializer.parse(t)}catch(e){n=this.malformedUriErrorHandler(e,this.urlSerializer,t)}return n}},{key:"isActive",value:function(e,t){return p_(e)||(e=this.parseUrl(e)),ab(this.currentUrlTree,e,t)}},{key:"removeEmptyProps",value:function(r){return Object.keys(r).reduce(function(e,t){var n=r[t];return null!=n&&(e[t]=n),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new yk(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s=this.getTransition();return s&&"imperative"!==t&&"imperative"===s.source&&s.rawUrl.toString()===e.toString()||s&&"hashchange"==t&&"popstate"===s.source&&s.rawUrl.toString()===e.toString()||s&&"popstate"==t&&"hashchange"===s.source&&s.rawUrl.toString()===e.toString()?Promise.resolve(!0):(s=i?(o=i.resolve,a=i.reject,i.promise):new Promise(function(e,t){o=e,a=t}),i=++this.navigationId,this.setTransition({id:i,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){e=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(e)||t?this.location.replaceState(e,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(e,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),(cw=gw).fac=function(e){return new(e||cw)(l(Go),l(pb),l(X_),l(ku),l(f),l(zc),l(oc),l(void 0))},cw.prov=r({token:cw,factory:cw.fac});var sw,lw,cw,uw=cw,hw=(CE(pw,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"onClick",value:function(){var e={skipLocationChange:vw(this.skipLocationChange),replaceUrl:vw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){li()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vw(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vw(this.preserveFragment)})}}]),(lw=pw).fac=function(e){return new(e||lw)(k(uw),k(Bb),xa("tabindex"),k(ls),k(os))},lw.dir=Pt({type:lw,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&w("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Tn]}),lw),dw=(CE(fw,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){return!!(0!==e||t||n||r)||"string"==typeof this.target&&"_self"!=this.target||(e={skipLocationChange:vw(this.skipLocationChange),replaceUrl:vw(this.replaceUrl),state:this.state},this.router.navigateByUrl(this.urlTree,e),!1)}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){li()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vw(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vw(this.preserveFragment)})}}]),(sw=fw).fac=function(e){return new(e||sw)(k(uw),k(Bb),k(uu))},sw.dir=Pt({type:sw,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&w("click",function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)}),2&e&&(Wa("href",t.href,di),wa("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Tn]}),sw);function fw(e,t,n){var r=this;wE(this,fw),this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new pe,this.subscription=e.events.subscribe(function(e){e instanceof yk&&r.updateTargetUrlAndHref()})}function pw(e,t,n,r,i){wE(this,pw),this.router=e,this.route=t,this.commands=[],this.onChanges=new pe,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}function gw(e,t,n,r,i,o,a,s){var l=this,e=(wE(this,gw),this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new pe,this.errorHandler=iw,this.malformedUriErrorHandler=ow,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:aw,afterPreactivation:aw},this.urlHandlingStrategy=new ew,this.routeReuseStrategy=new q_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Qt),this.console=i.get(Yl),i.get(I));this.isNgZoneEnabled=e instanceof I,this.resetConfig(s),this.currentUrlTree=new sb(new M([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Y_(o,a,function(e){return l.triggerEvent(new Ek(e))},function(e){return l.triggerEvent(new Tk(e))}),this.routerState=zb(this.currentUrlTree,this.rootComponentType),this.transitions=new id({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}function vw(e){return""===e||!!e}function mw(){wE(this,mw)}CE(jw,[{key:"ngAfterContentInit",value:function(){var t=this;Me([this.links.changes,this.linksWithHrefs.changes,O(null)]).pipe(Ke()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t=this,e=(null!=(e=this.linkInputChangesSubscription)&&e.unsubscribe(),[].concat(_E(this.links.toArray()),_E(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges}));this.linkInputChangesSubscription=Me(e).pipe(Ke()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null!=(e=this.linkInputChangesSubscription)&&e.unsubscribe()}},{key:"update",value:function(){var n=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=n.hasActiveLinks();n.isActive!==t&&(n.isActive=t,n.cdr.markForCheck(),n.classes.forEach(function(e){t?n.renderer.addClass(n.element.nativeElement,e):n.renderer.removeClass(n.element.nativeElement,e)}))})}},{key:"isLinkActive",value:function(t){var n=this;return function(e){return t.isActive(e.urlTree,n.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){e=Array.isArray(e)?e:e.split(" ");this.classes=e.filter(function(e){return!!e})}}]),(kw=jw).fac=function(e){return new(e||kw)(k(uw),k(os),k(ls),k($o),k(hw,8),k(dw,8))},kw.dir=Pt({type:kw,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){1&e&&(Ml(n,hw,!0),Ml(n,dw,!0)),2&e&&(Il(n=Nl())&&(t.links=n),Il(n=Nl()))&&(t.linksWithHrefs=n)},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Tn]});var yw,kw,bw,_w,Pb=kw,ww=(CE(Lw,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){var e;this.activated||(e=this.parentContexts.getContext(this.name))&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){var e;this.activated&&(e=this.component,this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e))}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var t=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,e=new Cw(e,n,this.location.injector);this.activated=this.location.createComponent(t,this.location.length,e),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(this.activated)return this.activated.instance;throw new Error("Outlet is not activated")}},{key:"activatedRoute",get:function(){if(this.activated)return this._activatedRoute;throw new Error("Outlet is not activated")}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),(yw=Lw).fac=function(e){return new(e||yw)(k(X_),k(Fs),k(is),xa("name"),k($o))},yw.dir=Pt({type:yw,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),yw),Cw=(CE(Nw,[{key:"get",value:function(e,t){return e===Bb?this.route:e===X_?this.childContexts:this.parent.get(e,t)}}]),Nw),xw=(CE(Mw,[{key:"preload",value:function(e,t){return O(null)}}]),Mw),Sw=(CE(Ow,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Qp(function(e){return e instanceof yk}),jg(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(Qt);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=bE(t);try{for(i.s();!(n=i.n()).done;){var o,a=n.value;a.loadChildren&&!a.canLoad&&a._loadedConfig?(o=a._loadedConfig,r.push(this.processRoutes(o.module,o.routes))):a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(e,a)):a.children&&r.push(this.processRoutes(e,a.children))}}catch(e){i.e(e)}finally{i.f()}return Me(r).pipe(Ke(),g(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return n.loader.load(e.injector,t).pipe(Be(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),(_w=Ow).fac=function(e){return new(e||_w)(l(uw),l(zc),l(oc),l(f),l(mw))},_w.prov=r({token:_w,factory:_w.fac}),_w),Ew=(CE(Iw,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof mk?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof yk&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Ok&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Ok(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),(bw=Iw).fac=function(e){return new(e||bw)(l(uw),l(Ku),l(void 0))},bw.prov=r({token:bw,factory:bw.fac}),bw),Tw=new c("ROUTER_CONFIGURATION"),Aw=new c("ROUTER_FORROOT_GUARD"),Pw=[ku,{provide:pb,useClass:zh},{provide:uw,useFactory:function(e,t,n,r,i,o,a){var s,l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{},c=8<arguments.length?arguments[8]:void 0,u=9<arguments.length?arguments[9]:void 0,e=new uw(null,e,t,n,r,i,o,nb(a));return c&&(e.urlHandlingStrategy=c),u&&(e.routeReuseStrategy=u),l.errorHandler&&(e.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(e.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing&&(s=Jc,e.events.subscribe(function(e){s.logGroup("Router Event: "+e.constructor.name),s.log(e.toString()),s.log(e),s.logGroupEnd()})),l.onSameUrlNavigation&&(e.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(e.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(e.relativeLinkResolution=l.relativeLinkResolution),e},deps:[pb,X_,ku,f,zc,oc,Q_,Tw,[J_,new dt],[function e(){wE(this,e)},new dt]]},X_,{provide:Bb,useFactory:function(e){return e.routerState.root},deps:[uw]},{provide:zc,useClass:qc},Sw,xw,(CE(Rw,[{key:"preload",value:function(e,t){return t().pipe(Wp(function(){return O(null)}))}}]),Rw),{provide:Tw,useValue:{enableTracing:!1}}];function Rw(){wE(this,Rw)}function Iw(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};wE(this,Iw),this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}function Ow(t,e,n,r,i){wE(this,Ow),this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Y_(e,n,function(e){return t.triggerEvent(new Ek(e))},function(e){return t.triggerEvent(new Tk(e))})}function Mw(){wE(this,Mw)}function Nw(e,t,n){wE(this,Nw),this.route=e,this.childContexts=t,this.parent=n}function Lw(e,t,n,r,i){wE(this,Lw),this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new R,this.deactivateEvents=new R,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}function jw(e,t,n,r,i,o){var a=this;wE(this,jw),this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(e){e instanceof yk&&a.update()})}function Dw(){return new mc("Router",uw)}CE(Vw,null,[{key:"forRoot",value:function(e,t){return{ngModule:Vw,providers:[Pw,Uw(e),{provide:Aw,useFactory:Hw,deps:[[uw,new dt,new pt]]},{provide:Tw,useValue:t||{}},{provide:uu,useFactory:Bw,deps:[Xc,[new ht(vu),new dt],Tw]},{provide:Ew,useFactory:zw,deps:[uw,Ku,Tw]},{provide:mw,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:xw},{provide:mc,multi:!0,useFactory:Dw},[Ww,{provide:Vl,multi:!0,useFactory:Kw,deps:[Ww]},{provide:t0,useFactory:Gw,deps:[Ww]},{provide:Ql,multi:!0,useExisting:t0}]]}}},{key:"forChild",value:function(e){return{ngModule:Vw,providers:[Uw(e)]}}}]),(Fw=Vw).mod=s({type:Fw}),Fw.inj=t({factory:function(e){return new(e||Fw)(l(Aw,8),l(uw,8))}});var Fw,zh=Fw;function Vw(e,t){wE(this,Vw)}function zw(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ew(e,t,n)}function Bw(e,t){return new((2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).useHash?yu:mu)(e,t)}function Hw(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Uw(e){return[{provide:ha,multi:!0,useValue:e},{provide:Q_,multi:!0,useValue:e}]}CE($w,[{key:"appInitializer",value:function(){var i=this;return this.injector.get(nu,Promise.resolve(null)).then(function(){var t=null,e=new Promise(function(e){return t=e}),n=i.injector.get(uw),r=i.injector.get(Tw);if(i.isLegacyDisabled(r)||i.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));n.hooks.afterPreactivation=function(){return i.initNavigation?O(null):(i.initNavigation=!0,t(!0),i.resultOfPreactivationDone)},n.initialNavigation()}return e})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Tw),n=this.injector.get(Sw),r=this.injector.get(Ew),i=this.injector.get(uw),o=this.injector.get(Dc);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),(qw=$w).fac=function(e){return new(e||qw)(l(f))},qw.prov=r({token:qw,factory:qw.fac});var qw,Ww=qw;function $w(e){wE(this,$w),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new pe}function Kw(e){return e.appInitializer.bind(e)}function Gw(e){return e.bootstrapListener.bind(e)}var Zw,Jw,Qw,Yw,Xw,e0,t0=new c("Router Initializer"),qc=(CE(a0,[{key:"intercept",value:function(e,t){var n=this,r=e;return e.url.startsWith(this.configService.apiUrl)?((r=this.authInterceptor(r))instanceof Dv&&(r=this.snakeCaseRequestInterceptor(r)),this.response(t,r).pipe(Wp(function(e){return 401===e.status&&n.router.navigateByUrl("/login"),md(e)}))):this.response(t,r)}},{key:"response",value:function(e,t){var n=this;return e.handle(t).pipe(g(function(e){return e instanceof zv?n.camelCaseResponseInterceptor(e):e}))}},{key:"snakeCaseRequestInterceptor",value:function(e){var n,r=e;return r.body&&(e=Cy.objKeysTransformer(r.body,my),r=r.clone({body:e})),r.params&&(n=new Av,r.params.keys().forEach(function(e){var t=r.params.get(e);t&&(n=n.append(my(e),t))}),r=r.clone({params:n})),r}},{key:"camelCaseResponseInterceptor",value:function(e){var t=Cy.objKeysTransformer(e.body,by);return e.clone({body:t})}},{key:"authInterceptor",value:function(e){var t=this.localStorageService.get("token");return t?e.clone({setHeaders:{Authorization:"Bearer "+t}}):e}}]),(e0=a0).fac=function(e){return new(e||e0)(l(xy),l(uw),l(km))},e0.prov=r({token:e0,factory:e0.fac}),e0),n0=((Xw=function e(){wE(this,e)}).mod=s({type:Xw}),Xw.inj=t({factory:function(e){return new(e||Xw)},providers:[xy],imports:[[]]}),Xw),qc=((Yw=function e(){wE(this,e)}).mod=s({type:Yw}),Yw.inj=t({factory:function(e){return new(e||Yw)},providers:[{provide:lm,useClass:qc,multi:!0}],imports:[[n0]]}),Yw),r0=(CE(o0,[{key:"search",value:function(e,t){return this.http.get(this.base,{params:Cy.buildQueryParams({project:e,text:t})})}},{key:"base",get:function(){return this.config.apiUrl+"/search"}}]),(Qw=o0).fac=function(e){return new(e||Qw)(l(am),l(km))},Qw.prov=r({token:Qw,factory:Qw.fac}),Qw),n0=((Jw=function e(){wE(this,e)}).mod=s({type:Jw}),Jw.inj=t({factory:function(e){return new(e||Jw)},providers:[r0],imports:[[mm,qc]]}),Jw),qc=((Zw=function e(){wE(this,e)}).mod=s({type:Zw}),Zw.inj=t({factory:function(e){return new(e||Zw)},providers:[],imports:[[ec,gm,uy,n0]]}),Zw),gm=j("M55E"),i0=j.n(gm);function o0(e,t){wE(this,o0),this.http=e,this.config=t}function a0(e,t,n){wE(this,a0),this.localStorageService=e,this.router=t,this.configService=n}function s0(e,t){return Array(t+1).join(e)}var l0=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function c0(e){return-1!==l0.indexOf(e.nodeName.toLowerCase())}var u0=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function h0(e){return-1!==u0.indexOf(e.nodeName.toLowerCase())}var d0=u0.join(),f0={};function p0(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function g0(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(((e,t,n)=>{var r=e.filter;if("string"==typeof r)return r===t.nodeName.toLowerCase();if(Array.isArray(r))return-1<r.indexOf(t.nodeName.toLowerCase());if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");return!!r.call(e,t,n)})(i,t,n))return i}}function v0(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function m0(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}f0.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},f0.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},f0.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){t=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&t<3?"\n\n"+e+"\n"+s0(1===t?"=":"-",e.length)+"\n\n":"\n\n"+s0("#",t)+" "+e+"\n\n"}},f0.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> ")+"\n\n"}},f0.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},f0.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r,n=n.bulletListMarker+"   ",i=t.parentNode;return"OL"===i.nodeName&&(r=i.getAttribute("start"),i=Array.prototype.indexOf.call(i.children,t),n=(r?Number(r)+i:i+1)+".  "),n+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},f0.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},f0.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){for(var r,i=((t.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,t=n.fence.charAt(0),a=3,s=new RegExp("^"+t+"{3,}","gm");r=s.exec(o);)r[0].length>=a&&(a=r[0].length+1);n=s0(t,a);return"\n\n"+n+i+"\n"+o.replace(/\n$/,"")+"\n"+n+"\n\n"}},f0.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},f0.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){return"["+e+"]("+t.getAttribute("href")+(t.title?' "'+t.title+'"':"")+")"}},f0.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=t.title?' "'+t.title+'"':"";switch(n.linkReferenceStyle){case"collapsed":a="["+e+"][]",s="["+e+"]: "+r+i;break;case"shortcut":a="["+e+"]",s="["+e+"]: "+r+i;break;default:var o=this.references.length+1,a="["+e+"]["+o+"]",s="["+o+"]: "+r+i}return this.references.push(s),a},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},f0.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},f0.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},f0.code={filter:function(e){return"CODE"===e.nodeName&&!("PRE"===e.parentNode.nodeName&&!e.previousSibling&&!e.nextSibling)},replacement:function(e){if(!e.trim())return"";var t="`",n="",r="",i=e.match(/`+/gm);if(i)for(/^`/.test(e)&&(n=" "),/`$/.test(e)&&(r=" ");-1!==i.indexOf(t);)t+="`";return t+n+e+r+t}},f0.image={filter:"img",replacement:function(e,t){var n=t.alt||"",r=t.getAttribute("src")||"",t=t.title||"";return r?"!["+n+"]("+r+(t?' "'+t+'"':"")+")":""}},p0.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:g0(this.array,e,this.options)||g0(this._keep,e,this.options)||g0(this._remove,e,this.options)||this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var y0,k0,b0="undefined"!=typeof window?window:{},_0=(()=>{var e=b0.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t})()?b0.DOMParser:(uy=function(){},y0=j(1).JSDOM,uy.prototype.parseFromString=function(e){return new y0(e).window.document},uy);function w0(e){var t={element:e="string"==typeof e?(k0=k0||new _0).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):e.cloneNode(!0),isBlock:c0,isVoid:h0},n=t.element,r=t.isBlock,i=t.isVoid,o=t.isPre||function(e){return"PRE"===e.nodeName};if(n.firstChild&&!o(n)){for(var a=null,s=!1,l=m0(u=null,n,o);l!==n;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ");if(!(c=a&&!/ $/.test(a.data)||s||" "!==c[0]?c:c.substr(1))){l=v0(l);continue}l.data=c,a=l}else{if(1!==l.nodeType){l=v0(l);continue}r(l)||"BR"===l.nodeName?(a&&(a.data=a.data.replace(/ $/,"")),a=null,s=!1):i(l)&&(s=!(a=null))}var c=m0(u,l,o),u=l,l=c}a&&(a.data=a.data.replace(/ $/,""),a.data||v0(a))}return e}function C0(e){return e.isBlock=c0(e),e.isCode="code"===e.nodeName.toLowerCase()||e.parentNode.isCode,e.isBlank=(a=e,-1===["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(a.nodeName)&&/^\s*$/i.test(a.textContent)&&!h0(a)&&!((a=a).querySelector&&a.querySelector(d0))),e.flankingWhitespace=(o=a="",(t=e).isBlock||(n=/^\s/.test(t.textContent),r=/\s$/.test(t.textContent),i=t.isBlank&&n&&r,n&&!x0("left",t)&&(a=" "),i)||!r||x0("right",t)||(o=" "),{leading:a,trailing:o}),e;var t,n,r,i,o,a}function x0(e,t){var n,r,e="left"===e?(n=t.previousSibling,/ $/):(n=t.nextSibling,/^ /);return n&&(3===n.nodeType?r=e.test(n.nodeValue):1!==n.nodeType||c0(n)||(r=e.test(n.textContent))),r}var S0=Array.prototype.reduce,E0=/^\n*/,T0=/\n*$/,A0=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function P0(e){if(!(this instanceof P0))return new P0(e);this.options=function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}({},{rules:f0,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}},e),this.rules=new p0(this.options)}function R0(e){var r=this;return S0.call(e.childNodes,function(e,t){var n="";return 3===(t=new C0(t)).nodeType?n=t.isCode?t.nodeValue:r.escape(t.nodeValue):1===t.nodeType&&(n=function(e){var t=this.rules.forNode(e),n=R0.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}.call(r,t)),I0(e,n)},"")}function I0(e,t){n=t;var n=(n=(n=[e.match(T0)[0],n.match(E0)[0]].sort())[n.length-1]).length<2?n:"\n\n";return(e=e.replace(T0,""))+n+t.replace(E0,"")}P0.prototype={turndown:function(e){if(null==e||"string"!=typeof e&&(!e.nodeType||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType))throw new TypeError(e+" is not a string, or an element/document/fragment node.");return""===e?"":(e=R0.call(this,new w0(e)),function(t){var n=this;return this.rules.forEach(function(e){"function"==typeof e.append&&(t=I0(t,e.append(n.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}.call(this,e))},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return A0.reduce(function(e,t){return e.replace(t[0],t[1])},e)}};function O0(e){e.addRule("taskListItems",{filter:function(e){return"checkbox"===e.type},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}})}var M0=P0,N0=Array.prototype.indexOf,L0=Array.prototype.every,j0=((n0={}).tableCell={filter:["th","td"],replacement:F0},n0.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(D0(t))for(var i=0;i<t.childNodes.length;i++){var o="---",a=(t.childNodes[i].getAttribute("align")||"").toLowerCase();n+=F0(o=a?r[a]||o:o,t.childNodes[i])}return"\n"+e+(n?"\n"+n:"")}},n0.table={filter:function(e){return"TABLE"===e.nodeName&&D0(e.rows[0])},replacement:function(e){return"\n\n"+e.replace("\n\n","\n")+"\n\n"}},n0.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}},n0);function D0(e){var t,n=e.parentNode;return"THEAD"===n.nodeName||n.firstChild===e&&("TABLE"===n.nodeName||(t=n.previousSibling,"TBODY"===n.nodeName&&(!t||"THEAD"===t.nodeName&&/^\s*$/i.test(t.textContent))))&&L0.call(e.childNodes,function(e){return"TH"===e.nodeName})}function F0(e,t){var n;return t.parentNode?(n=" ",(n=0===N0.call(t.parentNode.childNodes,t)?"| ":n)+(e=(t=e.trim().replace(/^\s+|\s+$/g,"")).startsWith("![")?t:e)+" |"):""}function V0(e){for(var t in e.keep(function(e){return"TABLE"===e.nodeName&&!D0(e.rows[0])}),j0)e.addRule(t,j0[t])}function z0(e){e.addRule("mention",{filter:function(e){return"A"===e.tagName&&!(null==(e=e.getAttribute("href"))||!e.startsWith("profile/"))},replacement:function(e,t){t=null==(t=t.getAttribute("href"))?void 0:t.split("profile/")[1];return t?"@"+t:""}})}function B0(e){e.addRule("strikethrough",{filter:["del","s"],replacement:function(e){return"~~"+e+"~~"}})}CE(r1,[{key:"setUp",value:function(e){var r,t,i,o;this.showdownConverter=new i0.a.Converter({strikethrough:!0,tables:!0,tasklists:!0,literalMidWordUnderscores:!0,simpleLineBreaks:!0,emoji:!0,openLinksInNewWindow:!0,backslashEscapesHTMLTags:!0,ellipsis:!1,simplifiedAutoLink:!0,extensions:[[{type:"lang",regex:/(^|\s)(\\)?(#([a-z\d]+(?:[a-z\d._-]+?[a-z\d]+)*))/gi,replace:function(e,t,n){var r;return"\\"===t?e:(t=e.indexOf("#"),r=e.slice(0,t),e=e.slice(t).replace("&nbsp;","").replace("#","").replace(/ /g,""),"".concat(r,"[#").concat(e,"](project/").concat(o,"/t/").concat(e,")"))}},{type:"lang",regex:/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d._-]+?[a-z\d]+)*))/gi,replace:function(e,t,n){var r;return"\\"===t?e:(t=e.indexOf("@"),r=e.slice(0,t),e=e.slice(t).replace("&nbsp;","").replace("@","").replace(/ /g,""),"".concat(r,"[@").concat(e,"](profile/").concat(e,")"))}},{type:"output",filter:function(e){return(e=e.replace(new RegExp('href="project/',"gi"),'class="mention" data-mention="true" href="project/')).replace(new RegExp('href="profile/',"gi"),'class="mention" data-mention="true" href="profile/')}}],(i=o=e,[{type:"lang",regex:/\[\[(.*?)\]\]/g,replace:function(e,t){var t=kE(t.split("|"),2),n=t[0];return"[".concat(t[1]||n,"](project/").concat(i,"/wiki/").concat(n,")")}}]),[{type:"output",regex:"<p>(<a.*?><img.*?</a>)</p>",replace:function(e,t){return t}}]]}),this.turndownService=new M0({codeBlockStyle:"fenced"}),this.turndownService.use([V0,O0,z0,function(e){e.addRule("references",{filter:function(e){return"A"===e.tagName&&!(null==(e=e.getAttribute("href"))||!e.startsWith("project/".concat(t,"/t/")))},replacement:function(e,t){t=null==(t=t.getAttribute("href"))?void 0:t.split("/t/")[1];return t?"#"+t:""}})},(r=t=e,function(e){e.addRule("references",{filter:function(e){return"A"===e.tagName&&!(null==(e=e.getAttribute("href"))||!e.startsWith("project/".concat(r,"/wiki/")))},replacement:function(e,t){var n=t.getAttribute("href");if(n)return t=t.innerHTML,(n=n.replace("project/".concat(r,"/wiki/"),""))===t?"[[".concat(n,"]]"):"[[".concat(n,"|").concat(t,"]]");throw new Error("Wiki link must have href")}})}),B0])}},{key:"toHtml",value:function(e){return this.showdownConverter.makeHtml(e)}},{key:"toMarkdown",value:function(e){return this.turndownService.turndown(e)}},{key:"isReady",value:function(){return this.turndownService&&this.showdownConverter}}]),(H0=r1).fac=function(e){return new(e||H0)},H0.prov=r({token:H0,factory:H0.fac});var H0,U0,q0,W0=H0,gm=j("2u/s"),$0=j.n(gm),K0=j("7Km7"),G0=j("USe2"),Z0=(CE(n1,[{key:"setUploadFunction",value:function(e){this.uploadFunction=e}},{key:"upload",value:function(){var n=this;return this.loader.file.then(function(t){return new Promise(function(e){n.uploadFunction(t,e)})})}},{key:"abort",value:function(){}}]),n1),J0=["el"],Q0=(CE(t1,[{key:"getTextPartLanguages",value:function(){var t=this;return[{title:"",languageCode:"ar"},{title:"Deutsch",languageCode:"de"},{title:"English",languageCode:"en"},{title:"Espaol",languageCode:"es"},{title:"Franais",languageCode:"fr"},{title:"",languageCode:"ja"},{title:"",languageCode:"ko"},{title:"Portugus",languageCode:"pt"},{title:"",languageCode:"ru"},{title:"",languageCode:"zh"}].filter(function(e){return e.languageCode!==t.lan})}},{key:"getLegacyLoadTranslation",value:function(){var t=this;return new Promise(function(e){window.ljs.load("/".concat(window.TAIGA_VERSION,"/ckeditor-translations/").concat(t.lan,".js"),e)})}},{key:"ngAfterViewInit",value:function(){var e=this;"en"!==this.lan?this.getLegacyLoadTranslation().then(function(){e.initEditor()}).catch(function(){console.error("Error trying to load "+e.lan),e.lan="en",e.initEditor()}):this.initEditor()}},{key:"initEditor",value:function(){var r=this,t=this.uploadFunction;$0.a.create(this.el.nativeElement,{placeholder:this.placeholder,language:{content:this.lan,textPartLanguage:this.getTextPartLanguages()},codeBlock:{languages:_E(G0)},extraPlugins:[function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new Z0(e,t)}}.bind(this)],link:{decorators:{newPage:{mode:"automatic",callback:function(){return!0},attributes:{target:"_blank"}}}},mention:{feeds:[{marker:"@",feed:this.feedUsers,itemRenderer:this.customItemRenderer.bind(this)},{marker:"#",feed:this.feedReferences,minimumCharacters:1,itemRenderer:this.customItemRenderer.bind(this)},{marker:":",feed:this.getEmojis,itemRenderer:this.emojisRenderer}]},typing:{transformations:{include:["symbols","mathematical","quotes"]}}}).then(function(e){r.editor=e,r.editor.setData(r.html),e.ui.focusTracker.on("change:isFocused",function(e,t,n){r.focusChanged.emit(n)}),e.model.document.on("change:data",function(){r.html=r.getHtml(),r.changed.emit(r.html)}),r.hideTableHederRowSwitch()}).catch(function(e){console.error(e)})}},{key:"customItemRenderer",value:function(e){var t=document.createElement("span");return t.classList.add("custom-item"),t.id="mention-list-item-id-"+e.id,t.textContent=""+(e.listRenderText||e.id),t}},{key:"hideTableHederRowSwitch",value:function(){var r=this,i=this.editor.plugins.get("WidgetToolbarRepository");this.editor.plugins.get("ContextualBalloon").on("change:visibleView",function(e,t,n){i._isToolbarVisible(i._toolbarDefinitions.get("tableContent"))&&n&&(r.editor.model.document.selection.focus.getAncestors().find(function(e){return"table"===e.name}).getAttribute("headingRows")||r.editor.execute("setTableRowHeader"),Array.from(document.querySelectorAll(".ck-dropdown .ck-list")).forEach(function(e){e=e.querySelectorAll("li");e.length&&(e[0].style.display="none",e[1].style.display="none")}))})}},{key:"emojisRenderer",value:function(e){var t=document.createElement("span");return t.textContent="".concat(e.text," ").concat(e.id),t}},{key:"getEmojis",value:function(t){return new Promise(function(e){e(Object.entries(K0).filter(function(e){return kE(e,1)[0].includes(t)}).map(function(e){var e=kE(e,2),t=e[0],e=e[1];return{id:":".concat(t,":"),text:e}}).slice(0,10))})}},{key:"getHtml",value:function(){return this.editor.getData()}},{key:"setHtmlContent",value:function(e){this.html=e,this.editor&&this.editor.setData(this.html)}},{key:"content",set:function(e){this.setHtmlContent(e)}}]),(U0=t1).fac=function(e){return new(e||U0)},U0.cmp=un({type:U0,selectors:[["tg-html-editor"]],viewQuery:function(e,t){1&e&&Ol(J0,!0,os),2&e&&Il(e=Nl())&&(t.el=e.first)},inputs:{feedUsers:"feedUsers",feedReferences:"feedReferences",lan:"lan",placeholder:"placeholder",uploadFunction:"uploadFunction",content:"content"},outputs:{focusChanged:"focusChanged",changed:"changed"},decls:2,vars:0,consts:[["el",""]],template:function(e,t){1&e&&_(0,"div",null,0)},encapsulation:2,changeDetection:0}),U0),Y0=["textarea"],X0=(CE(e1,[{key:"getMarkdown",value:function(){return this.textarea.nativeElement.innerText}},{key:"ngAfterViewInit",value:function(){this.setMarkdownContent(this.markdown)}},{key:"inputChange",value:function(){this.changed.emit(this.getMarkdown())}},{key:"setMarkdownContent",value:function(e){this.markdown=e,this.textarea&&(this.textarea.nativeElement.innerText=e)}},{key:"empty",get:function(){return!!this.markdown.length}},{key:"content",set:function(e){this.setMarkdownContent(e)}}]),(q0=e1).fac=function(e){return new(e||q0)},q0.cmp=un({type:q0,selectors:[["tg-markdown-editor"]],viewQuery:function(e,t){1&e&&Ol(Y0,!0,os),2&e&&Il(e=Nl())&&(t.textarea=e.first)},hostVars:2,hostBindings:function(e,t){2&e&&Fa("empty",t.empty)},inputs:{content:"content"},outputs:{changed:"changed",focusChanged:"focusChanged"},decls:2,vars:0,consts:[["contentEditable","",1,"markdown",3,"input","focus","blur"],["textarea",""]],template:function(e,t){1&e&&(m(0,"div",0,1),w("input",function(){return t.inputChange()})("focus",function(){return t.focusChanged.emit(!0)})("blur",function(){return t.focusChanged.emit(!1)}),y())},styles:[""],changeDetection:0}),q0);function e1(){wE(this,e1),this.markdown="",this.changed=new R,this.focusChanged=new R}function t1(){wE(this,t1),this.lan="en",this.placeholder="",this.focusChanged=new R,this.changed=new R,this.html=""}function n1(e,t){wE(this,n1),this.loader=e,this.uploadFunction=t}function r1(){wE(this,r1)}function i1(e,t){var n;1&e&&(n=x(),m(0,"tg-html-editor",3),w("changed",function(e){return h(n),E().changed.emit(e)})("focusChanged",function(e){return h(n),E().focusChanged.emit(e)}),y()),2&e&&v("content",(e=E()).contentHtml)("lan",e.lan)("placeholder",e.placeholder)("feedUsers",e.feedUsers.bind(e))("feedReferences",e.feedReferences.bind(e))("uploadFunction",e.uploadFunction)}function o1(e,t){var n;1&e&&(n=x(),m(0,"tg-markdown-editor",4),w("changed",function(e){return h(n),E().changed.emit(e)})("focusChanged",function(e){return h(n),E().focusChanged.emit(e)}),y()),2&e&&v("content",E().contentMarkdown)}function a1(e,t){var n;1&e&&(n=x(),m(0,"button",5),w("click",function(){return h(n),E().toMarkdown()}),T(1,"Markdown"),y())}function s1(e,t){var n;1&e&&(n=x(),m(0,"button",5),w("click",function(){return h(n),E().toHtml()}),T(1,"Html"),y())}CE(c1,[{key:"toMarkdown",value:function(){this._mode="markdown";var e=this.htmlEditor.getHtml();this.contentMarkdown=this.dataConversionService.toMarkdown(e),this.modeChanged.emit(this._mode)}},{key:"toHtml",value:function(){this._mode="html";var e=this.markdownEditor.getMarkdown();this.contentHtml=this.dataConversionService.toHtml(e),this.modeChanged.emit(this._mode)}},{key:"feedUsers",value:function(t){return Promise.resolve(this.userMentions.filter(function(e){return e.listRenderText.toLowerCase().includes(t.toLowerCase())}))}},{key:"feedReferences",value:function(e){var n=this;return new Promise(function(t){n.searchApiService.search(n.projectId,e).pipe(g(function(e){var t;return e.count&&e.count!==e.wikipages.length?[].concat(_E((t=function(e){return e.map(function(e){return{id:"#"+e.ref,link:"project/".concat(n.projectSlug,"/t/").concat(e.ref),listRenderText:"#".concat(e.ref," - ").concat(e.subject)}})})(e.userstories)),_E(t(e.issues)),_E(t(e.tasks))).slice(0,10):[]})).subscribe(function(e){t(e)})})}},{key:"markdown",set:function(e){this.dataConversionService.isReady()||this.dataConversionService.setUp(this.projectSlug),this.contentMarkdown=e,this.contentHtml=this.dataConversionService.toHtml(e),this.htmlEditor&&(this.htmlEditor.content=this.contentHtml),this.cd.detectChanges()}},{key:"members",set:function(e){this.userMentions=e.map(function(e){return{id:"@"+e.username,link:"profile/"+e.username,listRenderText:"@".concat(e.username," - ").concat(e.fullNameDisplay)}})}},{key:"mode",set:function(e){this._mode!==e&&(this._mode=e,this.cd.detectChanges())},get:function(){return this._mode}}]),(l1=c1).fac=function(e){return new(e||l1)(k(W0),k(r0),k($o))},l1.cmp=un({type:l1,selectors:[["tg-text-editor"]],viewQuery:function(e,t){1&e&&(Ol(Q0,!0),Ol(X0,!0)),2&e&&(Il(e=Nl())&&(t.htmlEditor=e.first),Il(e=Nl()))&&(t.markdownEditor=e.first)},inputs:{projectSlug:"projectSlug",projectId:"projectId",placeholder:"placeholder",lan:"lan",uploadFunction:"uploadFunction",markdown:"markdown",members:"members",mode:"mode"},outputs:{focusChanged:"focusChanged",changed:"changed",modeChanged:"modeChanged"},features:[function(r,e){var i=1<arguments.length&&void 0!==e?e:[];return function(e){e.providersResolver=function(e,t){var n;e=e,t=t?t(r):r,(n=S()).firstCreatePass&&(e=Cn(e),Ga(i,n.data,n.blueprint,e,!0),Ga(t,n.data,n.blueprint,e,!1))}}}([W0])],decls:4,vars:4,consts:[[3,"content","lan","placeholder","feedUsers","feedReferences","uploadFunction","changed","focusChanged",4,"ngIf"],[3,"content","changed","focusChanged",4,"ngIf"],[3,"click",4,"ngIf"],[3,"content","lan","placeholder","feedUsers","feedReferences","uploadFunction","changed","focusChanged"],[3,"content","changed","focusChanged"],[3,"click"]],template:function(e,t){1&e&&(p(0,i1,1,6,"tg-html-editor",0),p(1,o1,1,1,"tg-markdown-editor",1),p(2,a1,2,0,"button",2),p(3,s1,2,0,"button",2)),2&e&&(v("ngIf","html"===t.mode),d(1),v("ngIf","markdown"===t.mode),d(1),v("ngIf","html"===t.mode),d(1),v("ngIf","markdown"===t.mode))},directives:[e,Q0,X0],styles:["hr[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-black)}"],changeDetection:0});var l1,uy=l1;function c1(e,t,n){wE(this,c1),this.dataConversionService=e,this.searchApiService=t,this.cd=n,this.lan="en",this.focusChanged=new R,this.changed=new R,this.modeChanged=new R,this._mode="html",this.contentHtml="",this.contentMarkdown=""}function u1(e){return e&&(e instanceof u||"function"==typeof e.lift&&"function"==typeof e.subscribe)}function h1(l,c){return new u(function(r){var i=l.length;if(0!==i)for(var o=new Array(i),a=0,s=0,e=0;e<i;e++)(t=>{var e=Me(l[t]),n=!1;r.add(e.subscribe({next:function(e){n||(n=!0,s++),o[t]=e},error:function(e){return r.error(e)},complete:function(){++a!==i&&n||(s===i&&r.next(c?c.reduce(function(e,t,n){return e[t]=o[n],e},{}):o),r.complete())}}))})(e);else r.complete()})}function d1(e,t,n){var h=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n};return function(e){return e.lift((e=h.bufferSize,i=void 0===e?Number.POSITIVE_INFINITY:e,e=h.windowTime,o=void 0===e?Number.POSITIVE_INFINITY:e,a=h.refCount,s=h.scheduler,l=0,u=c=!1,function(e){var t;l++,!n||c?(c=!1,n=new Wm(i,o,s),t=n.subscribe(this),r=e.subscribe({next:function(e){n.next(e)},error:function(e){c=!0,n.error(e)},complete:function(){u=!0,r=void 0,n.complete()}})):t=n.subscribe(this),this.add(function(){l--,t.unsubscribe(),r&&!u&&a&&0===l&&(r.unsubscribe(),n=r=void 0)})}));var n,r,i,o,a,s,l,c,u}}function f1(){wE(this,f1)}function p1(){wE(this,p1)}xE(w1,f1),m1=SE(w1),CE(w1,[{key:"getTranslation",value:function(e){return O({})}}]),(g1=w1).fac=function(e){return k1(e||g1)},g1.prov=r({token:g1,factory:g1.fac});var g1,v1,m1,y1=g1,k1=Jr(y1),b1=(CE(_1,[{key:"handle",value:function(e){return e.key}}]),(v1=_1).fac=function(e){return new(e||v1)},v1.prov=r({token:v1,factory:v1.fac}),v1);function _1(){wE(this,_1)}function w1(){return wE(this,w1),m1.apply(this,arguments)}function C1(e,t){if(e===t)return 1;if(null!==e&&null!==t){if(e!=e&&t!=t)return 1;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!Array.isArray(e)){if(Array.isArray(t))return;for(r in i=Object.create(null),e){if(!C1(e[r],t[r]))return;i[r]=!0}for(r in t)if(!(r in i)&&void 0!==t[r])return;return 1}if(!Array.isArray(t))return;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!C1(e[r],t[r]))return;return 1}}}}function x1(e){return null!=e}function S1(e){return e&&"object"==typeof e&&!Array.isArray(e)}function E1(){wE(this,E1)}function T1(){wE(this,T1)}function A1(){wE(this,A1),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new R,this.onLangChange=new R,this.onDefaultLangChange=new R}function P1(){wE(this,P1)}xE(Q1,E1),D1=SE(Q1),CE(Q1,[{key:"interpolate",value:function(e,t){return"string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e}},{key:"getValue",value:function(e,t){var n="string"==typeof t?t.split("."):[t];for(t="";t+=n.shift(),!x1(e)||!x1(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t=""),n.length;);return e}},{key:"interpolateFunction",value:function(e,t){return e(t)}},{key:"interpolateString",value:function(e,n){var r=this;return n?e.replace(this.templateMatcher,function(e,t){t=r.getValue(n,t);return x1(t)?t:e}):e}}]),(R1=Q1).fac=function(e){return V1(e||R1)},R1.prov=r({token:R1,factory:R1.fac});var R1,I1,O1,M1,N1,L1,j1,D1,F1=R1,V1=Jr(F1),z1=(xE(J1,T1),j1=SE(J1),CE(J1,[{key:"compile",value:function(e,t){return e}},{key:"compileTranslations",value:function(e,t){return e}}]),(I1=J1).fac=function(e){return B1(e||I1)},I1.prov=r({token:I1,factory:I1.fac}),I1),B1=Jr(z1),H1=new c("USE_STORE"),U1=new c("USE_DEFAULT_LANG"),q1=new c("DEFAULT_LANGUAGE"),W1=new c("USE_EXTEND"),$1=(CE(Z1,[{key:"setDefaultLang",value:function(t){var e,n=this;t!==this.defaultLang&&(void 0!==(e=this.retrieveTranslations(t))?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(Rg(1)).subscribe(function(e){n.changeDefaultLang(t)})):this.changeDefaultLang(t))}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(t){var e,n=this;return t===this.currentLang?O(this.translations[t]):void 0!==(e=this.retrieveTranslations(t))?(this.currentLang||(this.currentLang=t),e.pipe(Rg(1)).subscribe(function(e){n.changeLang(t)}),e):(this.changeLang(t),O(this.translations[t]))}},{key:"retrieveTranslations",value:function(e){var t;return void 0!==this.translations[e]&&!this.extend||(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}},{key:"getTranslation",value:function(t){var n=this,e=(this.pending=!0,this.currentLoader.getTranslation(t).pipe(d1(1),Rg(1)));return this.loadingTranslations=e.pipe(g(function(e){return n.compiler.compileTranslations(e,t)}),d1(1),Rg(1)),this.loadingTranslations.subscribe({next:function(e){n.translations[t]=n.extend&&n.translations[t]?Object.assign(Object.assign({},e),n.translations[t]):e,n.updateLangs(),n.pending=!1},error:function(e){n.pending=!1}}),e}},{key:"setTranslation",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t=this.compiler.compileTranslations(t,e),this.translations[e]=(n||this.extend)&&this.translations[e]?function t(n,r){var i=Object.assign({},n);return S1(n)&&S1(r)&&Object.keys(r).forEach(function(e){S1(r[e])&&e in n?i[e]=t(n[e],r[e]):Object.assign(i,mE({},e,r[e]))}),i}(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(e){var t=this;e.forEach(function(e){-1===t.langs.indexOf(e)&&t.langs.push(e)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(e,r,t){var n,i;if(r instanceof Array){var o,a={},s=!1,l=bE(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;a[c]=this.getParsedResult(e,c,t),u1(a[c])&&(s=!0)}}catch(e){l.e(e)}finally{l.f()}return s?function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(1===n.length){var i,o=n[0];if(U(o))return h1(o,null);if(q(o)&&Object.getPrototypeOf(o)===Object.prototype)return h1((i=Object.keys(o)).map(function(e){return o[e]}),i)}return"function"==typeof n[n.length-1]?(t=n.pop(),h1(n=1===n.length&&U(n[0])?n[0]:n,null).pipe(g(function(e){return t.apply(void 0,_E(e))}))):h1(n,null)}(r.map(function(e){return u1(a[e])?a[e]:O(a[e])})).pipe(g(function(e){var n={};return e.forEach(function(e,t){n[r[t]]=e}),n})):a}return void 0===(n=void 0===(n=e?this.parser.interpolate(this.parser.getValue(e,r),t):n)&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang?this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),t):n)&&(i={key:r,translateService:this},void 0!==t&&(i.interpolateParams=t),n=this.missingTranslationHandler.handle(i)),void 0!==n?n:r}},{key:"get",value:function(t,n){var e,r=this;if(x1(t)&&t.length)return this.pending?this.loadingTranslations.pipe(jg(function(e){return u1(e=r.getParsedResult(e,t,n))?e:O(e)})):u1(e=this.getParsedResult(this.translations[this.currentLang],t,n))?e:O(e);throw new Error('Parameter "key" required')}},{key:"getStreamOnTranslationChange",value:function(t,n){var r=this;if(x1(t)&&t.length)return ak(Np(function(){return r.get(t,n)}),this.onTranslationChange.pipe(Im(function(e){e=r.getParsedResult(e.translations,t,n);return"function"==typeof e.subscribe?e:O(e)})));throw new Error('Parameter "key" required')}},{key:"stream",value:function(t,n){var r=this;if(x1(t)&&t.length)return ak(Np(function(){return r.get(t,n)}),this.onLangChange.pipe(Im(function(e){e=r.getParsedResult(e.translations,t,n);return u1(e)?e:O(e)})));throw new Error('Parameter "key" required')}},{key:"instant",value:function(n,e){var r;if(x1(n)&&n.length)return u1(e=this.getParsedResult(this.translations[this.currentLang],n,e))?n instanceof Array?(r={},n.forEach(function(e,t){r[n[t]]=n[t]}),r):n:e;throw new Error('Parameter "key" required')}},{key:"set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][e]=this.compiler.compile(t,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}},{key:"changeDefaultLang",value:function(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}},{key:"reloadLang",value:function(e){return this.resetLang(e),this.getTranslation(e)}},{key:"resetLang",value:function(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}},{key:"getBrowserLang",value:function(){var e;return"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==(e=(e=window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?-1!==(e=-1!==e.indexOf("-")?e.split("-")[0]:e).indexOf("_")?e.split("_")[0]:e:void 0}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator)return(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}},{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(e){this.isolate?this._currentLang=e:this.store.currentLang=e}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(e){this.isolate?this._langs=e:this.store.langs=e}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(e){this.isolate?this._translations=e:this.store.translations=e}}]),(L1=Z1).fac=function(e){return new(e||L1)(l(A1),l(f1),l(T1),l(E1),l(p1),l(U1),l(H1),l(W1),l(q1))},L1.prov=r({token:L1,factory:L1.fac}),L1),n0=(CE(G1,[{key:"updateValue",value:function(t,e,n){function r(e){i.value=void 0!==e?e:t,i.lastKey=t,i._ref.markForCheck()}var i=this;n&&(u1((n=this.translate.getParsedResult(n,t,e)).subscribe)?n.subscribe(r):r(n)),this.translate.get(t,e).subscribe(r)}},{key:"transform",value:function(t){var n,r=this;if(!t||!t.length)return t;for(var e=arguments.length,i=new Array(1<e?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];if(!C1(t,this.lastKey)||!C1(i,this.lastParams)){if(x1(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){var a=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(a)}catch(e){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+i[0])}}else"object"!=typeof i[0]||Array.isArray(i[0])||(n=i[0]);this.lastKey=t,this.lastParams=i,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(e){r.lastKey&&e.lang===r.translate.currentLang&&(r.lastKey=null,r.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(e){r.lastKey&&(r.lastKey=null,r.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){r.lastKey&&(r.lastKey=null,r.updateValue(t,n))}))}return this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),(N1=G1).fac=function(e){return new(e||N1)(k($1),function(e){var e=0<arguments.length&&void 0!==e?e:b.Default,t=Wo(!0);if(null!=t||e&b.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}())},N1.pipe=pn({name:"translate",type:N1,pure:!1}),N1.prov=r({token:N1,factory:N1.fac}),N1),gm=(CE(K1,null,[{key:"forRoot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:K1,providers:[e.loader||{provide:f1,useClass:y1},e.compiler||{provide:T1,useClass:z1},e.parser||{provide:E1,useClass:F1},e.missingTranslationHandler||{provide:p1,useClass:b1},A1,{provide:H1,useValue:e.isolate},{provide:U1,useValue:e.useDefaultLang},{provide:W1,useValue:e.extend},{provide:q1,useValue:e.defaultLanguage},$1]}}},{key:"forChild",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:K1,providers:[e.loader||{provide:f1,useClass:y1},e.compiler||{provide:T1,useClass:z1},e.parser||{provide:E1,useClass:F1},e.missingTranslationHandler||{provide:p1,useClass:b1},{provide:H1,useValue:e.isolate},{provide:U1,useValue:e.useDefaultLang},{provide:W1,useValue:e.extend},{provide:q1,useValue:e.defaultLanguage},$1]}}}]),(M1=K1).mod=s({type:M1}),M1.inj=t({factory:function(e){return new(e||M1)}}),M1),N=((O1=function e(){wE(this,e)}).mod=s({type:O1}),O1.inj=t({factory:function(e){return new(e||O1)},imports:[[]]}),O1);function K1(){wE(this,K1)}function G1(e,t){wE(this,G1),this.translate=e,this._ref=t,this.value=""}function Z1(e,t,n,r,i){var o=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],s=7<arguments.length&&void 0!==arguments[7]&&arguments[7],l=8<arguments.length?arguments[8]:void 0;wE(this,Z1),this.store=e,this.currentLoader=t,this.compiler=n,this.parser=r,this.missingTranslationHandler=i,this.useDefaultLang=o,this.isolate=a,this.extend=s,this.pending=!1,this._onTranslationChange=new R,this._onLangChange=new R,this._onDefaultLangChange=new R,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}function J1(){return wE(this,J1),j1.apply(this,arguments)}function Q1(){var e;return wE(this,Q1),(e=D1.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}function Y1(e,t){return{type:4,styles:1<arguments.length&&void 0!==t?t:null,timings:e}}function X1(e,t){return{type:2,steps:e,options:1<arguments.length&&void 0!==t?t:null}}function e2(e){return{type:6,styles:e,offset:null}}function t2(e,t,n){return{type:1,expr:e,animation:t,options:2<arguments.length&&void 0!==n?n:null}}function n2(e,t,n){return{type:11,selector:e,animation:t,options:2<arguments.length&&void 0!==n?n:null}}function r2(e){Promise.resolve(null).then(e)}CE(s2,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;r2(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){e="start"==e?this._onStartFns:this._onDoneFns;e.forEach(function(e){return e()}),e.length=0}}]);var i2=s2,o2=(CE(a2,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var n=e*this.totalTime;this.players.forEach(function(e){var t=e.totalTime?Math.min(1,n/e.totalTime):1;e.setPosition(t)})}},{key:"getPosition",value:function(){var t=0;return this.players.forEach(function(e){e=e.getPosition();t=Math.min(e,t)}),t}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){e="start"==e?this._onStartFns:this._onDoneFns;e.forEach(function(e){return e()}),e.length=0}}]),a2);function a2(e){var t=this,n=(wE(this,a2),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e,0),r=0,i=0,o=this.players.length;0==o?r2(function(){return t._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++n==o&&t._onFinish()}),e.onDestroy(function(){++r==o&&t._onDestroy()}),e.onStart(function(){++i==o&&t._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}function s2(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;wE(this,s2),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}function l2(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function c2(e){switch(e.length){case 0:return new i2;case 1:return e[0];default:return new o2(e)}}function u2(e,o,t,n,r,i){var a=4<arguments.length&&void 0!==r?r:{},s=5<arguments.length&&void 0!==i?i:{},l=[],c=[],u=-1,h=null;if(n.forEach(function(r){var e=r.offset,t=e==u,i=t&&h||{};Object.keys(r).forEach(function(e){var t=e,n=r[e];if("offset"!==e)switch(t=o.normalizePropertyName(t,l),n){case"!":n=a[e];break;case"*":n=s[e];break;default:n=o.normalizeStyleValue(e,t,n,l)}i[t]=n}),t||c.push(i),h=i,u=e}),l.length)throw new Error("Unable to animate due to the following errors:".concat("\n - ").concat(l.join("\n - ")));return c}function h2(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&d2(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&d2(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&d2(n,"destroy",e))})}}function d2(e,t,n){var r=n.totalTime,t=f2(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),r=e._data;return null!=r&&(t._data=r),t}function f2(e,t,n,r,i,o,a){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:4<arguments.length&&void 0!==i?i:"",totalTime:5<arguments.length&&void 0!==o?o:0,disabled:!!(6<arguments.length?a:void 0)}}function p2(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):r=(r=e[t])||(e[t]=n),r}function g2(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var v2,m2=function(e,t){return!1},y2=function(e,t){return!1},k2=function(e,t,n){return[]},b2=l2(),_2=(!b2&&"undefined"==typeof Element||(m2=function(e,t){return e.contains(t)},y2=b2||Element.prototype.matches?function(e,t){return e.matches(t)}:(b2=Element.prototype,(v2=b2.matchesSelector||b2.mozMatchesSelector||b2.msMatchesSelector||b2.oMatchesSelector||b2.webkitMatchesSelector)?function(e,t){return v2.apply(e,[t])}:y2),k2=function(e,t,n){var r=[];return n?r.push.apply(r,_E(e.querySelectorAll(t))):(n=e.querySelector(t))&&r.push(n),r}),null),w2=!1;function C2(e){_2||(_2=("undefined"!=typeof document?document.body:null)||{},w2=!!_2.style&&"WebkitAppearance"in _2.style);var t=!0;return t=_2.style&&"ebkit"!=e.substring(1,6)&&!(t=e in _2.style)&&w2?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in _2.style:t}var x2=y2,S2=m2,E2=k2;function T2(n){var r={};return Object.keys(n).forEach(function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2");r[t]=n[e]}),r}CE(I2,[{key:"validateStyleProperty",value:C2},{key:"matchesElement",value:function(e,t){return x2(e,t)}},{key:"containsElement",value:function(e,t){return S2(e,t)}},{key:"query",value:function(e,t,n){return E2(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new i2(n,r)}}]),(A2=I2).fac=function(e){return new(e||A2)},A2.prov=r({token:A2,factory:A2.fac});var A2,b2=A2,P2=(R2.NOOP=new b2,R2);function R2(){wE(this,R2)}function I2(){wE(this,I2)}function O2(e){return"number"==typeof e?e:!(e=e.match(/^(-?[\.\d]+)(m?s)/))||e.length<2?0:M2(parseFloat(e[1]),e[2])}function M2(e,t){return"s"!==t?e:1e3*e}function N2(e,t,n){if(e.hasOwnProperty("duration"))return e;var r=0,i="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};var a=M2(parseFloat(o[1]),o[2]),s=o[3],s=(null!=s&&(r=M2(parseFloat(s),o[4])),o[5]);s&&(i=s)}else a=e;return n||(o=!1,s=t.length,a<0&&(t.push("Duration values below 0 are not allowed for this animation step."),o=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&t.splice(s,0,'The provided timing value "'.concat(e,'" is invalid.'))),{duration:a,delay:r,easing:i}}function L2(t,e){var n=1<arguments.length&&void 0!==e?e:{};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function j2(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};if(t)for(var i in e)r[i]=e[i];else L2(e,r);return r}function D2(e,t,n){return n?t+":"+n+";":""}function F2(e){for(var t,n="",r=0;r<e.style.length;r++){var i=e.style.item(r);n+=D2(0,i,e.style.getPropertyValue(i))}for(t in e.style)e.style.hasOwnProperty(t)&&!t.startsWith("_")&&(n+=D2(0,t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[t]));e.setAttribute("style",n)}function V2(n,r,i){n.style&&(Object.keys(r).forEach(function(e){var t=K2(e);i&&!i.hasOwnProperty(e)&&(i[e]=n.style[t]),n.style[t]=r[e]}),l2())&&F2(n)}function z2(t,e){t.style&&(Object.keys(e).forEach(function(e){e=K2(e);t.style[e]=""}),l2())&&F2(t)}function B2(e){return Array.isArray(e)?1==e.length?e[0]:X1(e):e}var H2=new RegExp("{{\\s*(.+?)\\s*}}","g");function U2(e){var t,n=[];if("string"==typeof e){for(;t=H2.exec(e);)n.push(t[1]);H2.lastIndex=0}return n}function q2(e,r,i){var t=e.toString(),n=t.replace(H2,function(e,t){var n=r[t];return r.hasOwnProperty(t)||(i.push("Please provide a value for the animation param "+t),n=""),n.toString()});return n==t?e:n}function W2(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var $2=/-+([a-z0-9])/g;function K2(e){return e.replace($2,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function G2(e,t){return 0===e||0===t}function Z2(n,e,t){var r=Object.keys(t);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(e){i.hasOwnProperty(e)||o.push(e),i[e]=t[e]}),o.length)for(var a=1;a<e.length;a++)(()=>{var t=e[a];o.forEach(function(e){t[e]=Q2(n,e)})})()}return e}function J2(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Q2(e,t){return window.getComputedStyle(e)[t]}var Y2=new Set(["true","1"]),X2=new Set(["false","0"]);function eC(i,o){var a=Y2.has(i)||X2.has(i),s=Y2.has(o)||X2.has(o);return function(e,t){var n="*"==i||i==e,r="*"==o||o==t;return!n&&a&&"boolean"==typeof e&&(n=(e?Y2:X2).has(i)),!r&&s&&"boolean"==typeof t&&(r=(t?Y2:X2).has(o)),n&&r}}var tC=new RegExp("s*:selfs*,?","g");function nC(e,t,n){return new rC(e).build(t,n)}CE(oC,[{key:"build",value:function(e,t){t=new iC(t);return this._resetContextStyleTimingState(t),J2(this,B2(e),t)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,r){var i=this,o=r.queryCount=0,a=r.depCount=0,s=[],l=[];return"@"==e.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){var t,n;i._resetContextStyleTimingState(r),0==e.type?((n=(t=e).name).toString().split(/\s*,\s*/).forEach(function(e){t.name=e,s.push(i.visitState(t,r))}),t.name=n):1==e.type?(n=i.visitTransition(e,r),o+=n.queryCount,a+=n.depCount,l.push(n)):r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:l,queryCount:o,depCount:a,options:null}}},{key:"visitState",value:function(e,t){var n,r,i,o=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;return o.containsDynamicStyles&&(n=new Set,r=a||{},o.styles.forEach(function(e){var t;aC(e)&&(t=e,Object.keys(t).forEach(function(e){U2(t[e]).forEach(function(e){r.hasOwnProperty(e)||n.add(e)})}))}),n.size)&&(i=W2(n.values()),t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(i.join(", ")))),{type:0,name:e.name,style:o,options:a?{params:a}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,i,o,r=J2(this,B2(e.animation),t);return{type:1,matchers:(i=t.errors,o=[],"string"==typeof(n=e.expr)?n.split(/\s*,\s*/).forEach(function(e){var t=o,n=i;if(":"==e[0]){var r=((e,t)=>{switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}})(e,n);if("function"==typeof r)return void t.push(r);e=r}if(null==(r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/))||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;n=r[1],e=r[2],r=r[3],t.push(eC(n,r)),"<"!=e[0]||"*"==n&&"*"==r||t.push(eC(r,n))}):o.push(n),o),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:sC(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return J2(n,e,t)}),options:sC(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map(function(e){t.currentTime=r;e=J2(n,e,t);return i=Math.max(i,t.currentTime),e});return t.currentTime=i,{type:3,steps:o,options:sC(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=((e,t)=>{var n,r=null;if(e.hasOwnProperty("duration"))r=e;else if("number"==typeof e)return lC(N2(e,t).duration,0,"");return e.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})?((n=lC(0,0,"")).dynamic=!0,n.strValue=e,n):lC((r=r||N2(e,t)).duration,r.delay,r.easing)})(e.timings,t.errors),i=(t.currentAnimateTimings=r,e.styles||e2({})),e=5==i.type?this.visitKeyframes(i,t):(i=!1,(e=e.styles)||(i=!0,n={},r.easing&&(n.easing=r.easing),e=e2(n)),t.currentTime+=r.duration+r.delay,(n=this.visitStyle(e,t)).isEmptyStep=i,n);return{type:4,timings:r,style:e,options:t.currentAnimateTimings=null}}},{key:"visitStyle",value:function(e,t){e=this._makeStyleAst(e,t);return this._validateStyleAst(e,t),e}},{key:"_makeStyleAst",value:function(e,t){var n=[],r=(Array.isArray(e.styles)?e.styles.forEach(function(e){"string"!=typeof e||"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed."))}):n.push(e.styles),!1),i=null;return n.forEach(function(e){if(aC(e)){var t=e,e=t.easing;if(e&&(i=e,delete t.easing),!r)for(var n in t)if(0<=t[n].toString().indexOf("{{")){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,s){var l=this,t=s.currentAnimateTimings,c=s.currentTime,u=s.currentTime;t&&0<u&&(u-=t.duration+t.delay),e.styles.forEach(function(a){"string"!=typeof a&&Object.keys(a).forEach(function(e){var t,n,r,i,o;l._driver.validateStyleProperty(e)?(r=!0,(n=(t=s.collectedStyles[s.currentQuerySelector])[e])&&(u!=c&&u>=n.startTime&&c<=n.endTime&&(s.errors.push('The CSS property "'.concat(e,'" that exists between the times of "').concat(n.startTime,'ms" and "').concat(n.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(u,'ms" and "').concat(c,'ms"')),r=!1),u=n.startTime),r&&(t[e]={startTime:u,endTime:c}),s.options&&(n=a[e],r=s.options,i=s.errors,o=r.params||{},(r=U2(n)).length)&&r.forEach(function(e){o.hasOwnProperty(e)||i.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})):s.errors.push('The provided animation property "'.concat(e,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,i){var o,a,s,l,c,t,r,u,h,d,f,p=this,g={type:5,styles:[],options:null};return i.currentAnimateTimings?(l=s=!(a=[]),c=o=0,t=e.steps.map(function(e){var t,e=p._makeStyleAst(e,i),n=null!=e.offset?e.offset:"string"==typeof(n=e.styles)?null:(t=null,Array.isArray(n)?n.forEach(function(e){aC(e)&&e.hasOwnProperty("offset")&&(e=e,t=parseFloat(e.offset),delete e.offset)}):aC(n)&&n.hasOwnProperty("offset")&&(n=n,t=parseFloat(n.offset),delete n.offset),t),r=0;return null!=n&&(o++,r=e.offset=n),l=l||r<0||1<r,s=s||r<c,c=r,a.push(r),e}),e=(l&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&i.errors.push("Please ensure that all keyframe offsets are in order"),e.steps.length),u=((r=0)<o&&o<e?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(r=1/(e-1)),e-1),h=i.currentTime,f=(d=i.currentAnimateTimings).duration,t.forEach(function(e,t){var t=0<r?t==u?1:r*t:a[t],n=t*f;i.currentTime=h+d.delay+n,d.duration=n,p._validateStyleAst(e,i),e.offset=t,g.styles.push(e)})):i.errors.push("keyframes() must be placed inside of a call to animate()"),g}},{key:"visitReference",value:function(e,t){return{type:8,animation:J2(this,B2(e.animation),t),options:sC(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:sC(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sC(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{},i=(t.queryCount++,kE([i=(i=(o=!!(i=(t.currentQuery=e).selector).split(/\s*,\s*/).find(function(e){return":self"==e}))?i.replace(tC,""):i).replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),o],2)),o=i[0],i=i[1],a=(t.currentQuerySelector=n.length?n+" "+o:o,p2(t.collectedStyles,t.currentQuerySelector,{}),J2(this,B2(e.animation),t));return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:i,animation:a,originalSelector:e.selector,options:sC(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:N2(e.timings,t.errors,!0);return{type:12,animation:J2(this,B2(e.animation),t),timings:n,options:null}}}]);var rC=oC,iC=function e(t){wE(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function oC(e){wE(this,oC),this._driver=e}function aC(e){return!Array.isArray(e)&&"object"==typeof e}function sC(e){var t;return e?(e=L2(e)).params&&(e.params=(t=e.params)?L2(t):null):e={},e}function lC(e,t,n){return{duration:e,delay:t,easing:n}}function cC(e,t,n,r,i,o,a,s){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:6<arguments.length&&void 0!==a?a:null,subTimeline:7<arguments.length&&void 0!==s&&s}}CE(fC,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n=this._map.get(e);n||this._map.set(e,n=[]),n.push.apply(n,_E(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]);var uC=fC,hC=new RegExp(":enter","g"),dC=new RegExp(":leave","g");function fC(){wE(this,fC),this._map=new Map}function pC(e,t,n,r,i,o,a,s,l,c){o=5<arguments.length&&void 0!==o?o:{},a=6<arguments.length&&void 0!==a?a:{},s=7<arguments.length?s:void 0,l=8<arguments.length?l:void 0,c=9<arguments.length&&void 0!==c?c:[];return(new vC).buildKeyframes(e,t,n,r,i,o,a,s,l,c)}CE(xC,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,l){var c=9<arguments.length&&void 0!==arguments[9]?arguments[9]:[],e=(l=l||new uC,new yC(e,t,l,r,i,c,[])),l=(e.options=s,e.currentTimeline.setStyles([o],null,e.errors,s),J2(this,n,e),e.timelines.filter(function(e){return e.containsAnimation()}));return l.length&&Object.keys(a).length&&((r=l[l.length-1]).allowOnlyTimelineStyles()||r.setStyles([a],null,e.errors,s)),l.length?l.map(function(e){return e.buildKeyframes()}):[cC(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n,r=t.subInstructions.consume(t.element);r&&(n=t.createSubContext(e.options),t.currentTimeline.currentTime!=(r=this._visitSubInstructions(r,n,n.options)))&&t.transformIntoNewTimeline(r),t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?O2(n.duration):null,o=null!=n.delay?O2(n.delay):null;return 0!==i&&e.forEach(function(e){e=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,e.duration+e.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),J2(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)&&(6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mC),o=O2(o.delay),i.delayNextStep(o)),e.steps.length&&(e.steps.forEach(function(e){return J2(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r)&&i.transformIntoNewTimeline(),t.previousNode=e}},{key:"visitGroup",value:function(n,r){var i=this,o=[],a=r.currentTimeline.currentTime,s=n.options&&n.options.delay?O2(n.options.delay):0;n.steps.forEach(function(e){var t=r.createSubContext(n.options);s&&t.delayNextStep(s),J2(i,e,t),a=Math.max(a,t.currentTimeline.currentTime),o.push(t.currentTimeline)}),o.forEach(function(e){return r.currentTimeline.mergeTimelineCollectedStyles(e)}),r.transformIntoNewTimeline(a),r.previousNode=n}},{key:"_visitTiming",value:function(e,t){var n;return e.dynamic?(n=e.strValue,N2(t.params?q2(n,t.params,t.errors):n,t.errors)):{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline,i=(n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles()),e.style);5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings,r=(!r&&n.getCurrentStyleProperties().length&&n.forwardFrame(),r&&r.easing||e.easing);e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(n,r){var i=this,e=r.currentTimeline.currentTime,t=n.options||{},o=t.delay?O2(t.delay):0,a=(o&&(6===r.previousNode.type||0==e&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=mC),e),e=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!t.optional,r.errors),s=(r.currentQueryTotal=e.length,null);e.forEach(function(e,t){r.currentQueryIndex=t;t=r.createSubContext(n.options,e);o&&t.delayNextStep(o),e===r.element&&(s=t.currentTimeline),J2(i,n.animation,t),t.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,t.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(a),s&&(r.currentTimeline.mergeTimelineCollectedStyles(s),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}o=t.currentTimeline,s&&o.delayNextStep(s),i=o.currentTime;J2(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-i+(r.startTime-n.currentTimeline.startTime)}}]);var gC,vC=xC,mC={},yC=(CE(CC,[{key:"updateOptions",value:function(e,t){var n,r,i,o=this;e&&(n=this.options,null!=(e=e).duration&&(n.duration=O2(e.duration)),null!=e.delay&&(n.delay=O2(e.delay)),r=e.params)&&(i=(i=n.params)||(this.options.params={}),Object.keys(r).forEach(function(e){t&&i.hasOwnProperty(e)||(i[e]=q2(r[e],i,o.errors))}))}},{key:"_copyOptions",value:function(){var t,n,e={};return this.options&&(t=this.options.params)&&(n=e.params={},Object.keys(t).forEach(function(e){n[e]=t[e]})),e}},{key:"createSubContext",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=(1<arguments.length?arguments[1]:void 0)||this.element,t=new CC(this._driver,t,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(t,(2<arguments.length?arguments[2]:void 0)||0));return t.previousNode=this.previousNode,t.currentAnimateTimings=this.currentAnimateTimings,t.options=this._copyOptions(),t.updateOptions(e),t.currentQueryIndex=this.currentQueryIndex,t.currentQueryTotal=this.currentQueryTotal,(t.parentContext=this).subContextCount++,t}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=mC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){t={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},n=new bC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,t,e.stretchStartingKeyframe);return this.timelines.push(n),t}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){0<e&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];return r&&a.push(this.element),0<e.length&&(e=(e=e.replace(hC,"."+this._enterClassName)).replace(dC,"."+this._leaveClassName),r=this._driver.query(this.element,e,1!=n),0!==n&&(r=n<0?r.slice(r.length+n,r.length):r.slice(0,n)),a.push.apply(a,_E(r))),i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),CC),kC=(CE(wC,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return 0<this.getCurrentStyleProperties().length;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(e,t){return this.applyStylesToKeyframe(),new wC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i,o,a,s=this,l=(t&&(this._previousKeyframe.easing=t),r&&r.params||{}),c=(i=this._globalTimelineStyles,a={},e.forEach(function(e){"*"===e?(o=o||Object.keys(i)).forEach(function(e){a[e]="*"}):j2(e,!1,a)}),a);Object.keys(c).forEach(function(e){var t=q2(c[e],l,n);s._pendingStyles[e]=t,s._localTimelineStyles.hasOwnProperty(e)||(s._backFill[e]=s._globalTimelineStyles.hasOwnProperty(e)?s._globalTimelineStyles[e]:"*"),s._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(function(e){t._currentKeyframe[e]=n[e]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var n=this;Object.keys(this._localTimelineStyles).forEach(function(e){var t=n._localTimelineStyles[e];n._pendingStyles[e]=t,n._updateStyle(e,t)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(r){var i=this;Object.keys(r._styleSummary).forEach(function(e){var t=i._styleSummary[e],n=r._styleSummary[e];(!t||n.time>t.time)&&i._updateStyle(e,n.value)})}},{key:"buildKeyframes",value:function(){var e,t,r=this,i=(this.applyStylesToKeyframe(),new Set),o=new Set,a=1===this._keyframes.size&&0===this.duration,s=[],n=(this._keyframes.forEach(function(e,t){var n=j2(e,!0);Object.keys(n).forEach(function(e){var t=n[e];"!"==t?i.add(e):"*"==t&&o.add(e)}),a||(n.offset=t/r.duration),s.push(n)}),i.size?W2(i.values()):[]),l=o.size?W2(o.values()):[];return a&&(t=L2(e=s[0]),e.offset=0,t.offset=1,s=[e,t]),cC(this.element,s,n,l,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e,t=[];for(e in this._currentKeyframe)t.push(e);return t}}]),wC),bC=(xE(_C,kC),gC=SE(_C),CE(_C,[{key:"containsAnimation",value:function(){return 1<this.keyframes.length}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,t=t.easing;if(this._stretchStartingKeyframe&&n){var i=[],o=r+n,a=n/o,s=j2(e[0],!1),s=(s.offset=0,i.push(s),j2(e[0],!1));s.offset=SC(a),i.push(s);for(var l=e.length-1,c=1;c<=l;c++){var u=j2(e[c],!1);u.offset=SC((n+u.offset*r)/o),i.push(u)}r=o,n=0,t="",e=i}return cC(this.element,e,this.preStyleProps,this.postStyleProps,r,n,t,!0)}}]),_C);function _C(e,t,n,r,i,o){var a=6<arguments.length&&void 0!==arguments[6]&&arguments[6];return wE(this,_C),(e=gC.call(this,e,t,o.delay)).element=t,e.keyframes=n,e.preStyleProps=r,e.postStyleProps=i,e._stretchStartingKeyframe=a,e.timings={duration:o.duration,delay:o.delay,easing:o.easing},e}function wC(e,t,n,r){wE(this,wC),this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}function CC(e,t,n,r,i,o,a,s){wE(this,CC),this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new kC(this._driver,t,0),a.push(this.currentTimeline)}function xC(){wE(this,xC)}function SC(e,t){t=Math.pow(10,(1<arguments.length&&void 0!==t?t:3)-1);return Math.round(e*t)/t}function EC(){wE(this,EC)}xE(IC,EC),AC=SE(IC),CE(IC,[{key:"normalizePropertyName",value:K2},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();return RC[t]&&0!==n&&"0"!==n&&("number"==typeof n?i="px":(t=n.match(/^[+-]?[\d\.]+([a-z]*)$/))&&0==t[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))),o+i}}]);var TC,AC,PC=IC,RC=(y2="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),TC={},y2.forEach(function(e){return TC[e]=!0}),TC);function IC(){return wE(this,IC),AC.apply(this,arguments)}function OC(e,t,n,r,i,o,a,s,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}var MC={},NC=(CE(VC,[{key:"match",value:function(e,t,n,r){return i=this.ast.matchers,o=e,a=t,s=n,l=r,i.some(function(e){return e(o,a,s,l)});var i,o,a,s,l}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],e=this._stateStyles[e],r=r?r.buildStyles(t,n):{};return e?e.buildStyles(t,n):r}},{key:"build",value:function(e,i,t,n,r,o,a,s,l,c){var u=[],h=this.ast.options&&this.ast.options.params||MC,a=this.buildStyles(t,a&&a.params||MC,u),s=s&&s.params||MC,d=this.buildStyles(n,s,u),f=new Set,p=new Map,g=new Map,v="void"===n,h={params:Object.assign(Object.assign({},h),s)},s=c?[]:pC(e,i,this.ast.animation,r,o,a,d,h,l,u),m=0;if(s.forEach(function(e){m=Math.max(e.duration+e.delay,m)}),u.length)return OC(i,this._triggerName,t,n,v,a,d,[],[],p,g,m,u);s.forEach(function(e){var t=e.element,n=p2(p,t,{}),r=(e.preStyleProps.forEach(function(e){return n[e]=!0}),p2(g,t,{}));e.postStyleProps.forEach(function(e){return r[e]=!0}),t!==i&&f.add(t)});c=W2(f.values());return OC(i,this._triggerName,t,n,v,a,d,s,c,p,g,m)}}]),VC),LC=(CE(FC,[{key:"buildStyles",value:function(n,r){var i={},o=L2(this.defaultParams);return Object.keys(n).forEach(function(e){var t=n[e];null!=t&&(o[e]=t)}),this.styles.styles.forEach(function(e){var n;"string"!=typeof e&&(n=e,Object.keys(n).forEach(function(e){var t=n[e];1<t.length&&(t=q2(t,o,r)),i[e]=t}))}),i}}]),FC),jC=(CE(DC,[{key:"matchTransition",value:function(t,n,r,i){return this.transitionFactories.find(function(e){return e.match(t,n,r,i)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return 0<this.ast.queryCount}}]),DC);function DC(t,e){var n=this;wE(this,DC),this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(e){n.states[e.name]=new LC(e.style,e.options&&e.options.params||{})}),zC(this.states,"true","1"),zC(this.states,"false","0"),e.transitions.forEach(function(e){n.transitionFactories.push(new NC(t,e,n.states))}),this.fallbackTransition=new NC(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}function FC(e,t){wE(this,FC),this.styles=e,this.defaultParams=t}function VC(e,t,n){wE(this,VC),this._triggerName=e,this.ast=t,this._stateStyles=n}function zC(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var BC=new uC,HC=(CE(tx,[{key:"register",value:function(e,t){var n=[],t=nC(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=t}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,t=u2(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,t,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=pC(this._driver,t,a,"ng-enter","ng-leave",{},{},i,BC,o)).forEach(function(e){var t=p2(s,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach(function(t,n){Object.keys(t).forEach(function(e){t[e]=r._driver.computeStyle(n,e,"*")})});t=c2(n.map(function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)}));return(this._playersById[e]=t).onDestroy(function(){return r.destroy(e)}),this.players.push(t),t}},{key:"destroy",value:function(e){var t=this._getPlayer(e),e=(t.destroy(),delete this._playersById[e],this.players.indexOf(t));0<=e&&this.players.splice(e,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(t)return t;throw new Error("Unable to find the timeline player referenced by "+e)}},{key:"listen",value:function(e,t,n,r){t=f2(t,"","","");return h2(this._getPlayer(e),n,t,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),tx),UC=[],qC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$C=(CE(ex,[{key:"absorbOptions",value:function(e){var t,n=e.params;n&&(t=this.options.params,Object.keys(n).forEach(function(e){null==t[e]&&(t[e]=n[e])}))}},{key:"params",get:function(){return this.options.params}}]),ex),KC=new $C("void"),GC=(CE(XC,[{key:"listen",value:function(e,t,n,r){var i=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=n&&"done"!=n)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=p2(this._elementListeners,e,[]),a={name:t,phase:n,callback:r},s=(o.push(a),p2(this._engine.statesByElement,e,{}));return s.hasOwnProperty(t)||(ax(e,"ng-trigger"),ax(e,"ng-trigger-"+t),s[t]=KC),function(){i._engine.afterFlush(function(){var e=o.indexOf(a);0<=e&&o.splice(e,1),i._triggers[t]||delete s[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(t)return t;throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'))}},{key:"trigger",value:function(n,t,e){var r,i,o=this,a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],s=this._getTrigger(t),l=new JC(this.id,t,n),c=this._engine.statesByElement.get(n),u=(c||(ax(n,"ng-trigger"),ax(n,"ng-trigger-"+t),this._engine.statesByElement.set(n,c={})),c[t]),h=new $C(e,this.id);if(e&&e.hasOwnProperty("value")||!u||h.absorbOptions(u.options),c[t]=h,u=u||KC,"void"===h.value||u.value!==h.value){var e=p2(this._engine.playersByElement,n,[]),c=(e.forEach(function(e){e.namespaceId==o.id&&e.triggerName==t&&e.queued&&e.destroy()}),s.matchTransition(u.value,h.value,n,h.params)),d=!1;if(!c){if(!a)return;c=s.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:c,fromState:u,toState:h,player:l,isFallbackTransition:d}),d||(ax(n,"ng-animate-queued"),l.onStart(function(){sx(n,"ng-animate-queued")})),l.onDone(function(){var e,t=o.players.indexOf(l),t=(0<=t&&o.players.splice(t,1),o._engine.playersByElement.get(n));t&&0<=(e=t.indexOf(l))&&t.splice(e,1)}),this.players.push(l),e.push(l),l}((e,t)=>{var n=Object.keys(e),r=Object.keys(t);if(n.length==r.length){for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return}return 1}})(u.params,h.params)||(r=s.matchStyles(u.value,u.params,a=[]),i=s.matchStyles(h.value,h.params,a),a.length?this._engine.reportError(a):this._engine.afterFlush(function(){z2(n,r),V2(n,i)}))}},{key:"deregister",value:function(n){var r=this;delete this._triggers[n],this._engine.statesByElement.forEach(function(e,t){delete e[n]}),this._elementListeners.forEach(function(e,t){r._elementListeners.set(t,e.filter(function(e){return e.name!=n}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,n){var r=this,t=this._engine.driver.query(e,".ng-trigger",!0);t.forEach(function(t){var e;t.__ng_removed||((e=r._engine.fetchNamespacesByElement(t)).size?e.forEach(function(e){return e.triggerLeaveAnimation(t,n,!1,!0)}):r.clearElementCache(t))}),this._engine.afterFlushAnimationsDone(function(){return t.forEach(function(e){return r.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){i._triggers[e]&&(e=i.trigger(t,e,"void",r))&&a.push(e)}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&c2(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(o){var a,s=this,e=this._elementListeners.get(o);e&&(a=new Set,e.forEach(function(e){var t,n,r,i,e=e.name;a.has(e)||(a.add(e),t=s._triggers[e].fallbackTransition,n=s._engine.statesByElement.get(o)[e]||KC,r=new $C("void"),i=new JC(s.id,e,o),s._engine.totalQueuedPlayers++,s._queue.push({element:o,triggerName:e,transition:t,fromState:n,toState:r,player:i,isFallbackTransition:!0}))}))}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(e),i?r.markElementAsRemoved(this.id,e,!1,t):(o=e.__ng_removed)&&o!==qC||(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}},{key:"insertNode",value:function(e,t){ax(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(i){var o=this,a=[];return this._queue.forEach(function(n){var r,e,t=n.player;t.destroyed||(r=n.element,(e=o._elementListeners.get(r))&&e.forEach(function(e){var t;e.name==n.triggerName&&((t=f2(r,n.triggerName,n.fromState.value,n.toState.value))._data=i,h2(n.player,e.phase,t,e.callback))}),t.markedForDestroy?o._engine.afterFlush(function(){t.destroy()}):a.push(n))}),this._queue=[],a.sort(function(e,t){var n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:o._engine.driver.containsElement(e.element,t.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e}}]),XC),ZC=(CE(YC,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new GC(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(0<=n){for(var r=!1,i=n;0<=i;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){return this._namespaceLookup[e]||this.createNamespace(e,t)}},{key:"registerTrigger",value:function(e,t,n){e=this._namespaceLookup[e];e&&e.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n,r=this;t&&(n=this._fetchNamespace(t),this.afterFlush(function(){r.namespacesByHostElement.delete(n.hostElement),delete r._namespaceLookup[t];var e=r._namespaceList.indexOf(n);0<=e&&r._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return n.destroy(e)}))}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;o&&(o=this._fetchNamespace(o))&&t.add(o)}return t}},{key:"trigger",value:function(e,t,n,r){if(nx(t)){e=this._fetchNamespace(e);if(e)return e.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){var i;nx(t)&&((i=t.__ng_removed)&&i.setForRemoval&&(i.setForRemoval=!1,i.setForMove=!0,0<=(i=this.collectedLeaveElements.indexOf(t)))&&this.collectedLeaveElements.splice(i,1),e&&(i=this._fetchNamespace(e))&&i.insertNode(t,n),r)&&this.collectEnterElement(t)}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ax(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sx(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){var i;nx(t)?((i=e?this._fetchNamespace(e):null)?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n&&(i=this.namespacesByHostElement.get(t))&&i.id!==e&&i.removeNode(t,r)):this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return nx(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this;this.driver.query(e,".ng-trigger",!0).forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&this.driver.query(e,".ng-animating",!0).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){e=this.playersByElement.get(e);e&&e.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){e=this.playersByQueriedElement.get(e);e&&e.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return c2(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(e){var t,n=this,r=e.__ng_removed;r&&r.setForRemoval&&(e.__ng_removed=qC,r.namespaceId&&(this.destroyInnerAnimations(e),t=this._fetchNamespace(r.namespaceId))&&t.clearElementCache(e),this._onRemovalComplete(e,r.setForRemoval)),this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){n.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e,n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,r=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,t){return n._balanceNamespaceList(e,t)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)ax(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var o=[];try{r=this._flushAnimations(o,t)}finally{for(var a=0;a<o.length;a++)o[a]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length&&(e=this._whenQuietFns,this._whenQuietFns=[],r.length?c2(r).onDone(function(){e.forEach(function(e){return e()})}):e.forEach(function(e){return e()}))}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(j,D){var l=this,c=new uC,u=[],h=new Map,s=[],d=new Map,f=new Map,p=new Map,g=new Set,v=(this.disabledNodes.forEach(function(e){g.add(e);for(var t=l.driver.query(e,".ng-animate-queued",!0),n=0;n<t.length;n++)g.add(t[n])}),this.bodyNode),e=Array.from(this.statesByElement.keys()),t=ox(e,this.collectedEnterElements),m=new Map,r=0;t.forEach(function(e,t){var n="ng-enter"+r++;m.set(t,n),e.forEach(function(e){return ax(e,n)})});for(var n=[],i=new Set,o=new Set,a=0;a<this.collectedLeaveElements.length;a++){var y=this.collectedLeaveElements[a],k=y.__ng_removed;k&&k.setForRemoval&&(n.push(y),i.add(y),k.hasAnimation?this.driver.query(y,".ng-star-inserted",!0).forEach(function(e){return i.add(e)}):o.add(y))}var b=new Map,_=ox(e,Array.from(i));_.forEach(function(e,t){var n="ng-leave"+r++;b.set(t,n),e.forEach(function(e){return ax(e,n)})}),j.push(function(){t.forEach(function(e,t){var n=m.get(t);e.forEach(function(e){return sx(e,n)})}),_.forEach(function(e,t){var n=b.get(t);e.forEach(function(e){return sx(e,n)})}),n.forEach(function(e){l.processLeaveNode(e)})});for(var w,F=[],C=[],x=this._namespaceList.length-1;0<=x;x--)this._namespaceList[x].drainQueuedTransitions(D).forEach(function(e){var t=e.player,n=e.element;if(F.push(t),l.collectedEnterElements.length){var r=n.__ng_removed;if(r&&r.setForMove)return void t.destroy()}var r=!v||!l.driver.containsElement(v,n),i=b.get(n),o=m.get(n),a=l._buildInstruction(e,c,o,i,r);a.errors&&a.errors.length?C.push(a):r||e.isFallbackTransition?(t.onStart(function(){return z2(n,a.fromStyles)}),t.onDestroy(function(){return V2(n,a.toStyles)}),u.push(t)):(a.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),c.append(n,a.timelines),s.push({instruction:a,player:t,element:n}),a.queriedElements.forEach(function(e){return p2(d,e,[]).push(t)}),a.preStyleProps.forEach(function(e,t){var n,e=Object.keys(e);e.length&&((n=f.get(t))||f.set(t,n=new Set),e.forEach(function(e){return n.add(e)}))}),a.postStyleProps.forEach(function(e,t){var e=Object.keys(e),n=p.get(t);n||p.set(t,n=new Set),e.forEach(function(e){return n.add(e)})}))});C.length&&(w=[],C.forEach(function(e){w.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return w.push("- ".concat(e,"\n"))})}),F.forEach(function(e){return e.destroy()}),this.reportError(w));var S=new Map,E=new Map,V=(s.forEach(function(e){var t=e.element;c.has(t)&&(E.set(t,t),l._beforeAnimationBuild(e.player.namespaceId,e.instruction,S))}),u.forEach(function(e){var t=e.element;l._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){p2(S,t,[]).push(e),e.destroy()})}),n.filter(function(e){return lx(e,f,p)})),T=new Map,A=(ix(T,this.driver,o,p,"*").forEach(function(e){lx(e,f,p)&&V.push(e)}),new Map),P=(t.forEach(function(e,t){ix(A,l.driver,new Set(e),f,"!")}),V.forEach(function(e){var t=T.get(e),n=A.get(e);T.set(e,Object.assign(Object.assign({},t),n))}),[]),z=[],B={};s.forEach(function(e){var t=e.element,n=e.player,r=e.instruction;if(c.has(t))if(g.has(t))n.onDestroy(function(){return V2(t,r.toStyles)}),n.disabled=!0,n.overrideTotalTime(r.totalTime),u.push(n);else{var i=B;if(1<E.size){for(var o=t,a=[];o=o.parentNode;){var s=E.get(o);if(s){i=s;break}a.push(o)}a.forEach(function(e){return E.set(e,i)})}var e=l._buildAnimation(n.namespaceId,r,S,h,A,T);n.setRealPlayer(e),(i===B?P:((e=l.playersByElement.get(i))&&e.length&&(n.parentPlayer=c2(e)),u)).push(n)}else z2(t,r.fromStyles),n.onDestroy(function(){return V2(t,r.toStyles)}),z.push(n),g.has(t)&&u.push(n)}),z.forEach(function(e){var t=h.get(e.element);t&&t.length&&(t=c2(t),e.setRealPlayer(t))}),u.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var R=0;R<n.length;R++){var I=n[R],O=I.__ng_removed;if(sx(I,"ng-leave"),!O||!O.hasAnimation){var M=[];if(d.size){O=d.get(I);O&&O.length&&M.push.apply(M,_E(O));for(var H=this.driver.query(I,".ng-animating",!0),N=0;N<H.length;N++){var L=d.get(H[N]);L&&L.length&&M.push.apply(M,_E(L))}}O=M.filter(function(e){return!e.destroyed});O.length?((e,t,n)=>{c2(n).onDone(function(){return e.processLeaveNode(t)})})(this,I,O):this.processLeaveNode(I)}}return n.length=0,P.forEach(function(t){l.players.push(t),t.onDone(function(){t.destroy();var e=l.players.indexOf(t);l.players.splice(e,1)}),t.play()}),P}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o,a=[];return t?(t=this.playersByQueriedElement.get(e))&&(a=t):(t=this.playersByElement.get(e))&&(o=!i||"void"==i,t.forEach(function(e){e.queued||!o&&e.triggerName!=r||a.push(e)})),a=n||r?a.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}):a}},{key:"_beforeAnimationBuild",value:function(e,r,i){var o,a=this,s=r.element,l=r.isRemovalTransition?void 0:e,c=r.isRemovalTransition?void 0:r.triggerName,t=bE(r.timelines);try{for(t.s();!(o=t.n()).done;)(()=>{var e=o.value.element,t=e!==s,n=p2(i,e,[]);a._getPreviousPlayers(e,t,l,c,r.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),n.push(e)})})()}catch(e){t.e(e)}finally{t.f()}z2(s,r.fromStyles)}},{key:"_buildAnimation",value:function(a,e,s,l,c,u){var h=this,d=e.triggerName,f=e.element,p=[],g=new Set,v=new Set,t=e.timelines.map(function(e){var t,n,r,i=e.element,o=(g.add(i),i.__ng_removed);return o&&o.removedBeforeQueried?new i2(e.duration,e.delay):(o=i!==f,function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof o2?e(i.players,n):n.push(i)}}((s.get(i)||UC).map(function(e){return e.getRealPlayer()}),t=[]),t=t.filter(function(e){return!!e.element&&e.element===i}),r=c.get(i),n=u.get(i),r=u2(0,h._normalizer,0,e.keyframes,r,n),n=h._buildPlayer(e,r,t),e.subTimeline&&l&&v.add(i),o&&((r=new JC(a,d,i)).setRealPlayer(n),p.push(r)),n)}),n=(p.forEach(function(o){p2(h.playersByQueriedElement,o.element,[]).push(o),o.onDone(function(){return e=h.playersByQueriedElement,t=o.element,n=o,e instanceof Map?(r=e.get(t))&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length)&&e.delete(t):(r=e[t])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length)&&delete e[t],r;var e,t,n,r,i})}),g.forEach(function(e){return ax(e,"ng-animating")}),c2(t));return n.onDestroy(function(){g.forEach(function(e){return sx(e,"ng-animating")}),V2(f,e.toStyles)}),v.forEach(function(e){p2(l,e,[]).push(n)}),n}},{key:"_buildPlayer",value:function(e,t,n){return 0<t.length?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new i2(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}}]),YC),JC=(CE(QC,[{key:"setRealPlayer",value:function(n){var e=this;this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(function(t){e._queuedCallbacks[t].forEach(function(e){return h2(n,t,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){p2(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){this.queued||this._player.play()}},{key:"pause",value:function(){this.queued||this._player.pause()}},{key:"restart",value:function(){this.queued||this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){this.queued||this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),QC);function QC(e,t,n){wE(this,QC),this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new i2,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}function YC(e,t,n){wE(this,YC),this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}function XC(e,t,n){wE(this,XC),this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ax(t,this._hostClassName)}function ex(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";wE(this,ex),this.namespaceId=t;var n,t=e&&e.hasOwnProperty("value");this.value=null!=(n=t?e.value:e)?n:null,t?(delete(n=L2(e)).value,this.options=n):this.options={},this.options.params||(this.options.params={})}function tx(e,t,n){wE(this,tx),this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}function nx(e){return e&&1===e.nodeType}function rx(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function ix(r,i,e,t,o){var n=[],a=(e.forEach(function(e){return n.push(rx(e))}),[]),s=(t.forEach(function(e,t){var n={};e.forEach(function(e){e=n[e]=i.computeStyle(t,e,o);e&&0!=e.length||(t.__ng_removed=WC,a.push(t))}),r.set(t,n)}),0);return e.forEach(function(e){return rx(e,n[s++])}),a}function ox(e,t){var i,o,a=new Map;return e.forEach(function(e){return a.set(e,[])}),0!=t.length&&(i=new Set(t),o=new Map,t.forEach(function(e){var t=function e(t){var n,r;return t?((r=o.get(t))||(n=t.parentNode,r=a.has(n)?n:i.has(n)?1:e(n),o.set(t,r)),r):1}(e);1!==t&&a.get(t).push(e)})),a}function ax(e,t){e.classList?e.classList.add(t):(e.$$classes||(e.$$classes={}))[t]=!0}function sx(e,t){e.classList?e.classList.remove(t):(e=e.$$classes)&&delete e[t]}function lx(e,t,n){var r,i=n.get(e);return!!i&&((r=t.get(e))?i.forEach(function(e){return r.add(e)}):t.set(e,i),n.delete(e),!0)}CE(ux,[{key:"registerTrigger",value:function(e,t,n,r,i){var e=e+"-"+r,o=this._triggerCache[e];if(!o){var a=[],i=nC(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));o=new jC(r,i),this._triggerCache[e]=o}this._transitionEngine.registerTrigger(t,r,o)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){var i,o;"@"==n.charAt(0)?(o=(i=kE(g2(n),2))[0],this._timelineEngine.command(o,t,i[1],r)):this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){var o,a;return"@"==n.charAt(0)?(a=(o=kE(g2(n),2))[0],this._timelineEngine.listen(a,t,o[1],i)):this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){this._transitionEngine.flush(0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]);var cx=ux;function ux(e,t,n){var r=this;wE(this,ux),this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new ZC(e,t,n),this._timelineEngine=new HC(e,t,n),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}function hx(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=px(t[0]),1<t.length&&(r=px(t[t.length-1]))):t&&(n=px(t)),n||r?new dx(e,n,r):null}CE(fx,[{key:"start",value:function(){this._state<1&&(this._startStyles&&V2(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(V2(this._element,this._initialStyles),this._endStyles&&(V2(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(fx.initialStylesByElement.delete(this._element),this._startStyles&&(z2(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(z2(this._element,this._endStyles),this._endStyles=null),V2(this._element,this._initialStyles),this._state=3)}}]),(m2=fx).initialStylesByElement=new WeakMap;var dx=m2;function fx(e,t,n){wE(this,fx),this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;t=fx.initialStylesByElement.get(e);t||fx.initialStylesByElement.set(e,t={}),this._initialStyles=t}function px(e){for(var t,n=null,r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];"display"!==(t=o)&&"position"!==t||((n=n||{})[o]=e[o])}return n}CE(vx,[{key:"apply",value:function(){var e,t=this._element,n="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name);if((e=wx(t,"").trim()).length){for(var r=e,i=0;i<r.length;i++)r.charAt(i);n="".concat(e,", ").concat(n)}_x(t,"",n),bx(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){mx(this._element,this._name,"paused")}},{key:"resume",value:function(){mx(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=yx(this._element,this._name);this._position=e*this._duration,_x(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),bx(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,n=this._name,0<=(n=kx(t=wx(e,"").split(","),n))&&(t.splice(n,1),_x(e,"",t.join(","))))}}]);var gx=vx;function vx(e,t,n,r,i,o,a){var s=this;wE(this,vx),this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return s._handleCallback(e)}}function mx(e,t,n){_x(e,"PlayState",n,yx(e,t))}function yx(e,t){e=wx(e,"");return 0<e.indexOf(",")?kx(e.split(","),t):kx([e],t)}function kx(e,t){for(var n=0;n<e.length;n++)if(0<=e[n].indexOf(t))return n;return-1}function bx(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function _x(e,t,n,r){var i,t="animation"+t;null!=r&&(i=e.style[t]).length&&((i=i.split(","))[r]=n,n=i.join(",")),e.style[t]=n}function wx(e,t){return e.style["animation"+t]}CE(Mx,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),4<=this._state||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),3<=this._state||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return 2<=this._state}},{key:"init",value:function(){1<=this._state||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new gx(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){e="start"==e?this._onStartFns:this._onDoneFns;e.forEach(function(e){return e()}),e.length=0}},{key:"beforeDestroy",value:function(){var t,n=this,r=(this.init(),{});this.hasStarted()&&(t=3<=this._state,Object.keys(this._finalStyles).forEach(function(e){"offset"!=e&&(r[e]=t?n._finalStyles[e]:Q2(n.element,e))})),this.currentSnapshot=r}}]);var Cx,xx=Mx,Sx=(xE(Ox,i2),Cx=SE(Ox),CE(Ox,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),yE(RE(Ox.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),yE(RE(Ox.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var n=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var t=n._startingStyles[e];t?n.element.style.setProperty(e,t):n.element.style.removeProperty(e)}),this._startingStyles=null,yE(RE(Ox.prototype),"destroy",this).call(this))}}]),Ox),Ex=(CE(Ix,[{key:"validateStyleProperty",value:C2},{key:"matchesElement",value:function(e,t){return x2(e,t)}},{key:"containsElement",value:function(e,t){return S2(e,t)}},{key:"query",value:function(e,t,n){return E2(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(T2);var r="@keyframes ".concat(t," {\n"),t=(n.forEach(function(n){0;var e=parseFloat(n.offset);r+="".concat(" ").concat(100*e,"% {\n"),Object.keys(n).forEach(function(e){var t=n[e];switch(e){case"offset":return;case"easing":return void(t&&(r+="".concat("  ","animation-timing-function: ").concat(t,";\n")));default:return void(r+="".concat("  ").concat(e,": ").concat(t,";\n"))}}),r+="  }\n"}),r+="}\n",document.createElement("style"));return t.innerHTML=r,t}},{key:"animate",value:function(e,t,n,r,i){var o,a,s,l,c=5<arguments.length&&void 0!==arguments[5]?arguments[5]:[],c=((6<arguments.length?arguments[6]:void 0)&&this._notifyFaultyScrubber(),c.filter(function(e){return e instanceof xx})),u={},c=(G2(n,r)&&c.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return u[e]=t[e]})}),c=t=Z2(e,t,u),o={},c&&(Array.isArray(c)?c:[c]).forEach(function(t){Object.keys(t).forEach(function(e){"offset"!=e&&"easing"!=e&&(o[e]=t[e])})}),o);return 0==n?new Sx(e,c):(a="gen_css_kf_"+this._count++,s=this.buildKeyframeElement(e,a,t),document.querySelector("head").appendChild(s),l=hx(e,t),(e=new xx(e,t,a,n,r,i,c,l)).onDestroy(function(){s.parentNode.removeChild(s)}),e)}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),Ix),Tx=(CE(Rx,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e,t=this;this._initialized||(this._initialized=!0,e=this.keyframes,this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()}))}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(e){"offset"!=e&&(n[e]=t._finished?t._finalKeyframe[e]:Q2(t.element,e))}),this.currentSnapshot=n}},{key:"triggerCallback",value:function(e){e="start"==e?this._onStartFns:this._onDoneFns;e.forEach(function(e){return e()}),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),Rx),Ax=(CE(Px,[{key:"validateStyleProperty",value:C2},{key:"matchesElement",value:function(e,t){return x2(e,t)}},{key:"containsElement",value:function(e,t){return S2(e,t)}},{key:"query",value:function(e,t,n){return E2(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o,a,s,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:[];return(6<arguments.length?arguments[6]:void 0)||this._isNativeImpl?(o={duration:n,delay:r,fill:0==r?"both":"forwards"},i&&(o.easing=i),a={},s=l.filter(function(e){return e instanceof Tx}),G2(n,r)&&s.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return a[e]=t[e]})}),s=hx(e,t=Z2(e,t=t.map(function(e){return j2(e,!1)}),a)),new Tx(e,t,o,s)):this._cssKeyframesDriver.animate(e,t,n,r,i,l)}}]),Px);function Px(){wE(this,Px),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Nx().toString()),this._cssKeyframesDriver=new Ex}function Rx(e,t,n,r){wE(this,Rx),this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}function Ix(){wE(this,Ix),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}function Ox(e,t){var n;return wE(this,Ox),(n=Cx.call(this)).element=e,n._startingStyles={},n.__initialized=!1,n._styles=T2(t),n}function Mx(e,t,n,r,i,o,a,s){wE(this,Mx),this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}function Nx(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}xE(Hx,P1),Dx=SE(Hx),CE(Hx,[{key:"build",value:function(e){var t=this._nextAnimationId.toString(),e=(this._nextAnimationId++,Array.isArray(e)?X1(e):e);return Ux(this._renderer,null,t,"register",[e]),new Fx(t,this._renderer)}}]),(Lx=Hx).fac=function(e){return new(e||Lx)(l(ns),l(Yc))},Lx.prov=r({token:Lx,factory:Lx.fac});var Lx,jx,Dx,k2=Lx,Fx=(xE(Bx,function(){return function e(){wE(this,e)}}()),jx=SE(Bx),CE(Bx,[{key:"create",value:function(e,t){return new Vx(this._id,e,t||{},this._renderer)}}]),Bx),Vx=(CE(zx,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ux(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),zx);function zx(e,t,n,r){wE(this,zx),this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}function Bx(e,t){var n;return wE(this,Bx),(n=jx.call(this))._id=e,n._renderer=t,n}function Hx(e,t){var n;return wE(this,Hx),(n=Dx.call(this))._nextAnimationId=0,n._renderer=e.createRenderer(t.body,{id:"0",encapsulation:an.None,styles:[],data:{animation:[]}}),n}function Ux(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}function qx(e,t){return[e,"project",t,"epics"]}CE(kS,[{key:"createRenderer",value:function(n,e){var r,i,o=this,t=this.delegate.createRenderer(n,e);return n&&e&&e.data&&e.data.animation?(r=e.id,i=e.id+"-"+this._currentId,this._currentId++,this.engine.register(i,n),e.data.animation.forEach(function e(t){Array.isArray(t)?t.forEach(e):o.engine.registerTrigger(r,i,n,t.name,t)}),new oS(this,i,t,this.engine)):((e=this._rendererCache.get(t))||(e=new iS("",t,this.engine),this._rendererCache.set(t,e)),e)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;0<=e&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){e=kE(e,2);(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),(Wx=kS).fac=function(e){return new(e||Wx)(l(ns),l(cx),l(I))},Wx.prov=r({token:Wx,factory:Wx.fac});var Wx,$x,Kx,Gx,Zx,Jx,Qx,Yx,Xx,eS,tS,nS,rS=Wx,iS=(CE(yS,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),yS),oS=(xE(mS,iS),nS=SE(mS),CE(mS,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o,a,s,l=this;return"@"==t.charAt(0)?(o=(e=>{switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}})(e),s="","@"!=(a=t.substr(1)).charAt(0)&&(r=(i=a).indexOf("."),a=(i=kE([i.substring(0,r),i.substr(r+1)],2))[0],s=i[1]),this.engine.listen(this.namespaceId,o,a,s,function(e){l.factory.scheduleListenerCallback(e._data||-1,n,e)})):this.delegate.listen(e,t,n)}}]),mS),b2=(xE(vS,cx),tS=SE(vS),($x=vS).fac=function(e){return new(e||$x)(l(Yc),l(P2),l(EC))},$x.prov=r({token:$x,factory:$x.fac}),$x),y2=[{provide:P2,useFactory:function(){return new("function"==typeof Nx()?Ax:Ex)}},{provide:new c("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:P1,useClass:k2},{provide:EC,useFactory:function(){return new PC}},{provide:cx,useClass:b2},{provide:ns,useFactory:function(e,t,n){return new rS(e,t,n)},deps:[jh,cx,I]}],m2=((Qx=function e(){wE(this,e)}).mod=s({type:Qx}),Qx.inj=t({factory:function(e){return new(e||Qx)},providers:y2,imports:[ph]}),Qx),k2=((Jx=function e(){wE(this,e)}).mod=s({type:Jx}),Jx.inj=t({factory:function(e){return new(e||Jx)},imports:[[N,ec,gm,zh.forChild([]),ph,m2,hm]]}),Jx),aS=(CE(gS,[{key:"setState",value:function(e){this.state.next(Object.assign(Object.assign({},this.state.value),e))}},{key:"getInjector",value:function(){return this.injector||(this.injector=this.angularBody().injector()),this.injector}},{key:"getTranslationTable",value:function(e){return this.getInjector().get("$translate").getTranslationTable(e)}},{key:"angularBody",value:function(){return window.angular.element("body")}},{key:"whenAngularReady",value:function(){var n=this,r=this.angularBody();return this.ready?Promise.resolve():new Promise(function(t){!function e(){requestAnimationFrame(function(){(r.injector()?(n.ready=!0,t):e)()})}()})}}]),(Zx=gS).fac=function(e){return new(e||Zx)},Zx.prov=r({token:Zx,factory:Zx.fac}),Zx),b2=((Gx=function e(){wE(this,e)}).mod=s({type:Gx}),Gx.inj=t({factory:function(e){return new(e||Gx)},providers:[aS],imports:[[ec,k2]]}),Gx),jh=(CE(pS,[{key:"ngOnInit",value:function(){var r=this,e=new id({type:"INIT",value:null}),t=(e.subscribe(function(e){"SET_DETAIL_OBJ"===e.type&&r.legacyService.setState({detailObj:Cy.objKeysTransformer(e.value,by)})}),f.create({providers:[{provide:W0,deps:[]}]}));window.legacyChannel=e,window.angularDataConversion=function(){return t.get(W0)},this.router.events.pipe(Qp(function(e){return e instanceof yk})).subscribe(function(e){var t=r.legacyService.getInjector().get("$location"),n=r.legacyService.getInjector().get("$rootScope");t.path()!==e.url&&((e=e.url).startsWith(r.baseHref)&&(e=e.replace(r.baseHref,"/")),t.url(e)),n.$applyAsync()}),this.legacyService.whenAngularReady().then(function(){var e=r.legacyService.getInjector().get("$location");r.legacyService.getInjector().get("$rootScope").$on("$routeChangeSuccess",function(){r.router.navigateByUrl(e.path()),r.legacyService.setState({detailObj:void 0})})})}},{key:"baseHref",get:function(){var e;return null!=(e=this.config._config.baseHref)?e:"/"}},{key:"translations",set:function(e){this.translate.setTranslation(e.lan,e.translationTable),this.translate.use(e.lan)}}]),(Kx=pS).fac=function(e){return new(e||Kx)(k($1),k(uw),k(aS),k(km))},Kx.cmp=un({type:Kx,selectors:[["tg-legacy"]],inputs:{translations:"translations"},decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Kx),sS=(CE(fS,[{key:"call",value:function(e,t){var e=new lS(e),n=ze(this.notifier,new je(e));return n&&!e.seenValue?(e.add(n),t.subscribe(e)):e}}]),fS),lS=(xE(dS,De),eS=SE(dS),CE(dS,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),dS),y2=((Yx=function e(){wE(this,e)}).fac=function(e){return new(e||Yx)},Yx.cmp=un({type:Yx,selectors:[["tg-svg-sprite"]],decls:41,vars:0,consts:[[0,"xmlns","dc","http://purl.org/dc/elements/1.1/",0,"xmlns","cc","http://creativecommons.org/ns#",0,"xmlns","rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#",0,"xmlns","svg","http://www.w3.org/2000/svg","xmlns","http://www.w3.org/2000/svg","version","1.1"],["id","loading","viewBox","0 0 106.2 104.3"],["d","M78.6 10.4c-2.8 2.2-9.9 9.4-11.9 12-6.5 8.2-3.5 5.1-3.7-2.9V17c.2-3.8-1-9.7-2.9-14.1-1.6-4.4-4.9-3-6.7-.8a32 32 0 00-5.7 17.4c-.1 3 0 5.4.3 8.3l-1.9-4.4c-4-9-6.7-13-10-14.4-2.6-1-5.6-.8-7.4 2.1-.7 9.6 5.9 18.2 8.9 27.4 0 .3-.7 0-2.7-1-4-2.1-14-6.8-17.4-7.7-3.8-1-14.5-1.9-9 5.7A82 82 0 0029.6 52c0 .1-1.8.6-3.9 1A64.7 64.7 0 008 58.2c-3.4 1.5-11 3-6.8 7.2 1.5 1.6 1.8 1.8 3.6 2.3 7.3 1.8 18.1-2.2 27-3.5-3.3 2.6-8 6.5-14.1 11.7a19.8 19.8 0 00-4.6 6.2c-2.2 4.6-5.4 10.3 2.4 10.8 2.4 0 8.2-2.7 11.3-5.2 2-1.7 4.6-3 6.7-5 2.3-2 2.3-1.8-.2 4.2-2.6 6.1-3 8.4-2.8 12.1.2 3.8 2.7 5.8 6.6 5 1.5-.4 2.1-1.1 5-5.3 2-2.8 4-5.8 5.6-9.2.9-1.4 2.1-3.8 2.8-5.4 1-2.4 1.2-2.8 1.6-2.7.3.1.6.8.7 1.5.5 3.5 4.7 12.7 6.8 15.3 4.6 6.5 11.6 8 13-.4.1-5.8-3.4-13.3-5.4-18.8-1-2.2-1.2-2.6-.5-2 .4.4 2.9 1.6 5.4 2.8 4.3 2 5 2.1 8.4 2.7 4.8.8 7.8.7 10.6-.3 2-.8 2.3-1 2.8-2.2.5-1.1.5-1.5-.3-2.9-1.6-3-4.6-5.4-7.1-7.6a80 80 0 01-3.5-2.3L79.3 65c-.7 0-.7-1 0-.7.6.3 4.7.1 7.8-.2 2.5-.1 5-.7 6.9-1.2 6-1.5 11.7-4 12.1-5.7.7-2.9-2.4-3.3-4.2-4.4a50.7 50.7 0 00-19.5-5.4c-2.9 0-3-.3-.8-1.3 6.3-3 13.2-8 17-12.2 1.9-2.3 2-2.8 1-4-1.5-1.6-3.2-1.9-8.3-1.2-3.7.5-8.8 2.2-12.3 3.9-.4.2-1.3.5-.4-.5 1.6-1.6 3.1-3.5 4-4.6 4-4.7 6.4-11 6-14.8-1.9-6-6.8-4.8-10-2.3zm5.4 1.5c.8.3 1.2 1.4.7 3.2-.8 6.5-8.6 16.4-17.9 22.8-2.3 1.1-4.2 3.8-5.3 5-3.5 4.1 0 8.7 3 4.5 1-1.5 3-3.2 6.7-6 5.7-4.6 6.4-5 11.2-7 4-1.8 9-3.2 12.9-3 1.6.7-8.1 7.7-14.5 11.6-6.3 3.3-9.8 5.2-11 5.6-3.7 1.6-5.1 2.5-5.3 3.6-.3 1.3.6 1.3 3.9 0a46.6 46.6 0 0116.2-2c3-.2 14 3.4 17 6 0 2.2-4.3 3-6.8 3.8A67.5 67.5 0 0164 58.6c-.3-.2-.7-1.2-1-2.5a27 27 0 00-1.5-5.2 12.8 12.8 0 00-4.7-3.9c-1.2-.8-3.4-1.4-5.4-1.4-4.2 0-.7.4-.3-2.3l.5-3.8c.6-4.2-.5-8.8-.5-13.3-.4-7.6 0-11.2 1.8-16.2 1.2-3.3 3.5-8.5 4.9-.9 1.1 4.4 1.3 9.8 1.4 14.4.2 4.7-1.8 9.3-3 13.8-1 2.9-.7 2.5-1.2 4.7.2 2.9 1.6 2 4.3-2.2 1.8-3.7 4.4-7.3 6.7-11 4.2-6 8.6-10.7 15-16.2 1.1-.8 2.2-1 2.9-.7zm-50.3.3c.5.3 1.3 1 2.3 2.1 2 2.2 2.5 3 5.3 9.4 3.4 7.9 4.4 10.4 5.2 14.3.5 2.2.9 3.4 1.7 5.4.7 1.5 1.3 1.6-.6 1.9-3.6.6-6.4 2.3-7.7 5.7l-1 2.5-1-.6c-1.3-.8-3-.7-4.4-.8-.3 0-.7-.4-.8-.8 1-1.3-15.5-12.4-19.1-16.1-2.4-1.4-2-3.2.3-2.5 5 .3 20.3 6.9 24.3 10.5 1 1 .8.5 2.2 1.8 1.8 1.5 3.5 1 2.9-2.3-4-8-7.3-16.5-10-24.4-1-3-1.6-7 .4-6zm21.6 36.2c1.3.6 2.8 2 3.2 3.1.2.5.4 1.8.5 3 .5 4.9-2.7 7.9-8.2 7.9-4.5 0-6.4-1.6-7.3-5.7-.5-2.8 1.5-6.3 4.7-7.8 1.6-.8 5.7-1 7-.5zm2.3 3.3l-1-.2c-1.1-.1-1.7.3-1.4 1 .3.5 1.9 1 2.5.7.5-.3.6-.4.3-1a1 1 0 00-.4-.5zm.6 3.7c-.7-.4-3.2-.2-3.5.3-.2.5 0 1.6.6 2.1.8.6 1.1.7 1.7.5.9-.4 1.8-2.4 1.4-2.8h-.2zm14 8.9c1.7.7 3.6 1.8 6.3 3.4 2 1.3 4.4 2.8 6.4 4.7 2.2 1.8 4.8 5.3 4.7 6.3-.4 2.6-9.7.8-10.7.5-6.7-2-16.4-9-20.7-14.4 1.9-1 2.8-2.1 4.4-3.8l2.2.8c1.2.5 3.2 1.1 4.6 1.5 1 .2 1.9.5 2.9 1zm-24.8-10a3 3 0 00-1.4 0c-1.3.2-1.9 1.5-1.5 3.3.3 1.5.9 1.9 1.8 1.1.9-.8.7-.3 1.2.7.3.7.8 1.3 1 1.4.8.4 1.8-.8 1.8-1.9-.1-1.2-1-1.8-2.1-1.6-1.5.2-1.4 0-.8-1.4.4-1 .4-1.4 0-1.6zm5.9 3.6c-.4-.2-.9-.2-1.5-.2-1.3 0-1.3.3-.6 2 .8 1.7.8 1.7 1.9 1.4 1-.1 1.6-1 1.1-2.2-.2-.5-.5-.8-1-1zm-14.8-2c.3.2.5.6 1.1 2 1.3 3 3.2 5.2 5.6 6.5l2 1c-1.7 1.3-3 2.6-4.2 4.5-4.8 6.9-14.7 11.6-21.4 17.3-1 .8-6.7 4.1-6.7 1.3a30.7 30.7 0 0111.9-16.1c1.2-1 6.4-6.2 7.4-7.1 1.3-1.2 6.8-7 1-5.4-7.3 2.4-21.5 6-29.6 4.7-1.6-.9-1-1.6 3-3.4A82 82 0 0127 55.8c3.3-.7 8.1-.8 9.8-.2 1 .3 1.3.2 1.6.3zm15.6 10.2c4.9 2 9.5 13 11 17a32 32 0 012.6 15.8c-.4 2.4-6-4-6.8-6.4A57.5 57.5 0 0154.3 70c-.3-1.8-1.8-3-3.6-.9-1 1.5.1 3.7-.4 5.6-.5 1.6-5.6 13.7-6.2 14.6-2.1 3.1-3.5 6.1-6.3 9-3.1 3.6-3.3 1-3.1-3.4a63.6 63.6 0 0115.7-27.7c.8-1.1 1.1-1.3 2.8-1.4l1 .3z"],["id","epic","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M12.085 2.00006C12.3896 2.00008 12.6681 2.17217 12.8044 2.44462L19.1189 15.0645C19.1215 15.0696 19.1241 15.0747 19.1266 15.0798L21.9896 20.8017C22.1143 21.0509 22.1012 21.3468 21.9549 21.584C21.8087 21.8212 21.5502 21.9658 21.2715 21.9663L2.88072 22.0001C2.60154 22.0006 2.34205 21.8563 2.19511 21.6189C2.04817 21.3816 2.03479 21.085 2.15975 20.8353L6.07598 13.0116C6.07806 13.0073 6.08017 13.0031 6.08233 12.9989L11.3654 2.44451C11.5018 2.17208 11.7803 2.00004 12.085 2.00006ZM7.13312 14.4947L4.18296 20.3885L19.969 20.3595L17.8052 16.0351L13.4221 13.879L10.0828 15.7644C9.8329 15.9056 9.52669 15.9028 9.27928 15.7573L7.13312 14.4947ZM16.6149 13.6562L12.0847 4.60247L7.85507 13.0524L9.69551 14.1351L13.0007 12.269C13.232 12.1384 13.513 12.1304 13.7514 12.2477L16.6149 13.6562Z"],["id","agile","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.29304 12.4145C1.68357 12.024 2.31673 12.024 2.70726 12.4145L4.19058 13.8978L5.60506 12.4833C5.99558 12.0928 6.62875 12.0928 7.01927 12.4833C7.40979 12.8738 7.40979 13.507 7.01927 13.8975L4.89769 16.0191C4.50716 16.4096 3.874 16.4096 3.48347 16.0191L1.29304 13.8287C0.90252 13.4382 0.90252 12.805 1.29304 12.4145Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.06982 10.6056C3.31806 8.6866 4.18066 6.89887 5.52813 5.51177C6.87565 4.12462 8.63548 3.21293 10.5429 2.91509C12.4505 2.61724 14.4017 2.94956 16.1023 3.86216C17.8028 4.77475 19.1599 6.21771 19.9696 7.97284C20.7793 9.72789 20.998 11.7001 20.5936 13.5925C20.1891 15.4849 19.1832 17.1959 17.7268 18.4675C17.0873 19.0259 16.4256 19.5948 15.589 20.0022C14.7279 20.4215 13.7404 20.645 12.4444 20.645C11.8921 20.645 11.4444 20.1973 11.4444 19.645C11.4444 19.0927 11.8921 18.645 12.4444 18.645C13.4937 18.645 14.1719 18.4678 14.7134 18.2041C15.2794 17.9284 15.7574 17.5319 16.4114 16.961C17.5419 15.9739 18.3234 14.645 18.6377 13.1745C18.952 11.704 18.7819 10.1724 18.1536 8.81069C17.5254 7.44903 16.4733 6.33106 15.1566 5.62445C13.8399 4.91785 12.3291 4.66043 10.8515 4.89115C9.37384 5.12187 8.00885 5.82842 6.96269 6.90535C5.91647 7.98233 5.24618 9.37105 5.05329 10.8622C4.95357 11.6331 4.95125 12.5807 4.97825 13.3631C4.99155 13.7485 5.01151 14.0827 5.0281 14.3199C5.03639 14.4383 5.0438 14.5321 5.04907 14.5956L5.05521 14.6672L5.05677 14.6845L5.05711 14.6883C5.10879 15.2381 4.70507 15.7263 4.15526 15.778C3.60541 15.8298 3.11771 15.426 3.06596 14.8761L4.06155 14.7824C3.06596 14.8761 3.06596 14.8762 3.06596 14.8761L3.06568 14.8732L3.06509 14.8668L3.06305 14.8442L3.05594 14.7612C3.05002 14.6899 3.04192 14.5873 3.03298 14.4594C3.0151 14.2039 2.99371 13.8457 2.97944 13.4321C2.9513 12.6165 2.94897 11.5399 3.06982 10.6056Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.5005 19.657C13.5005 20.2093 13.0528 20.6571 12.5005 20.6571L2.0005 20.6571C1.44822 20.6571 1.0005 20.2094 1.0005 19.6571C1.0005 19.1048 1.44821 18.6571 2.0005 18.6571L12.5005 18.6571C13.0528 18.6571 13.5005 19.1048 13.5005 19.657Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M22.9997 19.6571C22.9997 20.2094 22.5519 20.6571 21.9997 20.6571L19.9995 20.6571C19.4472 20.657 18.9995 20.2093 18.9995 19.657C18.9996 19.1047 19.4473 18.657 19.9996 18.6571L21.9997 18.6571C22.552 18.6571 22.9997 19.1049 22.9997 19.6571Z"],["id","kanban5","viewBox","0 0 23 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M4.77568 4C4.31553 4 3.86523 4.40405 3.86523 5V19C3.86523 19.5959 4.31553 20 4.77568 20H18.1488C18.609 20 19.0593 19.5959 19.0593 19V5C19.0593 4.40405 18.609 4 18.1488 4H4.77568ZM1.86523 5C1.86523 3.38681 3.12561 2 4.77568 2H18.1488C19.7989 2 21.0593 3.38681 21.0593 5V19C21.0593 20.6132 19.7989 22 18.1488 22H4.77568C3.12561 22 1.86523 20.6132 1.86523 19V5Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M8.59668 2C9.14896 2 9.59668 2.44772 9.59668 3V21C9.59668 21.5523 9.14896 22 8.59668 22C8.04439 22 7.59668 21.5523 7.59668 21V3C7.59668 2.44772 8.04439 2 8.59668 2Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M14.3281 2C14.8804 2 15.3281 2.44772 15.3281 3V21C15.3281 21.5523 14.8804 22 14.3281 22C13.7758 22 13.3281 21.5523 13.3281 21V3C13.3281 2.44772 13.7758 2 14.3281 2Z"],["id","issue","viewBox","0 0 23 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.68682 4C6.46052 4 6.23368 4.09369 6.05903 4.27652C5.8829 4.46091 5.77637 4.72038 5.77637 5V19.0036L10.8641 15.1991C11.2192 14.9336 11.7067 14.9336 12.0618 15.1991L17.1495 19.0036V5C17.1495 4.72038 17.043 4.46091 16.8668 4.27652C16.6922 4.09369 16.4654 4 16.2391 4H6.68682ZM4.61281 2.89505C5.15473 2.32774 5.89975 2 6.68682 2H16.2391C17.0261 2 17.7711 2.32774 18.3131 2.89505C18.8535 3.46081 19.1495 4.21875 19.1495 5V21C19.1495 21.3785 18.9358 21.7246 18.5974 21.8941C18.2589 22.0636 17.8538 22.0275 17.5506 21.8009L11.4629 17.2487L5.37522 21.8009C5.07209 22.0275 4.66695 22.0636 4.32851 21.8941C3.99008 21.7246 3.77637 21.3785 3.77637 21V5C3.77637 4.21876 4.07239 3.46081 4.61281 2.89505Z"],["id","search","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M11 4C7.13401 4 4 7.13401 4 11C4 14.866 7.13401 18 11 18C14.866 18 18 14.866 18 11C18 7.13401 14.866 4 11 4ZM2 11C2 6.02944 6.02944 2 11 2C15.9706 2 20 6.02944 20 11C20 15.9706 15.9706 20 11 20C6.02944 20 2 15.9706 2 11Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M15.9433 15.9428C16.3338 15.5523 16.967 15.5523 17.3575 15.9428L21.7075 20.2928C22.098 20.6833 22.098 21.3165 21.7075 21.707C21.317 22.0975 20.6838 22.0975 20.2933 21.707L15.9433 17.357C15.5528 16.9665 15.5528 16.3333 15.9433 15.9428Z"],["id","video","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M23.4792 7.12229C23.8003 7.29758 24 7.63419 24 8V17C24 17.3658 23.8003 17.7024 23.4792 17.8777C23.1581 18.053 22.767 18.039 22.4592 17.8412L15.4592 13.3412C15.173 13.1572 15 12.8403 15 12.5C15 12.1597 15.173 11.8428 15.4592 11.6588L22.4592 7.15882C22.767 6.96101 23.1581 6.947 23.4792 7.12229ZM17.8493 12.5L22 15.1683V9.83167L17.8493 12.5Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M4.73333 7C4.39219 7 4 7.31765 4 7.85714V17.1429C4 17.6823 4.39219 18 4.73333 18H14.2667C14.6078 18 15 17.6823 15 17.1429V7.85714C15 7.31765 14.6078 7 14.2667 7H4.73333ZM2 7.85714C2 6.34529 3.15989 5 4.73333 5H14.2667C15.8401 5 17 6.34529 17 7.85714V17.1429C17 18.6547 15.8401 20 14.2667 20H4.73333C3.15989 20 2 18.6547 2 17.1429V7.85714Z"],["id","book","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.5 18C6.10217 18 5.72064 18.158 5.43934 18.4393C5.15804 18.7206 5 19.1022 5 19.5C5 20.0523 4.55228 20.5 4 20.5C3.44772 20.5 3 20.0523 3 19.5C3 18.5717 3.36875 17.6815 4.02513 17.0251C4.6815 16.3687 5.57174 16 6.5 16H20C20.5523 16 21 16.4477 21 17C21 17.5523 20.5523 18 20 18H6.5Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.5 3C6.10217 3 5.72064 3.15804 5.43934 3.43934C5.15804 3.72064 5 4.10218 5 4.5V19.5C5 19.8978 5.15804 20.2794 5.43934 20.5607C5.72064 20.842 6.10217 21 6.5 21H19V3H6.5ZM6.5 1H20C20.5523 1 21 1.44772 21 2V22C21 22.5523 20.5523 23 20 23H6.5C5.57174 23 4.6815 22.6313 4.02513 21.9749C3.36875 21.3185 3 20.4283 3 19.5V4.5C3 3.57174 3.36875 2.6815 4.02513 2.02513C4.6815 1.36875 5.57174 1 6.5 1Z"],["id","users","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.46447 15.4645C2.40215 14.5268 3.67392 14 5 14H13C14.3261 14 15.5979 14.5268 16.5355 15.4645C17.4732 16.4021 18 17.6739 18 19V21C18 21.5523 17.5523 22 17 22C16.4477 22 16 21.5523 16 21V19C16 18.2044 15.6839 17.4413 15.1213 16.8787C14.5587 16.3161 13.7956 16 13 16H5C4.20435 16 3.44129 16.3161 2.87868 16.8787C2.31607 17.4413 2 18.2044 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 17.6739 0.526784 16.4021 1.46447 15.4645Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M9 4C7.34315 4 6 5.34315 6 7C6 8.65685 7.34315 10 9 10C10.6569 10 12 8.65685 12 7C12 5.34315 10.6569 4 9 4ZM4 7C4 4.23858 6.23858 2 9 2C11.7614 2 14 4.23858 14 7C14 9.76142 11.7614 12 9 12C6.23858 12 4 9.76142 4 7Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M19.032 14.8801C19.1701 14.3454 19.7155 14.0238 20.2502 14.1619C21.3229 14.4388 22.2732 15.0642 22.9519 15.9398C23.6307 16.8153 23.9994 17.8915 24.0002 18.9994L24.0002 21.0001C24.0002 21.5524 23.5525 22.0001 23.0002 22.0001C22.448 22.0001 22.0002 21.5524 22.0002 21.0001L22.0002 19.0009C22.0002 19.0008 22.0002 19.001 22.0002 19.0009C21.9997 18.3363 21.7784 17.6904 21.3713 17.1651C20.964 16.6398 20.3938 16.2645 19.7502 16.0984C19.2155 15.9603 18.8939 15.4149 19.032 14.8801Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M15.0315 2.88208C15.1685 2.34706 15.7133 2.02439 16.2483 2.16137C17.3238 2.43675 18.2771 3.06225 18.9578 3.93926C19.6386 4.81627 20.0081 5.89491 20.0081 7.00512C20.0081 8.11534 19.6386 9.19397 18.9578 10.071C18.2771 10.948 17.3238 11.5735 16.2483 11.8489C15.7133 11.9859 15.1685 11.6632 15.0315 11.1282C14.8945 10.5931 15.2172 10.0484 15.7522 9.91137C16.3975 9.74615 16.9695 9.37085 17.3779 8.84464C17.7864 8.31843 18.0081 7.67125 18.0081 7.00512C18.0081 6.339 17.7864 5.69181 17.3779 5.16561C16.9695 4.6394 16.3975 4.2641 15.7522 4.09887C15.2172 3.96189 14.8945 3.41711 15.0315 2.88208Z"],["id","settings","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10ZM8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 2C11.7348 2 11.4804 2.10536 11.2929 2.29289C11.1054 2.48043 11 2.73478 11 3V3.17399C10.9979 3.6908 10.8448 4.19572 10.5594 4.62661C10.2741 5.0575 9.86895 5.39555 9.39393 5.59914C9.30937 5.63538 9.22042 5.65969 9.12961 5.67157C8.69797 5.82272 8.23332 5.85997 7.781 5.77796C7.26 5.68349 6.77925 5.43512 6.40073 5.06486L6.39285 5.05715L6.33289 4.99711C6.24002 4.90413 6.12934 4.82998 6.00794 4.77965C5.88654 4.72933 5.75641 4.70343 5.625 4.70343C5.49358 4.70343 5.36346 4.72933 5.24206 4.77965C5.12066 4.82998 5.01037 4.90374 4.9175 4.99671L4.91671 4.9975C4.82374 5.09037 4.74998 5.20066 4.69965 5.32206C4.64933 5.44346 4.62343 5.57358 4.62343 5.705C4.62343 5.83641 4.64933 5.96654 4.69965 6.08794C4.74998 6.20934 4.82374 6.31963 4.91671 6.4125L4.98491 6.48069C5.35516 6.85921 5.60349 7.34 5.69796 7.861C5.79055 8.37163 5.73113 8.89796 5.52745 9.37477C5.34189 9.86133 5.01698 10.2827 4.59305 10.5859C4.16054 10.8952 3.64498 11.0673 3.11338 11.0797L3.09 11.08H3C2.73478 11.08 2.48043 11.1854 2.29289 11.3729C2.10536 11.5604 2 11.8148 2 12.08C2 12.3452 2.10536 12.5996 2.29289 12.7871C2.48043 12.9746 2.73478 13.08 3 13.08H3.17399C3.6908 13.0821 4.19572 13.2352 4.62661 13.5206C5.05602 13.8049 5.39322 14.2083 5.59703 14.6812C5.80908 15.1643 5.87211 15.6998 5.77796 16.219C5.68349 16.74 5.43512 17.2207 5.06486 17.5993L5.05715 17.6072L4.9971 17.6671C4.90413 17.76 4.82998 17.8707 4.77965 17.9921C4.72933 18.1135 4.70343 18.2436 4.70343 18.375C4.70343 18.5064 4.72933 18.6365 4.77965 18.7579C4.82998 18.8793 4.90374 18.9896 4.99671 19.0825L4.9975 19.0833C5.09037 19.1763 5.20066 19.25 5.32206 19.3003C5.44346 19.3507 5.57358 19.3766 5.705 19.3766C5.83641 19.3766 5.96654 19.3507 6.08794 19.3003C6.20934 19.25 6.31963 19.1763 6.4125 19.0833L6.48069 19.0151C6.85921 18.6448 7.34 18.3965 7.861 18.302C8.37162 18.2095 8.89796 18.2689 9.37476 18.4725C9.86132 18.6581 10.2827 18.983 10.5859 19.407C10.8952 19.8395 11.0673 20.355 11.0797 20.8866L11.08 20.91V21C11.08 21.2652 11.1854 21.5196 11.3729 21.7071C11.5604 21.8946 11.8148 22 12.08 22C12.3452 22 12.5996 21.8946 12.7871 21.7071C12.9746 21.5196 13.08 21.2652 13.08 21V20.83L13.08 20.826C13.0821 20.3092 13.2352 19.8043 13.5206 19.3734C13.805 18.9439 14.2083 18.6067 14.6813 18.4029C15.1644 18.1909 15.6998 18.1279 16.219 18.222C16.74 18.3165 17.2207 18.5649 17.5993 18.9351L17.6071 18.9428L17.6671 19.0029C17.76 19.0959 17.8707 19.17 17.9921 19.2203C18.1135 19.2707 18.2436 19.2966 18.375 19.2966C18.5064 19.2966 18.6365 19.2707 18.7579 19.2203C18.8793 19.17 18.9896 19.0963 19.0825 19.0033L19.0833 19.0025C19.1763 18.9096 19.25 18.7993 19.3003 18.6779C19.3507 18.5565 19.3766 18.4264 19.3766 18.295C19.3766 18.1636 19.3507 18.0335 19.3003 17.9121C19.25 17.7907 19.1763 17.6804 19.0833 17.5875L19.0151 17.5193C18.6448 17.1408 18.3965 16.66 18.302 16.139C18.2079 15.6197 18.2709 15.0842 18.483 14.6011C18.6868 14.1282 19.024 13.7249 19.4534 13.4406C19.8843 13.1552 20.3892 13.0021 20.906 13L20.91 13L21 13C21.2652 13 21.5196 12.8946 21.7071 12.7071C21.8946 12.5196 22 12.2652 22 12C22 11.7348 21.8946 11.4804 21.7071 11.2929C21.5196 11.1054 21.2652 11 21 11H20.83L20.826 11C20.3092 10.9979 19.8043 10.8448 19.3734 10.5594C18.9425 10.2741 18.6044 9.86896 18.4009 9.39393C18.3646 9.30938 18.3403 9.22042 18.3284 9.12961C18.1773 8.69798 18.14 8.23333 18.222 7.781C18.3165 7.26 18.5649 6.77925 18.9351 6.40073L18.9428 6.39285L19.0029 6.3329C19.0959 6.24002 19.17 6.12934 19.2203 6.00794C19.2707 5.88654 19.2966 5.75641 19.2966 5.625C19.2966 5.49359 19.2707 5.36346 19.2203 5.24206C19.17 5.12066 19.0963 5.01037 19.0033 4.9175L19.0025 4.91671C18.9096 4.82374 18.7993 4.74998 18.6779 4.69965C18.5565 4.64933 18.4264 4.62343 18.295 4.62343C18.1636 4.62343 18.0335 4.64933 17.9121 4.69965C17.7907 4.74998 17.6804 4.82374 17.5875 4.91671L17.5193 4.98491C17.1408 5.35516 16.66 5.60349 16.139 5.69796C15.6198 5.79211 15.0843 5.72908 14.6012 5.51703C14.1283 5.31323 13.7249 4.97602 13.4406 4.54661C13.1552 4.11572 13.0021 3.6108 13 3.09399L13 3.09V3C13 2.73478 12.8946 2.48043 12.7071 2.29289C12.5196 2.10536 12.2652 2 12 2ZM19.3999 15L20.3149 15.4038C20.2624 15.5226 20.2468 15.6544 20.2699 15.7822C20.2929 15.9086 20.3527 16.0253 20.4419 16.1177L20.4967 16.1725C20.7756 16.4511 20.9969 16.782 21.1479 17.1462C21.2989 17.5104 21.3766 17.9008 21.3766 18.295C21.3766 18.6892 21.2989 19.0796 21.1479 19.4438C20.997 19.8078 20.7758 20.1386 20.4971 20.4171C20.2186 20.6958 19.8878 20.917 19.5238 21.0679C19.1596 21.2189 18.7692 21.2966 18.375 21.2966C17.9807 21.2966 17.5904 21.2189 17.2262 21.0679C16.862 20.9169 16.5311 20.6956 16.2525 20.4167L16.1977 20.3619C16.1053 20.2727 15.9886 20.2129 15.8622 20.19C15.7344 20.1668 15.6026 20.1824 15.4838 20.2349L15.474 20.2392C15.3574 20.2891 15.258 20.372 15.188 20.4777C15.1184 20.5829 15.0808 20.7062 15.08 20.8324V21C15.08 21.7956 14.7639 22.5587 14.2013 23.1213C13.6387 23.6839 12.8756 24 12.08 24C11.2843 24 10.5213 23.6839 9.95868 23.1213C9.39607 22.5587 9.08 21.7956 9.08 21V20.9244C9.07526 20.7972 9.03327 20.6741 8.95914 20.5704C8.88326 20.4644 8.77723 20.3836 8.65482 20.3385C8.63505 20.3313 8.61551 20.3234 8.59623 20.3149C8.47742 20.2624 8.34561 20.2468 8.21782 20.27C8.09144 20.2929 7.97472 20.3527 7.88235 20.4419L7.8275 20.4967C7.82737 20.4968 7.82763 20.4966 7.8275 20.4967C7.54896 20.7755 7.21784 20.997 6.85382 21.1479C6.48963 21.2989 6.09925 21.3766 5.705 21.3766C5.31075 21.3766 4.92037 21.2989 4.55618 21.1479C4.19199 20.9969 3.86112 20.7756 3.5825 20.4967C3.30394 20.2183 3.08294 19.8877 2.93211 19.5238C2.78113 19.1596 2.70343 18.7692 2.70343 18.375C2.70343 17.9808 2.78113 17.5904 2.93211 17.2262C3.08301 16.8622 3.30415 16.5314 3.5829 16.2529C3.58303 16.2528 3.58276 16.253 3.5829 16.2529L3.63811 16.1977C3.72728 16.1053 3.78713 15.9886 3.81005 15.8622C3.83322 15.7344 3.81758 15.6026 3.76514 15.4838L3.76081 15.474C3.71087 15.3574 3.62801 15.258 3.52232 15.1881C3.41704 15.1183 3.29374 15.0808 3.1675 15.08H3C2.20435 15.08 1.44129 14.7639 0.878679 14.2013C0.316071 13.6387 0 12.8756 0 12.08C0 11.2843 0.316071 10.5213 0.878679 9.95868C1.44129 9.39607 2.20435 9.08 3 9.08H3.07564C3.20283 9.07526 3.32591 9.03327 3.42955 8.95914C3.53564 8.88327 3.61644 8.77723 3.66146 8.65482C3.66874 8.63505 3.67663 8.61551 3.68514 8.59623C3.73758 8.47742 3.75322 8.34561 3.73005 8.21782C3.70713 8.09142 3.64727 7.97467 3.55809 7.8823L3.50329 7.8275C3.50315 7.82737 3.50342 7.82763 3.50329 7.8275C3.22454 7.54896 3.00301 7.21784 2.85211 6.85382C2.70113 6.48963 2.62343 6.09925 2.62343 5.705C2.62343 5.31075 2.70113 4.92037 2.85211 4.55618C3.00301 4.19216 3.22415 3.86143 3.50289 3.58289C3.78143 3.30415 4.11216 3.08301 4.47618 2.93211C4.84037 2.78113 5.23075 2.70343 5.625 2.70343C6.01925 2.70343 6.40963 2.78113 6.77382 2.93211C7.13784 3.08301 7.46857 3.30415 7.74711 3.58289C7.74724 3.58302 7.74697 3.58276 7.74711 3.58289L7.8023 3.63809C7.89467 3.72728 8.01142 3.78713 8.13782 3.81005C8.26561 3.83322 8.39742 3.81758 8.51623 3.76514C8.58027 3.73687 8.64692 3.71549 8.71507 3.70122C8.78479 3.6539 8.84498 3.59323 8.89194 3.52232C8.96166 3.41704 8.99921 3.29374 9 3.1675V3C9 2.20435 9.31607 1.44129 9.87868 0.87868C10.4413 0.316071 11.2043 0 12 0C12.7956 0 13.5587 0.316071 14.1213 0.87868C14.6839 1.44129 15 2.20435 15 3V3.08765C15.0008 3.21384 15.0384 3.33708 15.108 3.44232C15.178 3.54801 15.2774 3.63092 15.3939 3.68086L15.4038 3.68508C15.5226 3.73752 15.6544 3.75322 15.7822 3.73005C15.9086 3.70713 16.0253 3.64728 16.1177 3.55811L16.1725 3.50329C16.4511 3.22436 16.782 3.00308 17.1462 2.85211C17.5104 2.70113 17.9007 2.62343 18.295 2.62343C18.6892 2.62343 19.0796 2.70113 19.4438 2.85211C19.8077 3.00294 20.1383 3.22394 20.4167 3.5025C20.6956 3.78112 20.9169 4.11198 21.0679 4.47618C21.2189 4.84037 21.2966 5.23075 21.2966 5.625C21.2966 6.01925 21.2189 6.40963 21.0679 6.77382C20.917 7.13784 20.6958 7.46857 20.4171 7.7471C20.417 7.74724 20.4172 7.74697 20.4171 7.7471L20.3619 7.80231C20.2727 7.89468 20.2129 8.01142 20.1899 8.13782C20.1668 8.26561 20.1824 8.39742 20.2349 8.51623C20.2631 8.58027 20.2845 8.64692 20.2988 8.71507C20.3461 8.78479 20.4068 8.84498 20.4777 8.89195C20.5829 8.96165 20.7062 8.99919 20.8324 9H21C21.7956 9 22.5587 9.31607 23.1213 9.87868C23.6839 10.4413 24 11.2043 24 12C24 12.7956 23.6839 13.5587 23.1213 14.1213C22.5587 14.6839 21.7956 15 21 15H20.9125C20.7863 15.0008 20.663 15.0383 20.5577 15.1081C20.452 15.178 20.3691 15.2774 20.3191 15.3939L19.3999 15Z"],["id","chevrons-left","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.7071 6.29289C12.0976 6.68342 12.0976 7.31658 11.7071 7.70711L7.41421 12L11.7071 16.2929C12.0976 16.6834 12.0976 17.3166 11.7071 17.7071C11.3166 18.0976 10.6834 18.0976 10.2929 17.7071L5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929L10.2929 6.29289C10.6834 5.90237 11.3166 5.90237 11.7071 6.29289Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.7071 6.29289C19.0976 6.68342 19.0976 7.31658 18.7071 7.70711L14.4142 12L18.7071 16.2929C19.0976 16.6834 19.0976 17.3166 18.7071 17.7071C18.3166 18.0976 17.6834 18.0976 17.2929 17.7071L12.2929 12.7071C11.9024 12.3166 11.9024 11.6834 12.2929 11.2929L17.2929 6.29289C17.6834 5.90237 18.3166 5.90237 18.7071 6.29289Z"],["id","chevron-left","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M8.29289 18.7071C7.90237 18.3166 7.90237 17.6834 8.29289 17.2929L13.5858 12L8.29289 6.70711C7.90237 6.31658 7.90237 5.68342 8.29289 5.29289C8.68342 4.90237 9.31658 4.90237 9.70711 5.29289L15.7071 11.2929C16.0976 11.6834 16.0976 12.3166 15.7071 12.7071L9.70711 18.7071C9.31658 19.0976 8.68342 19.0976 8.29289 18.7071Z"]],template:function(e,t){1&e&&(gr(),m(0,"svg",0),m(1,"title"),T(2,"Taiga SVG sprite"),y(),m(3,"defs"),m(4,"symbol",1),_(5,"path",2),y(),m(6,"symbol",3),_(7,"path",4),y(),m(8,"symbol",5),_(9,"path",6),_(10,"path",7),_(11,"path",8),_(12,"path",9),y(),m(13,"symbol",10),_(14,"path",11),_(15,"path",12),_(16,"path",13),y(),m(17,"symbol",14),_(18,"path",15),y(),m(19,"symbol",16),_(20,"path",17),_(21,"path",18),y(),m(22,"symbol",19),_(23,"path",20),_(24,"path",21),y(),m(25,"symbol",22),_(26,"path",23),_(27,"path",24),y(),m(28,"symbol",25),_(29,"path",26),_(30,"path",27),_(31,"path",28),_(32,"path",29),y(),m(33,"symbol",30),_(34,"path",31),_(35,"path",32),y(),m(36,"symbol",33),_(37,"path",34),_(38,"path",35),y(),m(39,"symbol",36),_(40,"path",37),y(),y(),y())},styles:["[_nghost-%COMP%] { display: none; }"],changeDetection:0}),Yx),cS=((N={}).viewEpics="view_epics",N.addEpic="add_epic",N.modifyEpic="modify_epic",N.commentEpic="comment_epic",N.deleteEpic="delete_epic",N.viewMilestones="view_milestones",N.addMilestone="add_milestone",N.modifyMilestone="modify_milestone",N.deleteMilestone="delete_milestone",N.viewUserstory="view_us",N.addUserstory="add_us",N.modifyUserstory="modify_us",N.commentUserstory="comment_us",N.deleteUserstory="delete_us",N.viewTasks="view_tasks",N.addTask="add_task",N.commentTask="comment_task",N.modifyTask="modify_task",N.deleteTask="delete_task",N.viewIssues="view_issues",N.addIssue="add_issue",N.commentIssue="comment_issue",N.modifyIssue="modify_issue",N.deleteIsue="delete_issue",N.viewWikiLinks="view_wiki_links",N.addWikiLink="add_wiki_link",N.modifyWikiLink="modify_wiki_link",N.deleteWikiLink="delete_wiki_link",N.viewWikiPages="view_wiki_pages",N.addWikiPage="add_wiki_page",N.modifyWikiPage="modify_wiki_page",N.commentWikiPage="comment_wiki_page",N.deleteWikiPage="delete_wiki_page",N.viewProject="view_project",N.modifyProject="modify_project",N.adminProjectValues="admin_project_values",N.deleteProject="delete_project",N.addMember="add_member",N.removeMember="remove_member",N.adminRoles="admin_roles",N),m2=j("zbeE"),uS=j.n(m2),ec=(CE(hS,[{key:"cartesianProduct",value:function(e,t){var n=[];return t.forEach(function(t){e.forEach(function(e){n.push([e,t])})}),n}},{key:"project",set:function(e){var t=e.logoBigUrl;(t="small"===this.logo?e.logoSmallUrl:t)?(this.src=t,this.bg=""):(t="".concat(e.slug,"-").concat(e.id),e=uS()(t,42).result()%this.logos.length,t=this.logos[e],e=window._version||"",this.src="".concat(e).concat(t[0]),this.bg=t[1])}}]),(Xx=hS).fac=function(e){return new(e||Xx)},Xx.dir=Pt({type:Xx,selectors:[["","tgProjectLogo",""]],hostVars:3,hostBindings:function(e,t){2&e&&(Wa("src",t.src,pi),Da("background",t.bg))},inputs:{logo:"logo",project:["tgProjectLogo","project"]}}),Xx);function hS(){wE(this,hS),this.bg="",this.src="",this.logo="small",this.imgs=["/images/project-logos/project-logo-01.png","/images/project-logos/project-logo-02.png","/images/project-logos/project-logo-03.png","/images/project-logos/project-logo-04.png","/images/project-logos/project-logo-05.png"],this.colors=["rgba(153, 214, 220, 1)","rgba(213, 156, 156, 1)","rgba(214, 161, 212, 1)","rgba(164, 162, 219, 1)","rgba(152, 224, 168, 1)"],this.logos=[],this.logos=this.cartesianProduct(this.imgs,this.colors)}function dS(e){return wE(this,dS),(e=eS.call(this,e)).seenValue=!1,e}function fS(e){wE(this,fS),this.notifier=e}function pS(e,t,n,r){wE(this,pS),this.translate=e,this.router=t,this.legacyService=n,this.config=r}function gS(){wE(this,gS),this.ready=!1,this.state=new id({}),this.legacyState=this.state.asObservable()}function vS(e,t,n){return wE(this,vS),tS.call(this,e.body,t,n)}function mS(e,t,n,r){return wE(this,mS),(n=nS.call(this,t,n,r)).factory=e,n.namespaceId=t,n}function yS(e,t,n){wE(this,yS),this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(e){return t.destroyNode(e)}:null}function kS(e,t,n){wE(this,kS),this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}function bS(e,t){var n;1&e&&(n=x(),m(0,"li",10),w("mouseenter",function(e){return h(n),E().popup(e,"epics")})("mouseleave",function(){return h(n),E().out()}),m(1,"a",15),A(2,"translate"),gr(),m(3,"svg"),_(4,"use",26),y(),vr(),m(5,"span",13),T(6),A(7,"translate"),y(),y(),y()),2&e&&(Fa("active","epics"===(e=E()).section)("active-dialog","epics"===e.dialog.type),d(1),Ma("title",P(2,7,"PROJECT.SECTION.EPICS")),v("routerLink",pl(11,qx,e.baseHref,e.project.slug)),d(5),qa(" ",P(7,9,"PROJECT.SECTION.EPICS")," "))}var _S=function(e,t,n){return[e,"project",t,"taskboard",n]};function wS(e,t){var n,r,i,o,a,s,l,c,u;1&e&&(m(0,"li",33),m(1,"a",36),m(2,"span",13),T(3),y(),y(),y()),2&e&&(e=t.$implicit,t=E().ngrxLet,c=E(2),d(1),Fa("active",e.id===t),v("routerLink",(t=_S,l=c.baseHref,c=c.project.slug,u=e.slug,n=x(),r=Xn(),t=t,a=u=u,s=_a(i=n,o=r+=5,l=l,c=c),ba(i,o+2,a)||s?n[r+3]=t(l,c,u):gl(n,r+3))),wa("title",e.name),d(2),qa(" ",e.name," "))}var CS=function(e,t){return[e,"project",t,"backlog"]};function xS(e,t){1&e&&(gr(),vr(),m(0,"ul",32),m(1,"li",33),m(2,"a",34),A(3,"translate"),m(4,"span",13),T(5),A(6,"translate"),y(),y(),y(),p(7,wS,4,9,"li",35),y()),2&e&&(e=t.ngrxLet,t=E(2),d(2),Fa("active",null===e),Ma("title",P(3,6,"PROJECT.SECTION.BACKLOG")),v("routerLink",pl(10,CS,t.baseHref,t.project.slug)),d(3),qa(" ",P(6,8,"PROJECT.SECTION.BACKLOG")," "),d(2),v("ngForOf",t.milestones))}function SS(e,t){var n;1&e&&(n=x(),m(0,"li",27),w("mouseenter",function(e){return h(n),E().popupScrum(e)})("mouseleave",function(){return h(n),E().out()}),m(1,"button",11),w("click",function(){return h(n),E().toggleScrum()}),A(2,"translate"),gr(),m(3,"svg"),_(4,"use",28),y(),vr(),m(5,"span",13),T(6),A(7,"translate"),y(),gr(),m(8,"svg",29),_(9,"use",30),y(),y(),p(10,xS,8,13,"ul",31),y()),2&e&&(Fa("active",(e=E()).scrumVisible)("active-dialog","scrum"===e.dialog.type||"backlog"===e.section&&e.scrumVisible),d(1),Ma("title",P(2,7,"PROJECT.SECTION.SCRUM")),d(5),qa(" ",P(7,9,"PROJECT.SECTION.SCRUM")," "),d(4),v("ngrxLet",e.milestoneId$))}function ES(e,t){return[e,"project",t,"kanban"]}function TS(e,t){var n;1&e&&(n=x(),m(0,"li",10),w("mouseenter",function(e){return h(n),E().popup(e,"kanban")})("mouseleave",function(){return h(n),E().out()}),m(1,"a",15),A(2,"translate"),gr(),m(3,"svg"),_(4,"use",37),y(),vr(),m(5,"span",13),T(6),A(7,"translate"),y(),y(),y()),2&e&&(Fa("active","kanban"===(e=E()).section)("active-dialog","kanban"===e.dialog.type),d(1),Ma("title",P(2,7,"PROJECT.SECTION.KANBAN")),v("routerLink",pl(11,ES,e.baseHref,e.project.slug)),d(5),qa(" ",P(7,9,"PROJECT.SECTION.KANBAN")," "))}function AS(e,t){return[e,"project",t,"issues"]}function PS(e,t){var n;1&e&&(n=x(),m(0,"li",10),w("mouseenter",function(e){return h(n),E().popup(e,"issues")})("mouseleave",function(){return h(n),E().out()}),m(1,"a",15),A(2,"translate"),gr(),m(3,"svg"),_(4,"use",38),y(),vr(),m(5,"span",13),T(6),A(7,"translate"),y(),y(),y()),2&e&&(Fa("active","issues"===(e=E()).section)("active-dialog","issues"===e.dialog.type),d(1),Ma("title",P(2,7,"PROJECT.SECTION.ISSUES")),v("routerLink",pl(11,AS,e.baseHref,e.project.slug)),d(5),qa(" ",P(7,9,"PROJECT.SECTION.ISSUES")," "))}function RS(e,t){var n;1&e&&(n=x(),m(0,"li",10),w("mouseenter",function(e){return h(n),E().popup(e,"video")})("mouseleave",function(){return h(n),E().out()}),m(1,"a",39),A(2,"translate"),gr(),m(3,"svg"),_(4,"use",40),y(),vr(),m(5,"span",13),T(6),A(7,"translate"),y(),y(),y()),2&e&&(Fa("active-dialog","video"===(e=E()).dialog.type),d(1),Ma("title",P(2,5,"PROJECT.SECTION.MEETUP")),v("href",e.videoUrl,di),d(5),qa(" ",P(7,7,"PROJECT.SECTION.MEETUP")," "))}function IS(e,t){return[e,"project",t,"wiki"]}function OS(e,t){var n;1&e&&(n=x(),m(0,"li",10),w("mouseenter",function(e){return h(n),E().popup(e,"wiki")})("mouseleave",function(){return h(n),E().out()}),m(1,"a",15),A(2,"translate"),gr(),m(3,"svg"),_(4,"use",41),y(),vr(),m(5,"span",13),T(6),A(7,"translate"),y(),y(),y()),2&e&&(Fa("active","wiki"===(e=E()).section)("active-dialog","wiki"===e.dialog.type),d(1),Ma("title",P(2,7,"PROJECT.SECTION.WIKI")),v("routerLink",pl(11,IS,e.baseHref,e.project.slug)),d(5),qa(" ",P(7,9,"PROJECT.SECTION.WIKI")," "))}function MS(e,t){return[e,"project",t,"admin","project-profile","details"]}function NS(e,t){var n;1&e&&(n=x(),m(0,"li",10),w("mouseenter",function(e){return h(n),E().popup(e,"settings")})("mouseleave",function(){return h(n),E().out()}),m(1,"a",15),A(2,"translate"),gr(),m(3,"svg"),_(4,"use",42),y(),vr(),m(5,"span",13),T(6),A(7,"translate"),y(),y(),y()),2&e&&(Fa("active","admin"===(e=E()).section)("active-dialog","settings"===e.dialog.type),d(1),Ma("title",P(2,7,"PROJECT.SECTION.SETTINGS")),v("routerLink",pl(11,MS,e.baseHref,e.project.slug)),d(5),qa(" ",P(7,9,"PROJECT.SECTION.SETTINGS")," "))}function LS(e,t){1&e&&(m(0,"span",43),T(1),A(2,"translate"),y()),2&e&&(d(1),qa(" ",P(2,1,"PROJECT.SECTION.COLLAPSE_MENU")," "))}function jS(e,t){1&e&&(m(0,"a",44),m(1,"span",45),T(2),y(),y()),2&e&&(Da("height",(e=E()).dialog.mainLinkHeight,"px"),v("href",e.dialog.slug,di),d(2),qa(" ",e.dialog.text," "))}function DS(e,t){1&e&&(m(0,"div",46),m(1,"span",45),T(2),y(),y()),2&e&&(Da("height",(e=E()).dialog.mainLinkHeight,"px"),d(2),qa(" ",e.dialog.text," "))}function FS(e,t){var n;1&e&&(n=x(),m(0,"button",47),w("click",function(){return h(n),E().search.emit()}),A(1,"translate"),T(2),A(3,"translate"),y()),2&e&&(Ma("title",P(1,2,"PROJECT.SECTION.SEARCH")),d(2),qa(" ",P(3,4,"PROJECT.SECTION.SEARCH")," "))}function VS(e,t){1&e&&(m(0,"li",33),m(1,"a",36),m(2,"span",48),T(3),y(),y(),y()),2&e&&(e=t.$implicit,d(1),v("routerLink",e.link),wa("title",e.text),d(2),qa(" ",e.text," "))}function zS(e,t){1&e&&(m(0,"ul",32),p(1,VS,4,3,"li",35),y()),2&e&&(e=E(),d(1),v("ngForOf",e.dialog.children))}function BS(e,t){return[e,"project",t,"timeline"]}function HS(e,t){return[e,"project",t,"team"]}CE($S,[{key:"animationDone",value:function(){this.collapseText=!!this.collapsed}},{key:"ngOnInit",value:function(){this.collapsed="true"===localStorage.getItem("projectnav-collapsed"),this.section=this.getActiveSection(),this.milestoneId$=this.legacyService.legacyState.pipe(qd("detailObj"),g(function(e){return null==e?void 0:e.milestone})),"backlog"===this.section&&(this.scrumVisible="true"===localStorage.getItem("projectnav-scrum"))}},{key:"getActiveSection",value:function(){var e=this.getSection(),t=e.breadcrumb,e=e.sectionName,n=t.lastIndexOf("backlog"),t=t.lastIndexOf("kanban"),t=-1===n&&-1===t?"":-1===t||t<n?"backlog":"kanban";if("backlog-kanban"===e){if(["backlog","kanban"].includes(t))return t;if(this.project.isBacklogActivated&&!this.project.isKanbanActivated)return"backlog";if(!this.project.isBacklogActivated&&this.project.isKanbanActivated)return"kanban"}return e}},{key:"popup",value:function(e,t){this.collapsed&&(this.initDialog(e.target,t),this.dialog.type=t)}},{key:"popupScrum",value:function(e){var t,n=this;this.collapsed&&((t=this.milestones.map(function(e){return{text:e.name,link:[n.baseHref,"project",n.project.slug,"taskboard",e.slug]}})).unshift({text:this.translateService.instant("PROJECT.SECTION.BACKLOG"),link:[this.baseHref,"project",this.project.slug,"backlog"]}),this.initDialog(e.target,"scrum",t))}},{key:"initDialog",value:function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=(this.dialogCloseTimeout&&clearTimeout(this.dialogCloseTimeout),null==(i=e.querySelector(".menu-option-text"))?void 0:i.innerHTML);i&&(n=null==(n=e.querySelector("a"))?void 0:n.getAttribute("href"),this.dialog.slug=n||"",this.dialog.hover=!1,this.dialog.mainLinkHeight=e.offsetHeight,this.dialog.left=48,this.dialog.top=e.offsetTop,this.dialog.open=!0,this.dialog.text=i,this.dialog.children=r,this.dialog.type=t)}},{key:"out",value:function(){var e=this;this.dialogCloseTimeout=setTimeout(function(){e.dialog.hover||(e.dialog.open=!1,e.dialog.type="",e.cd.markForCheck())},100)}},{key:"enterDialog",value:function(){this.dialog.open=!0,this.dialog.hover=!0}},{key:"outDialog",value:function(){this.dialog.hover=!1,this.out()}},{key:"ngOnChanges",value:function(e){e.project&&(this.videoUrl=this.videoConferenceUrl())}},{key:"toggleScrum",value:function(){this.collapsed?this.router.navigate(["/project",this.project.slug,"backlog"]):(this.scrumVisible=!this.scrumVisible,localStorage.setItem("projectnav-scrum",String(this.scrumVisible)))}},{key:"toggleCollapse",value:function(){this.collapsed=!this.collapsed,localStorage.setItem("projectnav-collapsed",String(this.collapsed)),this.collapsed&&(this.scrumVisible=!1)}},{key:"videoConferenceUrl",value:function(){var e="";if(!this.project.videoconferences)return null;if("whereby-com"===this.project.videoconferences)e="https://whereby.com/";else if("talky"===this.project.videoconferences)e="https://talky.io/";else if("jitsi"===this.project.videoconferences)e="https://meet.jit.si/";else if("custom"===this.project.videoconferences&&this.project.videoconferencesExtraData)return this.project.videoconferencesExtraData;var t="",t=this.project.videoconferencesExtraData?"".concat(this.project.slug,"-").concat(Cy.slugify(this.project.videoconferencesExtraData)):this.project.slug;return e+(t="jitsi"===this.project.videoconferences?t.replace(/-/g,""):t)}},{key:"getSection",value:function(){var e=this.legacyService.getInjector().get("tgProjectService");return{breadcrumb:e.sectionsBreadcrumb.toJS(),sectionName:e.section}}},{key:"openCollapseAnimation",get:function(){return this.collapsed?"collapsed":"open"}},{key:"baseHref",get:function(){var e;return null!=(e=this.config._config.baseHref)?e:"/"}},{key:"milestones",get:function(){return this.project.milestones.filter(function(e){return!e.closed}).reverse().slice(0,7)}},{key:"isMenuEpicsEnabled",get:function(){return this.project.isEpicsActivated&&this.project.myPermissions.includes(cS.viewEpics)}},{key:"isMenuScrumEnabled",get:function(){return this.project.isBacklogActivated&&this.project.myPermissions.includes(cS.viewUserstory)}},{key:"isMenuKanbanEnabled",get:function(){return this.project.isKanbanActivated&&this.project.myPermissions.includes(cS.viewUserstory)}},{key:"isMenuIssuesEnabled",get:function(){return this.project.isIssuesActivated&&this.project.myPermissions.includes(cS.viewIssues)}},{key:"isMenuWikiEnabled",get:function(){return this.project.isWikiActivated&&this.project.myPermissions.includes(cS.viewWikiPages)}}]),(qS=$S).fac=function(e){return new(e||qS)(k($1),k($o),k(aS),k(uw),k(km))},qS.cmp=un({type:qS,selectors:[["tg-project-navigation"]],hostVars:3,hostBindings:function(e,t){1&e&&Pa("@openCollapse.done",function(){return t.animationDone()}),2&e&&($a("@openCollapse",t.openCollapseAnimation),Fa("collapsed",t.collapsed))},inputs:{project:"project"},outputs:{search:"search"},features:[Tn],decls:42,vars:50,consts:[[1,"nav-wrapper"],[1,"nav-inner"],[3,"mouseenter","mouseleave"],[1,"project-link",3,"routerLink"],["width","24","logo","small",3,"tgProjectLogo","alt"],["data-animation","text",1,"menu-option-text","project-name"],[1,"main-menu"],["class","menu-option",3,"active","active-dialog","mouseenter","mouseleave",4,"ngIf"],["class","menu-option scrum","routerLinkActive","active",3,"active","active-dialog","mouseenter","mouseleave",4,"ngIf"],[1,"menu-secondary","main-menu"],[1,"menu-option",3,"mouseenter","mouseleave"],["type","button",3,"title","click"],["href","#search"],["data-animation","text",1,"menu-option-text"],["class","menu-option",3,"active-dialog","mouseenter","mouseleave",4,"ngIf"],[3,"routerLink","title"],["href","#users"],["type","button",1,"collapse",3,"click"],["data-animation","text",4,"ngIf"],["href","#chevrons-left"],[1,"dialog",3,"mouseenter","mouseleave"],[1,"dialog-main","menu-option"],["class","main-link",3,"href","height",4,"ngIf"],["class","main-link",3,"height",4,"ngIf"],["class","main-link","type","button",3,"title","click",4,"ngIf"],["class","child-menu",4,"ngIf"],["href","#epic"],["routerLinkActive","active",1,"menu-option","scrum",3,"mouseenter","mouseleave"],["href","#agile"],["data-animation","text",1,"agile-chevron"],["href","#chevron-left"],["class","child-menu",4,"ngrxLet"],[1,"child-menu"],[1,"menu-option"],["routerLinkActive","active",3,"routerLink","title"],["class","menu-option",4,"ngFor","ngForOf"],["routerLinkActive","active",3,"routerLink"],["href","#kanban5"],["href","#issue"],["target","_blank",3,"href","title"],["href","#video"],["href","#book"],["href","#settings"],["data-animation","text"],[1,"main-link",3,"href"],[1,"dialog-text"],[1,"main-link"],["type","button",1,"main-link",3,"title","click"],[1,"menu-option-text"]],template:function(e,t){1&e&&(m(0,"div",0),m(1,"div",1),m(2,"h1",2),w("mouseenter",function(e){return t.popup(e,"project")})("mouseleave",function(){return t.out()}),m(3,"a",3),_(4,"img",4),m(5,"span",5),T(6),y(),y(),y(),m(7,"ul",6),p(8,bS,8,14,"li",7),p(9,SS,11,11,"li",8),p(10,TS,8,14,"li",7),p(11,PS,8,14,"li",7),y(),m(12,"ul",9),m(13,"li",10),w("mouseenter",function(e){return t.popup(e,"search")})("mouseleave",function(){return t.out()}),m(14,"button",11),w("click",function(){return t.search.emit()}),A(15,"translate"),gr(),m(16,"svg"),_(17,"use",12),y(),vr(),m(18,"span",13),T(19),A(20,"translate"),y(),y(),y(),p(21,RS,8,9,"li",14),p(22,OS,8,14,"li",7),m(23,"li",10),w("mouseenter",function(e){return t.popup(e,"team")})("mouseleave",function(){return t.out()}),m(24,"a",15),A(25,"translate"),gr(),m(26,"svg"),_(27,"use",16),y(),vr(),m(28,"span",13),T(29),A(30,"translate"),y(),y(),y(),p(31,NS,8,14,"li",7),y(),m(32,"button",17),w("click",function(){return t.toggleCollapse()}),p(33,LS,3,3,"span",18),gr(),m(34,"svg"),_(35,"use",19),y(),y(),y(),y(),vr(),m(36,"div",20),w("mouseenter",function(){return t.enterDialog()})("mouseleave",function(){return t.outDialog()}),m(37,"div",21),p(38,jS,3,4,"a",22),p(39,DS,3,3,"div",23),p(40,FS,4,6,"button",24),y(),p(41,zS,2,1,"ul",25),y()),2&e&&(d(3),v("routerLink",pl(44,BS,t.baseHref,t.project.slug)),wa("title",t.project.name),d(1),v("tgProjectLogo",t.project)("alt",t.project.name),d(2),qa(" ",t.project.name," "),d(2),v("ngIf",t.isMenuEpicsEnabled),d(1),v("ngIf",t.isMenuScrumEnabled),d(1),v("ngIf",t.isMenuKanbanEnabled),d(1),v("ngIf",t.isMenuIssuesEnabled),d(2),Fa("active-dialog","search"===t.dialog.type),d(1),Ma("title",P(15,36,"PROJECT.SECTION.SEARCH")),d(5),qa(" ",P(20,38,"PROJECT.SECTION.SEARCH")," "),d(2),v("ngIf",t.videoUrl),d(1),v("ngIf",t.isMenuWikiEnabled),d(1),Fa("active","team"===t.section)("active-dialog","team"===t.dialog.type),d(1),Ma("title",P(25,40,"PROJECT.SECTION.TEAM")),v("routerLink",pl(47,HS,t.baseHref,t.project.slug)),d(5),qa(" ",P(30,42,"PROJECT.SECTION.TEAM")," "),d(2),v("ngIf",t.project.iAmAdmin),d(1),Fa("collapsed",t.collapseText),d(1),v("ngIf",!t.collapseText),d(3),Da("top",t.dialog.top,"px")("left",t.dialog.left,"px"),Fa("open",t.dialog.open),d(2),v("ngIf",t.dialog.slug&&"scrum"!==t.dialog.type),d(1),v("ngIf","scrum"===t.dialog.type),d(1),v("ngIf","search"===t.dialog.type),d(1),v("ngIf",t.dialog.children.length))},directives:[dw,ec,e,Pb,dm,o],pipes:[n0],styles:["[_nghost-%COMP%]{--menu-margin:12px;--menu-margin-text:12px;background-color:var(--color-black800);display:flex;flex-direction:column;height:100%;left:0;position:relative;top:0}.nav-wrapper[_ngcontent-%COMP%]{height:100%;overflow-x:hidden;overflow-y:auto}.nav-inner[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;height:100%;width:200px}.collapsed[_nghost-%COMP%]{width:48px}.collapsed[_nghost-%COMP%]   .scrum[_ngcontent-%COMP%]   .child-menu[_ngcontent-%COMP%]{display:none}h1[_ngcontent-%COMP%]{background-color:var(--color-black900);margin:0;padding:var(--spacing-2);padding-left:var(--menu-margin)}h1[_ngcontent-%COMP%]   .project-link[_ngcontent-%COMP%]{align-items:center;color:var(--color-solid-primary);display:flex;font-size:var(--font-size-medium);text-decoration:none}h1[_ngcontent-%COMP%]   .project-link[_ngcontent-%COMP%]   .project-name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}h1[_ngcontent-%COMP%]   .project-link[_ngcontent-%COMP%]:hover{color:var(--color-solid-primary)}h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:2px;height:24px;margin-right:var(--menu-margin-text);width:24px}.main-menu[_ngcontent-%COMP%]{margin:0;padding:0 0 var(--spacing-1) 0}.main-menu[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--color-gray400);height:24px;width:24px}.menu-option[_ngcontent-%COMP%]{list-style:none;margin-bottom:var(--spacing-1)}.menu-option.active-dialog[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .menu-option.active-dialog[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .menu-option.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .menu-option.active[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .menu-option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .menu-option[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:var(--color-black900);color:var(--color-white);font-weight:var(--font-weight-bold)}.menu-option.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .menu-option.active[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{color:var(--color-gray400)}.menu-option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%], .menu-option[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]{fill:var(--color-white)}.menu-option[_ngcontent-%COMP%]:last-child{margin-bottom:0}.menu-option[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .menu-option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-items:center;color:var(--color-gray400);display:flex;font-size:var(--font-size-medium);height:40px;padding:0;text-decoration:none;transition:background-color .2s linear}.menu-option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding-right:var(--spacing-1);width:100%}.menu-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:var(--menu-margin);margin-right:var(--menu-margin-text)}.menu-option[_ngcontent-%COMP%]   .agile-chevron[_ngcontent-%COMP%]{fill:var(--color-solid-primary);margin:0 0 0 auto;transition:all .2s linear;width:16px}.child-menu[_ngcontent-%COMP%]{background-color:var(--color-black900);display:none;list-style:none;padding:0 0 var(--spacing-1) 0}.child-menu[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{margin-bottom:0}.child-menu[_ngcontent-%COMP%]   .menu-option-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.child-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:0;padding-left:var(--spacing-5)}.child-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .child-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .child-menu[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .child-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--color-solid-primary);font-weight:var(--font-weight-bold)}.scrum.active[_ngcontent-%COMP%]   .agile-chevron[_ngcontent-%COMP%]{transform:rotate(90deg);transition:transform .2s linear}.scrum.active[_ngcontent-%COMP%]   .child-menu[_ngcontent-%COMP%]{display:block}.menu-secondary[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-black900);border-top:1px solid var(--color-black900);margin-top:auto}.collapse[_ngcontent-%COMP%]{align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:0;color:var(--color-gray400);cursor:pointer;display:flex;font-size:var(--font-size-medium);justify-content:flex-end;padding:var(--spacing-1);width:100%}.collapse[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{background:var(--color-black900);border-radius:50%;fill:var(--color-link-primary);height:24px;margin-left:var(--spacing-1);padding:4px;width:24px}.collapse.collapsed[_ngcontent-%COMP%]{justify-content:center;transform:rotate(180deg);width:48px}.collapse.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0}.collapse[_ngcontent-%COMP%]:hover{color:var(--color-white);font-weight:var(--font-weight-bold)}.collapse[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:var(--color-white)}.dialog[_ngcontent-%COMP%]{background-color:var(--color-black900);display:none;position:absolute;width:170px}.dialog[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{margin-bottom:0}.dialog[_ngcontent-%COMP%]   .child-menu[_ngcontent-%COMP%]{box-shadow:0 4px 24px rgba(0,0,0,.29);display:block;margin:0;padding:0}.dialog[_ngcontent-%COMP%]   .child-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:var(--spacing-4)}.dialog.open[_ngcontent-%COMP%]{display:block}.dialog[_ngcontent-%COMP%]   .main-link[_ngcontent-%COMP%]{align-items:center;background-color:var(--color-black900);color:var(--color-white);display:flex;padding:0 var(--spacing-2)}.dialog[_ngcontent-%COMP%]   .main-link[_ngcontent-%COMP%]   .dialog-text[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;font-size:var(--font-size-medium);font-weight:var(--font-weight-bold);overflow:hidden;text-decoration:none;text-overflow:ellipsis}.dialog[_ngcontent-%COMP%]   a.main-link[_ngcontent-%COMP%]:hover, .dialog[_ngcontent-%COMP%]   button.main-link[_ngcontent-%COMP%]:hover{color:var(--color-solid-primary)}"],data:{animation:[{type:7,name:"openCollapse",definitions:[t2("open => collapsed",[n2('[data-animation="text"]',e2({opacity:1})),n2(":self",e2({width:"200px"})),n2('[data-animation="text"]',Y1(100,e2({opacity:0}))),n2(":self",Y1(300,e2({width:"48px"})))]),t2("collapsed => open",[n2(":self",e2({width:"48px"})),n2(":self",Y1(300,e2({width:"200px"})))])],options:{}}]},changeDetection:0});var US,qS,De=qS,N=(CE(WS,[{key:"transform",value:function(e){return Cy.objKeysTransformer(e,by)}}]),(US=WS).fac=function(e){return new(e||US)},US.pipe=pn({name:"camelCaseTransformer",type:US,pure:!0}),US);function WS(){wE(this,WS)}function $S(e,t,n,r,i){wE(this,$S),this.translateService=e,this.cd=t,this.legacyService=n,this.router=r,this.config=i,this.search=new R,this.scrumVisible=!1,this.collapseText=!0,this.dialog={open:!1,hover:!1,mainLinkHeight:0,isSearch:!1,type:"",slug:"",top:0,left:0,text:"",height:0,children:[]},this.collapsed=!1}function KS(e,t){var n;1&e&&(n=x(),m(0,"tg-project-navigation",4),w("search",function(){return h(n),E(2).events.search()}),A(1,"camelCaseTransformer"),y()),2&e&&v("project",P(1,1,E(2).params.project))}function GS(e,t){1&e&&(Ea(0),p(1,KS,2,3,"tg-project-navigation",3),Ta()),2&e&&(e=E(),d(1),v("ngIf",null==e.params?null:e.params.project))}function ZS(e,t){1&e&&(m(0,"p"),T(1,"Invalid component"),y())}CE(uE,[{key:"ngOnInit",value:function(){var t,e=this;this.translate.onLangChange.pipe((t=this.destroy$,function(e){return e.lift(new sS(t))})).subscribe(function(){requestAnimationFrame(function(){e.cd.detectChanges()})})}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),(JS=uE).fac=function(e){return new(e||JS)(k($1),k($o))},JS.cmp=un({type:JS,selectors:[["tg-legacy-loader"]],inputs:{component:"component",params:"params",events:"events"},decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"project","search",4,"ngIf"],[3,"project","search"]],template:function(e,t){1&e&&(Ea(0,0),p(1,GS,2,1,"ng-container",1),p(2,ZS,2,0,"p",2),Ta(),_(3,"tg-svg-sprite")),2&e&&(v("ngSwitch",t.component),d(1),v("ngSwitchCase","tg-project-navigation"))},directives:[qu,Wu,$u,y2,e,De],pipes:[N],styles:["\n/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}:host,:root{--color-solid-primary:#83eede;--color-link-primary:#008aa8;--color-link-tertiary:#70728f;--color-gray100:#f9f9fb;--color-gray200:#eceff4;--color-gray300:#e5e9f0;--color-gray400:#d8dee9;--color-black600:#4c566a;--color-black700:#434c5e;--color-black800:#3b4252;--color-black900:#2e3440;--color-black:#000;--color-white:#fff;--color-solid-red:rgba(228,64,87,0.5);--color-link-red:#e44057;--color-solid-orange:rgba(234,123,75,0.55);--color-link-orange:#ea7b4b;--color-solid-yellow:rgba(246,201,92,0.55);--color-link-yellow:#f6c95c;--color-solid-green:rgba(147,196,93,0.55);--color-link-green:#93c45d;--color-solid-purple:rgba(202,129,190,0.55);--color-link-purple:#ca81be;--font-size-heading-1:2.136rem;--font-size-heading-2:1.709rem;--font-size-heading-3:1.367rem;--font-size-heading-4:1.094rem;--font-size-medium:.875rem;--font-size-small:.7rem;--font-weight-light:200;--font-weight-medium:400;--font-weight-bold:700;--spacing-1:.5rem;--spacing-2:calc(var(--spacing-1) * 2);--spacing-3:calc(var(--spacing-1) * 3);--spacing-4:calc(var(--spacing-1) * 4);--spacing-5:calc(var(--spacing-1) * 5);--spacing-6:calc(var(--spacing-1) * 6);--spacing-7:calc(var(--spacing-1) * 7);--spacing-8:calc(var(--spacing-1) * 8);--spacing-9:calc(var(--spacing-1) * 9);--spacing-10:calc(var(--spacing-1) * 10);--none:0;--common:1;--slider:5;--modal:10;--overlay:90}@font-face{font-family:Ubuntu;font-style:normal;font-weight:200;src:url(Ubuntu-L.ttf)}@font-face{font-family:Ubuntu;font-style:italic;font-weight:200;src:url(Ubuntu-LI.ttf)}@font-face{font-family:Ubuntu;font-style:normal;font-weight:400;src:url(Ubuntu-R.ttf)}@font-face{font-family:Ubuntu;font-style:italic;font-weight:400;src:url(Ubuntu-RI.ttf)}@font-face{font-family:Ubuntu;font-style:normal;font-weight:700;src:url(Ubuntu-M.ttf)}@font-face{font-family:Ubuntu;font-style:italic;font-weight:700;src:url(Ubuntu-MI.ttf)}*,:after,:before{box-sizing:border-box}body{font-family:Ubuntu,sans-serif;font-size:var(--font-size-medium);font-weight:400;letter-spacing:normal;line-height:1.5}h1,h2,h3,h4,li,p{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;word-break:break-word}"],encapsulation:3});var JS,QS,YS,XS,eE,m2=JS,tE=(CE(cE,[{key:"connect",value:function(e){var t=this;this.runInZone(function(){t.strategy.connect(e)}),this.events||(this.events=this.strategy.events)}},{key:"disconnect",value:function(){var e=this;this.runInZone(function(){e.strategy.disconnect()})}},{key:"getInputValue",value:function(e){var t=this;return this.runInZone(function(){return t.strategy.getInputValue(e)})}},{key:"setInputValue",value:function(e,t){var n=this;this.runInZone(function(){n.strategy.setInputValue(e,t)})}},{key:"runInZone",value:function(e){return this.ngZone.run(e)}}]),cE),nE=(CE(lE,[{key:"string4",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateName",value:function(){var e="dummy-name-n"+lE.counter+"-"+this.string4()+this.string4()+this.string4()+"-"+this.string4()+this.string4()+"-"+this.string4();return lE.counter++,e}},{key:"create",value:function(e){var t=new this.ngElement(this.injector).ngElementStrategy;return new tE(t,this.injector)}}]),lE.counter=1,lE),Pt=(CE(sE,[{key:"setInitialPath",value:function(e){this._history[this._historyIndex].path=e}},{key:"setBaseHref",value:function(e){this._baseHref=e}},{key:"path",value:function(){return this._history[this._historyIndex].path}},{key:"getState",value:function(){return this._history[this._historyIndex].state}},{key:"isCurrentPathEqualTo",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=e.endsWith("/")?e.substring(0,e.length-1):e;return(this.path().endsWith("/")?this.path().substring(0,this.path().length-1):this.path())==e+(0<t.length?"?"+t:"")}},{key:"simulateUrlPop",value:function(e){this._subject.emit({url:e,pop:!0,type:"popstate"})}},{key:"simulateHashChange",value:function(e){this.setInitialPath(e),this.urlChanges.push("hash: "+e),this._subject.emit({url:e,pop:!0,type:"hashchange"})}},{key:"prepareExternalUrl",value:function(e){return 0<e.length&&!e.startsWith("/")&&(e="/"+e),this._baseHref+e}},{key:"go",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=(e=this.prepareExternalUrl(e),0<this._historyIndex&&this._history.splice(this._historyIndex+1),this._history.push(new rE(e,t,n)),this._historyIndex=this._history.length-1,this._history[this._historyIndex-1]);n.path==e&&n.query==t||(n=e+(0<t.length?"?"+t:""),this.urlChanges.push(n),this._subject.emit({url:n,pop:!1}))}},{key:"replaceState",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=(e=this.prepareExternalUrl(e),this._history[this._historyIndex]);r.path==e&&r.query==t||(r.path=e,r.query=t,r.state=n,this.urlChanges.push("replace: "+e+(0<t.length?"?"+t:"")))}},{key:"forward",value:function(){this._historyIndex<this._history.length-1&&(this._historyIndex++,this._subject.emit({url:this.path(),state:this.getState(),pop:!0}))}},{key:"back",value:function(){0<this._historyIndex&&(this._historyIndex--,this._subject.emit({url:this.path(),state:this.getState(),pop:!0}))}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length?arguments[1]:void 0;this._urlChangeListeners.forEach(function(e){return e(t,n)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}},{key:"normalize",value:function(e){return null}}]),(QS=sE).fac=function(e){return new(e||QS)},QS.prov=r({token:QS,factory:QS.fac}),QS),rE=function e(t,n,r){wE(this,e),this.path=t,this.query=n,this.state=r},ec=(xE(aE,uu),eE=SE(aE),CE(aE,[{key:"simulatePopState",value:function(e){this.internalPath=e,this._subject.emit(new iE(this.path()))}},{key:"path",value:function(){return this.internalPath}},{key:"prepareExternalUrl",value:function(e){return e.startsWith("/")&&this.internalBaseHref.endsWith("/")?this.internalBaseHref+e.substring(1):this.internalBaseHref+e}},{key:"pushState",value:function(e,t,n,r){this.stateChanges.push(e),this.internalTitle=t;e=n+(0<r.length?"?"+r:""),this.internalPath=e,t=this.prepareExternalUrl(e);this.urlChanges.push(t)}},{key:"replaceState",value:function(e,t,n,r){this.stateChanges[(this.stateChanges.length||1)-1]=e,this.internalTitle=t;e=n+(0<r.length?"?"+r:""),this.internalPath=e,t=this.prepareExternalUrl(e);this.urlChanges.push("replace: "+t)}},{key:"onPopState",value:function(e){this._subject.subscribe({next:e})}},{key:"getBaseHref",value:function(){return this.internalBaseHref}},{key:"back",value:function(){0<this.urlChanges.length&&(this.urlChanges.pop(),this.stateChanges.pop(),this.simulatePopState(0<this.urlChanges.length?this.urlChanges[this.urlChanges.length-1]:""))}},{key:"forward",value:function(){throw"not implemented"}},{key:"getState",value:function(){return this.stateChanges[(this.stateChanges.length||1)-1]}}]),(YS=aE).fac=function(e){return new(e||YS)},YS.prov=r({token:YS,factory:YS.fac}),YS),iE=function e(t){wE(this,e),this.newUrl=t,this.pop=!0,this.type="popstate"},Pb=(CE(oE,[{key:"load",value:function(e){return this._stubbedModules[e]||Promise.reject(new Error("Cannot find module "+e))}},{key:"stubbedModules",set:function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=this.compiler.compileModuleAsync(e[i])}this._stubbedModules=t},get:function(){return this._stubbedModules}}]),(XS=oE).fac=function(e){return new(e||XS)(l(oc))},XS.prov=r({token:XS,factory:XS.fac}),XS);function oE(e){wE(this,oE),this.compiler=e,this._stubbedModules={}}function aE(){var e;return wE(this,aE),(e=eE.call(this)).internalBaseHref="/",e.internalPath="/",e.internalTitle="",e.urlChanges=[],e._subject=new R,e.stateChanges=[],e}function sE(){wE(this,sE),this.urlChanges=[],this._history=[new rE("","",null)],this._historyIndex=0,this._subject=new R,this._baseHref="",this._platformStrategy=null,this._platformLocation=null,this._urlChangeListeners=[]}function lE(e,t){wE(this,lE),this.component=e,this.injector=t,this.ngElement=ay(this.component,{injector:this.injector}),customElements.define(this.generateName(),this.ngElement)}function cE(e,t){wE(this,cE),this.strategy=e,this.injector=t,this.ngZone=this.injector.get(I),this.strategy.events&&(this.events=this.strategy.events)}function uE(e,t){wE(this,uE),this.translate=e,this.cd=t,this.destroy$=new pe}CE(dE,null,[{key:"withRoutes",value:function(e,t){return{ngModule:dE,providers:[Uw(e),{provide:Tw,useValue:t||{}}]}}}]),(hE=dE).mod=s({type:hE}),hE.inj=t({factory:function(e){return new(e||hE)},providers:[Pw,{provide:ku,useClass:Pt},{provide:uu,useClass:ec},{provide:zc,useClass:Pb},{provide:uw,useFactory:function(e,t,n,r,i,o,a,s,l){return e=new uw(null,e,t,n,o,r,i,nb(a)),s&&("shouldProcessUrl"in s?e.urlHandlingStrategy=s:(s.malformedUriErrorHandler&&(e.malformedUriErrorHandler=s.malformedUriErrorHandler),s.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=s.paramsInheritanceStrategy))),l&&(e.urlHandlingStrategy=l),e},deps:[pb,X_,ku,zc,oc,f,Q_,Tw,[J_,new dt]]},{provide:mw,useExisting:xw},Uw([])],imports:[zh]});var hE,dm=hE;function dE(){wE(this,dE)}Ax.prototype.containsElement=function(e,t){for(var n=t;n&&n!==document.documentElement;){if(n===e)return!0;n=n.parentNode||n.host}return!1};(fE=function e(){wE(this,e)}).fac=function(e){return new(e||fE)},fE.cmp=un({type:fE,selectors:[["tg-empty"]],decls:0,vars:0,template:function(e,t){},encapsulation:2});var fE,pE,o=fE,gE=[["tg-text-editor",uy],["tg-legacy",jh],["tg-legacy-loader",m2]],n0=(CE(vE,[{key:"ngDoBootstrap",value:function(){var e,t=bE(gE);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=new nE(n[1],this.injector),i=ay(n[1],{injector:this.injector,strategyFactory:r});customElements.define(n[0],i)}}catch(e){t.e(e)}finally{t.f()}}}]),(pE=vE).mod=s({type:pE}),pE.inj=t({factory:function(e){return new(e||pE)(l(f))},providers:[{provide:vu,useFactory:function(){return window.taigaConfig.baseHref||"/"}},{provide:Vl,multi:!0,deps:[km,$1],useFactory:function(e,t){return function(){return e.fetch().then(function(e){return t.setDefaultLang(e.defaultLanguage),t.use(e.defaultLanguage),e})}}}],imports:[[b2,mm,ph,gh.forRoot({},{runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0,strictStateSerializability:!0,strictActionSerializability:!0,strictActionTypeUniqueness:!0}}),[],a.forRoot([]),hm,qc,k2,gm.forRoot(),dm.withRoutes([{path:"**",component:o}])]]}),pE);function vE(e){wE(this,vE),this.injector=e}if(Zc.production){if(si)throw new Error("Cannot enable prod mode after platform setup.");ai=!1}Gc().bootstrapModule(n0).catch(function(e){return console.error(e)})},M55E:function(e,t,y){var k;!function(){function r(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n].defaultValue);return r}var x={},n={},h={},d=r(!0),f="vanilla",p={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:r(!0),allOn:(()=>{var e,t=r(!0),n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=!0);return n})()};function g(e,t){var n=t?"Error in "+t+" extension->":"Error in unnamed extension",r={valid:!0,error:""};x.helper.isArray(e)||(e=[e]);for(var i=0;i<e.length;++i){var o=n+" sub-extension "+i+": ",a=e[i];if("object"!=typeof a)return r.valid=!1,r.error=o+"must be an object, but "+typeof a+" given",r;if(!x.helper.isString(a.type))return r.valid=!1,r.error=o+'property "type" must be a string, but '+typeof a.type+" given",r;var s=a.type=a.type.toLowerCase();if("lang"!==(s="html"===(s="language"===s?a.type="lang":s)?a.type="output":s)&&"output"!==s&&"listener"!==s)return r.valid=!1,r.error=o+"type "+s+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===s){if(x.helper.isUndefined(a.listeners))return r.valid=!1,r.error=o+'. Extensions of type "listener" must have a property called "listeners"',r}else if(x.helper.isUndefined(a.filter)&&x.helper.isUndefined(a.regex))return r.valid=!1,r.error=o+s+' extensions must define either a "regex" property or a "filter" method',r;if(a.listeners){if("object"!=typeof a.listeners)return r.valid=!1,r.error=o+'"listeners" property must be an object but '+typeof a.listeners+" given",r;for(var l in a.listeners)if(a.listeners.hasOwnProperty(l)&&"function"!=typeof a.listeners[l])return r.valid=!1,r.error=o+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+l+" must be a function but "+typeof a.listeners[l]+" given",r}if(a.filter){if("function"!=typeof a.filter)return r.valid=!1,r.error=o+'"filter" must be a function, but '+typeof a.filter+" given",r}else if(a.regex){if(x.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!(a.regex instanceof RegExp))return r.valid=!1,r.error=o+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",r;if(x.helper.isUndefined(a.replace))return r.valid=!1,r.error=o+'"regex" extensions must implement a replace string or function',r}}return r}function i(e,t){return"E"+t.charCodeAt(0)+"E"}x.helper={},x.extensions={},x.setOption=function(e,t){return d[e]=t,this},x.getOption=function(e){return d[e]},x.getOptions=function(){return d},x.resetOptions=function(){d=r(!0)},x.setFlavor=function(e){if(!p.hasOwnProperty(e))throw Error(e+" flavor was not found");x.resetOptions();var t,n=p[e];for(t in f=e,n)n.hasOwnProperty(t)&&(d[t]=n[t])},x.getFlavor=function(){return f},x.getFlavorOptions=function(e){if(p.hasOwnProperty(e))return p[e]},x.getDefaultOptions=r,x.subParser=function(e,t){if(x.helper.isString(e)){if(void 0===t){if(n.hasOwnProperty(e))return n[e];throw Error("SubParser named "+e+" not registered!")}n[e]=t}},x.extension=function(e,t){if(!x.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=x.helper.stdExtName(e),x.helper.isUndefined(t)){if(h.hasOwnProperty(e))return h[e];throw Error("Extension named "+e+" is not registered!")}"function"==typeof t&&(t=t());var n=g(t=x.helper.isArray(t)?t:[t],e);if(!n.valid)throw Error(n.error);h[e]=t},x.getAllExtensions=function(){return h},x.removeExtension=function(e){delete h[e]},x.resetExtensions=function(){h={}},x.validateExtension=function(e){e=g(e,null);return!!e.valid||(console.warn(e.error),!1)},x.hasOwnProperty("helper")||(x.helper={}),x.helper.isString=function(e){return"string"==typeof e||e instanceof String},x.helper.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},x.helper.isArray=function(e){return Array.isArray(e)},x.helper.isUndefined=function(e){return void 0===e},x.helper.forEach=function(e,t){if(x.helper.isUndefined(e))throw new Error("obj param is required");if(x.helper.isUndefined(t))throw new Error("callback param is required");if(!x.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(x.helper.isArray(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var r in e)e.hasOwnProperty(r)&&t(e[r],r,e)}},x.helper.stdExtName=function(e){return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},x.helper.escapeCharactersCallback=i,x.helper.escapeCharacters=function(e,t,n){t="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])",n&&(t="\\\\"+t),n=new RegExp(t,"g");return e.replace(n,i)},x.helper.unescapeHTMLEntities=function(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};function u(e,t,n,r){var i,o,a,s,l=-1<(r=r||"").indexOf("g"),c=new RegExp(t+"|"+n,"g"+r.replace(/g/g,"")),u=new RegExp(t,r.replace(/g/g,"")),h=[];do{for(i=0;s=c.exec(e);)if(u.test(s[0]))i++||(a=(o=c.lastIndex)-s[0].length);else if(i&&!--i&&(h.push({left:{start:a,end:o},match:{start:o,end:s.index},right:{start:s.index,end:s=s.index+s[0].length},wholeMatch:{start:a,end:s}}),!l))return h}while(i&&(c.lastIndex=o));return h}function o(u){return function(e,t,n,r,i,o,a){var s=n=n.replace(x.helper.regexes.asteriskDashAndColon,x.helper.escapeCharactersCallback),l="",c="",t=t||"",a=a||"";return/^www\./i.test(n)&&(n=n.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&o&&(l=o),t+'<a href="'+n+'"'+(c=u.openLinksInNewWindow?' rel="noopener noreferrer" target="E95Eblank"':c)+">"+s+"</a>"+l+a}}function a(i,o){return function(e,t,n){var r="mailto:";return t=t||"",n=x.subParser("unescapeSpecialChars")(n,i,o),i.encodeEmails?(r=x.helper.encodeEmailAddress(r+n),n=x.helper.encodeEmailAddress(n)):r+=n,t+'<a href="'+r+'">'+n+"</a>"}}x.helper.matchRecursiveRegExp=function(e,t,n,r){for(var i=u(e,t,n,r),o=[],a=0;a<i.length;++a)o.push([e.slice(i[a].wholeMatch.start,i[a].wholeMatch.end),e.slice(i[a].match.start,i[a].match.end),e.slice(i[a].left.start,i[a].left.end),e.slice(i[a].right.start,i[a].right.end)]);return o},x.helper.replaceRecursiveRegExp=function(e,t,n,r,i){x.helper.isFunction(t)||(o=t,t=function(){return o});var o,a=u(e,n,r,i),n=e,s=a.length;if(0<s){var l=[];0!==a[0].wholeMatch.start&&l.push(e.slice(0,a[0].wholeMatch.start));for(var c=0;c<s;++c)l.push(t(e.slice(a[c].wholeMatch.start,a[c].wholeMatch.end),e.slice(a[c].match.start,a[c].match.end),e.slice(a[c].left.start,a[c].left.end),e.slice(a[c].right.start,a[c].right.end))),c<s-1&&l.push(e.slice(a[c].wholeMatch.end,a[c+1].wholeMatch.start));a[s-1].wholeMatch.end<e.length&&l.push(e.slice(a[s-1].wholeMatch.end)),n=l.join("")}return n},x.helper.regexIndexOf=function(e,t,n){if(!x.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==0)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";e=e.substring(n||0).search(t);return 0<=e?e+(n||0):e},x.helper.splitAtIndex=function(e,t){if(x.helper.isString(e))return[e.substring(0,t),e.substring(t)];throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string"},x.helper.encodeEmailAddress=function(e){var n=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e.replace(/./g,function(e){var t;return e="@"===e?n[Math.floor(2*Math.random())](e):.9<(t=Math.random())?n[2](e):.45<t?n[1](e):n[0](e)})},x.helper.padEnd=function(e,t,n){return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),x.helper.regexes={asteriskDashAndColon:/([*_:~])/g},x.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},x.Converter=function(e){var t,n,i={},s=[],l=[],a={},r=f,o={parsed:{},raw:"",format:""};function c(e,t){if(t=t||null,x.helper.isString(e)){if(t=e=x.helper.stdExtName(e),x.extensions[e]){console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!");{var n=x.extensions[e];var r=e;if("function"==typeof n&&(n=n(new x.Converter)),!(r=g(n=x.helper.isArray(n)?n:[n],r)).valid)throw Error(r.error);for(var i=0;i<n.length;++i)switch(n[i].type){case"lang":s.push(n[i]);break;case"output":l.push(n[i]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}return}}if(x.helper.isUndefined(h[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=h[e]}"function"==typeof e&&(e=e());r=g(e=x.helper.isArray(e)?e:[e],t);if(!r.valid)throw Error(r.error);for(var o=0;o<e.length;++o){switch(e[o].type){case"lang":s.push(e[o]);break;case"output":l.push(e[o])}if(e[o].hasOwnProperty("listeners"))for(var a in e[o].listeners)e[o].listeners.hasOwnProperty(a)&&u(a,e[o].listeners[a])}}function u(e,t){if(!x.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");a.hasOwnProperty(e)||(a[e]=[]),a[e].push(t)}for(t in e=e||{},d)d.hasOwnProperty(t)&&(i[t]=d[t]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.extensions&&x.helper.forEach(i.extensions,c),this._dispatch=function(e,t,n,r){if(a.hasOwnProperty(e))for(var i=0;i<a[e].length;++i){var o=a[e][i](e,t,this,n,r);o&&void 0!==o&&(t=o)}return t},this.listen=function(e,t){return u(e,t),this},this.makeHtml=function(t){var n,e,r;return t&&(n={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:s,outputModifiers:l,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}},t=(t=(t=(t=(t=t.replace(/\xa8/g,"T")).replace(/\$/g,"D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),i.smartIndentationFix&&(r=(e=t).match(/^\s*/)[0].length,r=new RegExp("^\\s{0,"+r+"}","gm"),t=e.replace(r,"")),t="\n\n"+t+"\n\n",t=(t=x.subParser("detab")(t,i,n)).replace(/^[ \t]+$/gm,""),x.helper.forEach(s,function(e){t=x.subParser("runExtension")(e,t,i,n)}),t=x.subParser("metadata")(t,i,n),t=x.subParser("hashPreCodeTags")(t,i,n),t=x.subParser("githubCodeBlocks")(t,i,n),t=x.subParser("hashHTMLBlocks")(t,i,n),t=x.subParser("hashCodeTags")(t,i,n),t=x.subParser("stripLinkDefinitions")(t,i,n),t=x.subParser("blockGamut")(t,i,n),t=x.subParser("unhashHTMLSpans")(t,i,n),t=(t=(t=x.subParser("unescapeSpecialChars")(t,i,n)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,""),t=x.subParser("completeHTMLDocument")(t,i,n),x.helper.forEach(l,function(e){t=x.subParser("runExtension")(e,t,i,n)}),o=n.metadata),t},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var l=t.createElement("div"),n=(l.innerHTML=e,{preList:(()=>{for(var e=l.querySelectorAll("pre"),t=[],n=0;n<e.length;++n)if(1===e[n].childElementCount&&"code"===e[n].firstChild.tagName.toLowerCase()){var r=e[n].firstChild.innerHTML.trim(),i=e[n].firstChild.getAttribute("data-language")||"";if(""===i)for(var o=e[n].firstChild.className.split(" "),a=0;a<o.length;++a){var s=o[a].match(/^language-(.+)$/);if(null!==s){i=s[1];break}}r=x.helper.unescapeHTMLEntities(r),t.push(r),e[n].outerHTML='<precode language="'+i+'" precodenum="'+n.toString()+'"></precode>'}else t.push(e[n].innerHTML),e[n].innerHTML="",e[n].setAttribute("prenum",n.toString());return t})()});!function e(t){for(var n=0;n<t.childNodes.length;++n){var r=t.childNodes[n];3===r.nodeType?/\S/.test(r.nodeValue)||/^[ ]+$/.test(r.nodeValue)?(r.nodeValue=r.nodeValue.split("\n").join(" "),r.nodeValue=r.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(r),--n):1===r.nodeType&&e(r)}}(l);for(var r=l.childNodes,i="",o=0;o<r.length;o++)i+=x.subParser("makeMarkdown.node")(r[o],n);return i},this.setOption=function(e,t){i[e]=t},this.getOption=function(e){return i[e]},this.getOptions=function(){return i},this.addExtension=function(e,t){c(e,t=t||null)},this.useExtension=function(e){c(e)},this.setFlavor=function(e){if(!p.hasOwnProperty(e))throw Error(e+" flavor was not found");var t,n=p[e];for(t in r=e,n)n.hasOwnProperty(t)&&(i[t]=n[t])},this.getFlavor=function(){return r},this.removeExtension=function(e){x.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var n=e[t],r=0;r<s.length;++r)s[r]===n&&s.splice(r,1);for(var i=0;i<l.length;++i)l[i]===n&&l.splice(i,1)}},this.getAllExtensions=function(){return{language:s,output:l}},this.getMetadata=function(e){return e?o.raw:o.parsed},this.getMetadataFormat=function(){return o.format},this._setMetadataPair=function(e,t){o.parsed[e]=t},this._setMetadataFormat=function(e){o.format=e},this._setMetadataRaw=function(e){o.raw=e}},x.subParser("anchors",function(e,s,l){function t(e,t,n,r,i,o,a){if(x.helper.isUndefined(a)&&(a=""),n=n.toLowerCase(),-1<e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))r="";else if(!r){if(r="#"+(n=n||t.toLowerCase().replace(/ ?\n/g," ")),x.helper.isUndefined(l.gUrls[n]))return e;r=l.gUrls[n],x.helper.isUndefined(l.gTitles[n])||(a=l.gTitles[n])}return e='<a href="'+(r=r.replace(x.helper.regexes.asteriskDashAndColon,x.helper.escapeCharactersCallback))+'"',""!==a&&null!==a&&(e+=' title="'+(a=(a=a.replace(/"/g,"&quot;")).replace(x.helper.regexes.asteriskDashAndColon,x.helper.escapeCharactersCallback))+'"'),s.openLinksInNewWindow&&!/^#/.test(r)&&(e+=' rel="noopener noreferrer" target="E95Eblank"'),e+">"+t+"</a>"}return e=(e=(e=(e=(e=l.converter._dispatch("anchors.before",e,s,l)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,t)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,t)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,t)).replace(/\[([^\[\]]+)]()()()()()/g,t),s.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(e,t,n,r,i){if("\\"===n)return t+r;if(x.helper.isString(s.ghMentionsLink))return n="",t+'<a href="'+s.ghMentionsLink.replace(/\{u}/g,i)+'"'+(n=s.openLinksInNewWindow?' rel="noopener noreferrer" target="E95Eblank"':n)+">"+r+"</a>";throw new Error("ghMentionsLink option must be a string")})),l.converter._dispatch("anchors.after",e,s,l)});var s=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,l=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,c=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,v=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,m=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;x.subParser("autoLinks",function(e,t,n){return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(c,o(t))).replace(m,a(t,n)),n.converter._dispatch("autoLinks.after",e,t,n)}),x.subParser("simplifiedAutoLinks",function(e,t,n){return t.simplifiedAutoLink?(e=(e=(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n)).replace(t.excludeTrailingPunctuationFromURLs?l:s,o(t))).replace(v,a(t,n)),n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e}),x.subParser("blockGamut",function(e,t,n){return e=n.converter._dispatch("blockGamut.before",e,t,n),e=x.subParser("blockQuotes")(e,t,n),e=x.subParser("headers")(e,t,n),e=x.subParser("horizontalRule")(e,t,n),e=x.subParser("lists")(e,t,n),e=x.subParser("codeBlocks")(e,t,n),e=x.subParser("tables")(e,t,n),e=x.subParser("hashHTMLBlocks")(e,t,n),e=x.subParser("paragraphs")(e,t,n),n.converter._dispatch("blockGamut.after",e,t,n)}),x.subParser("blockQuotes",function(e,t,n){e=n.converter._dispatch("blockQuotes.before",e,t,n);var r=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(r=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=(e+="\n\n").replace(r,function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),e=x.subParser("githubCodeBlocks")(e,t,n),e=(e=(e=x.subParser("blockGamut")(e,t,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){return t.replace(/^  /gm,"0").replace(/\xa80/g,"")}),x.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,n)}),n.converter._dispatch("blockQuotes.after",e,t,n)}),x.subParser("codeBlocks",function(e,i,o){return e=o.converter._dispatch("codeBlocks.before",e,i,o),e=(e=(e+="0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(e,t,n){var r="\n",t=x.subParser("outdent")(t,i,o);return t=x.subParser("encodeCode")(t,i,o),t="<pre><code>"+(t=(t=(t=x.subParser("detab")(t,i,o)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+(r=i.omitExtraWLInCodeBlocks?"":r)+"</code></pre>",x.subParser("hashBlock")(t,i,o)+n})).replace(/\xa80/,""),o.converter._dispatch("codeBlocks.after",e,i,o)}),x.subParser("codeSpans",function(e,i,o){return e=(e=void 0===(e=o.converter._dispatch("codeSpans.before",e,i,o))?"":e).replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r){r=(r=(r=r).replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,"");return r=t+"<code>"+x.subParser("encodeCode")(r,i,o)+"</code>",x.subParser("hashHTMLSpans")(r,i,o)}),o.converter._dispatch("codeSpans.after",e,i,o)}),x.subParser("completeHTMLDocument",function(e,t,n){if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var r,i="html",o="<!DOCTYPE HTML>\n",a="",s='<meta charset="utf-8">\n',l="",c="";for(r in void 0!==n.metadata.parsed.doctype&&(o="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(i=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==i||(s='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(r))switch(r.toLowerCase()){case"doctype":break;case"title":a="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":s="html"===i||"html5"===i?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":l=' lang="'+n.metadata.parsed[r]+'"',c+='<meta name="'+r+'" content="'+n.metadata.parsed[r]+'">\n';break;default:c+='<meta name="'+r+'" content="'+n.metadata.parsed[r]+'">\n'}return e=o+"<html"+l+">\n<head>\n"+a+s+c+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",n.converter._dispatch("completeHTMLDocument.after",e,t,n)}),x.subParser("detab",function(e,t,n){return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"AB")).replace(/\xa8B(.+?)\xa8A/g,function(e,t){for(var n=t,r=4-n.length%4,i=0;i<r;i++)n+=" ";return n})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),n.converter._dispatch("detab.after",e,t,n)}),x.subParser("ellipsis",function(e,t,n){return t.ellipsis?(e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,""),n.converter._dispatch("ellipsis.after",e,t,n)):e}),x.subParser("emoji",function(e,t,n){return t.emoji?(e=(e=n.converter._dispatch("emoji.before",e,t,n)).replace(/:([\S]+?):/g,function(e,t){return x.helper.emojis.hasOwnProperty(t)?x.helper.emojis[t]:e}),n.converter._dispatch("emoji.after",e,t,n)):e}),x.subParser("encodeAmpsAndAngles",function(e,t,n){return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)}),x.subParser("encodeBackslashEscapes",function(e,t,n){return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,t,n)).replace(/\\(\\)/g,x.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,x.helper.escapeCharactersCallback),n.converter._dispatch("encodeBackslashEscapes.after",e,t,n)}),x.subParser("encodeCode",function(e,t,n){return e=(e=n.converter._dispatch("encodeCode.before",e,t,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,x.helper.escapeCharactersCallback),n.converter._dispatch("encodeCode.after",e,t,n)}),x.subParser("escapeSpecialCharsWithinTagAttributes",function(e,t,n){return e=(e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,x.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(e){return e.replace(/([\\`*_~=|])/g,x.helper.escapeCharactersCallback)}),n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,n)}),x.subParser("githubCodeBlocks",function(e,o,a){return o.ghCodeBlocks?(e=a.converter._dispatch("githubCodeBlocks.before",e,o,a),e=(e=(e+="0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(e,t,n,r){var i=o.omitExtraWLInCodeBlocks?"":"\n";return r=x.subParser("encodeCode")(r,o,a),r="<pre><code"+(n?' class="'+n+" language-"+n+'"':"")+">"+(r=(r=(r=x.subParser("detab")(r,o,a)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+i+"</code></pre>",r=x.subParser("hashBlock")(r,o,a),"\n\nG"+(a.ghCodeBlocks.push({text:e,codeblock:r})-1)+"G\n\n"})).replace(/\xa80/,""),a.converter._dispatch("githubCodeBlocks.after",e,o,a)):e}),x.subParser("hashBlock",function(e,t,n){return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\nK"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",n.converter._dispatch("hashBlock.after",e,t,n)}),x.subParser("hashCodeTags",function(e,i,o){return e=o.converter._dispatch("hashCodeTags.before",e,i,o),e=x.helper.replaceRecursiveRegExp(e,function(e,t,n,r){n=n+x.subParser("encodeCode")(t,i,o)+r;return"C"+(o.gHtmlSpans.push(n)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),o.converter._dispatch("hashCodeTags.after",e,i,o)}),x.subParser("hashElement",function(e,t,r){return function(e,t){var n=t,n=(n=(n=t.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,"");return"\n\nK"+(r.gHtmlBlocks.push(n)-1)+"K\n\n"}}),x.subParser("hashHTMLBlocks",function(e,t,i){e=i.converter._dispatch("hashHTMLBlocks.before",e,t,i);function n(e,t,n,r){return-1!==n.search(/\bmarkdown\b/)&&(e=n+i.converter.makeHtml(t)+r),"\n\nK"+(i.gHtmlBlocks.push(e)-1)+"K\n\n"}var r=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"];t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,function(e,t){return"&lt;"+t+"&gt;"}));for(var o=0;o<r.length;++o)for(var a=new RegExp("^ {0,3}(<"+r[o]+"\\b[^>]*>)","im"),s="<"+r[o]+"\\b[^>]*>",l="</"+r[o]+">";-1!==(c=x.helper.regexIndexOf(e,a));){var c=x.helper.splitAtIndex(e,c),u=x.helper.replaceRecursiveRegExp(c[1],n,s,l,"im");if(u===c[1])break;e=c[0].concat(u)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,x.subParser("hashElement")(e,t,i)),e=(e=x.helper.replaceRecursiveRegExp(e,function(e){return"\n\nK"+(i.gHtmlBlocks.push(e)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,x.subParser("hashElement")(e,t,i)),i.converter._dispatch("hashHTMLBlocks.after",e,t,i)}),x.subParser("hashHTMLSpans",function(e,t,n){function r(e){return"C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,r)).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,r)).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,r)).replace(/<[^>]+?>/gi,r),n.converter._dispatch("hashHTMLSpans.after",e,t,n)}),x.subParser("unhashHTMLSpans",function(e,t,n){e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var r=0;r<n.gHtmlSpans.length;++r){for(var i=n.gHtmlSpans[r],o=0;/\xa8C(\d+)C/.test(i);){var a=RegExp.$1,i=i.replace("C"+a+"C",n.gHtmlSpans[a]);if(10===o){console.error("maximum nesting of 10 spans reached!!!");break}++o}e=e.replace("C"+r+"C",i)}return n.converter._dispatch("unhashHTMLSpans.after",e,t,n)}),x.subParser("hashPreCodeTags",function(e,i,o){return e=o.converter._dispatch("hashPreCodeTags.before",e,i,o),e=x.helper.replaceRecursiveRegExp(e,function(e,t,n,r){n=n+x.subParser("encodeCode")(t,i,o)+r;return"\n\nG"+(o.ghCodeBlocks.push({text:e,codeblock:n})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),o.converter._dispatch("hashPreCodeTags.after",e,i,o)}),x.subParser("headers",function(e,i,o){e=o.converter._dispatch("headers.before",e,i,o);var a=isNaN(parseInt(i.headerLevelStart))?1:parseInt(i.headerLevelStart),t=i.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;function s(e){var t=e=i.customizedHeaderId&&(t=e.match(/\{([^{]+?)}\s*$/))&&t[1]?t[1]:e,e=x.helper.isString(i.prefixHeaderId)?i.prefixHeaderId:!0===i.prefixHeaderId?"section-":"";return i.rawPrefixHeaderId||(t=e+t),t=(i.ghCompatibleHeaderId?t.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,""):i.rawHeaderId?t.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"").replace(/\xa8D/g,"$").replace(/["']/g,"-"):t.replace(/[^\w]/g,"")).toLowerCase(),o.hashLinkCounts[t=i.rawPrefixHeaderId?e+t:t]?t=t+"-"+o.hashLinkCounts[t]++:o.hashLinkCounts[t]=1,t}return e=(e=(e=e.replace(i.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){var n=x.subParser("spanGamut")(t,i,o),t=i.noHeaderId?"":' id="'+s(t)+'"',t="<h"+a+t+">"+n+"</h"+a+">";return x.subParser("hashBlock")(t,i,o)})).replace(t,function(e,t){var n=x.subParser("spanGamut")(t,i,o),t=i.noHeaderId?"":' id="'+s(t)+'"',r=a+1,t="<h"+r+t+">"+n+"</h"+r+">";return x.subParser("hashBlock")(t,i,o)})).replace(i.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(e,t,n){var r=n,r=(i.customizedHeaderId&&(r=n.replace(/\s?\{([^{]+?)}\s*$/,"")),x.subParser("spanGamut")(r,i,o)),n=i.noHeaderId?"":' id="'+s(n)+'"',t=a-1+t.length,n="<h"+t+n+">"+r+"</h"+t+">";return x.subParser("hashBlock")(n,i,o)}),o.converter._dispatch("headers.after",e,i,o)}),x.subParser("horizontalRule",function(e,t,n){e=n.converter._dispatch("horizontalRule.before",e,t,n);var r=x.subParser("hashBlock")("<hr />",t,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,r),n.converter._dispatch("horizontalRule.after",e,t,n)}),x.subParser("images",function(e,t,h){function l(e,t,n,r,i,o,a,s){var l=h.gUrls,c=h.gTitles,u=h.gDimensions;if(n=n.toLowerCase(),s=s||"",-1<e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))r="";else if(""===r||null===r){if(r="#"+(n=""!==n&&null!==n?n:t.toLowerCase().replace(/ ?\n/g," ")),x.helper.isUndefined(l[n]))return e;r=l[n],x.helper.isUndefined(c[n])||(s=c[n]),x.helper.isUndefined(u[n])||(i=u[n].width,o=u[n].height)}t=t.replace(/"/g,"&quot;").replace(x.helper.regexes.asteriskDashAndColon,x.helper.escapeCharactersCallback);e='<img src="'+(r=r.replace(x.helper.regexes.asteriskDashAndColon,x.helper.escapeCharactersCallback))+'" alt="'+t+'"';return s&&x.helper.isString(s)&&(e+=' title="'+(s=s.replace(/"/g,"&quot;").replace(x.helper.regexes.asteriskDashAndColon,x.helper.escapeCharactersCallback))+'"'),(e=i&&o?e+(' width="'+(i="*"===i?"auto":i)+'"')+(' height="'+(o="*"===o?"auto":o)+'"'):e)+" />"}return e=(e=(e=(e=(e=(e=h.converter._dispatch("images.before",e,t,h)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,l)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(e,t,n,r,i,o,a,s){return l(e,t,n,r=r.replace(/\s/g,""),i,o,0,s)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,l)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,l)).replace(/!\[([^\[\]]+)]()()()()()/g,l),h.converter._dispatch("images.after",e,t,h)}),x.subParser("italicsAndBold",function(e,t,n){return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return"<strong><em>"+t+"</em></strong>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return"<strong>"+t+"</strong>"})).replace(/\b_(\S[\s\S]*?)_\b/g,function(e,t){return"<em>"+t+"</em>"}):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?"<strong><em>"+t+"</em></strong>":e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?"<strong>"+t+"</strong>":e})).replace(/_([^\s_][\s\S]*?)_/g,function(e,t){return/\S$/.test(t)?"<em>"+t+"</em>":e}),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(e,t,n){return t+"<strong><em>"+n+"</em></strong>"})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(e,t,n){return t+"<strong>"+n+"</strong>"})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(e,t,n){return t+"<em>"+n+"</em>"}):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(e,t){return/\S$/.test(t)?"<strong><em>"+t+"</em></strong>":e})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(e,t){return/\S$/.test(t)?"<strong>"+t+"</strong>":e})).replace(/\*([^\s*][\s\S]*?)\*/g,function(e,t){return/\S$/.test(t)?"<em>"+t+"</em>":e}),n.converter._dispatch("italicsAndBold.after",e,t,n)}),x.subParser("lists",function(e,h,c){function d(e,t){c.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,l=/\n[ \t]*\n(?!\xa80)/.test(e+="0");return h.disableForced4SpacesIndentedSublists&&(n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(n,function(e,t,n,r,i,o,a){a=a&&""!==a.trim();var i=x.subParser("outdent")(i,h,c),s="";return o&&h.tasklists&&(s=' class="task-list-item" style="list-style-type: none;"',i=i.replace(/^[ \t]*\[(x|X| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return a&&(e+=" checked"),e+">"})),i=i.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(e){return"A"+e}),"<li"+s+">"+(i=(t||-1<i.search(/\n{2,}/)?(i=x.subParser("githubCodeBlocks")(i,h,c),x.subParser("blockGamut")):(i=(i=x.subParser("lists")(i,h,c)).replace(/\n$/,""),i=(i=x.subParser("hashHTMLBlocks")(i,h,c)).replace(/\n\n+/g,"\n\n"),x.subParser(l?"paragraphs":"spanGamut")))(i,h,c)).replace("A","")+"</li>\n"})).replace(/\xa80/g,""),c.gListLevel--,e=t?e.replace(/\s+$/,""):e}function f(e,t){if("ol"===t){t=e.match(/^ *(\d+)\./);if(t&&"1"!==t[1])return' start="'+t[1]+'"'}return""}function i(i,o,a){var e,s=h.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,l=h.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,c="ul"===o?s:l,u="";return-1!==i.search(c)?function e(t){var n=t.search(c),r=f(i,o);-1!==n?(u+="\n\n<"+o+r+">\n"+d(t.slice(0,n),!!a)+"</"+o+">\n",c="ul"==(o="ul"===o?"ol":"ul")?s:l,e(t.slice(n))):u+="\n\n<"+o+r+">\n"+d(t,!!a)+"</"+o+">\n"}(i):(e=f(i,o),u="\n\n<"+o+e+">\n"+d(i,!!a)+"</"+o+">\n"),u}return e=c.converter._dispatch("lists.before",e,h,c),e+="0",e=(e=c.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n){return i(t,-1<n.search(/[*+-]/g)?"ul":"ol",!0)}):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n,r){return i(n,-1<r.search(/[*+-]/g)?"ul":"ol",!1)})).replace(/\xa80/,""),c.converter._dispatch("lists.after",e,h,c)}),x.subParser("metadata",function(e,t,r){return t.metadata?(e=(e=(e=(e=r.converter._dispatch("metadata.before",e,t,r)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(e,t,n){return i(n),"M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(e,t,n){return t&&(r.metadata.format=t),i(n),"M"})).replace(/\xa8M/g,""),r.converter._dispatch("metadata.after",e,t,r)):e;function i(e){(e=(e=(r.metadata.raw=e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(e,t,n){return r.metadata.parsed[t]=n,""})}}),x.subParser("outdent",function(e,t,n){return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"0")).replace(/\xa80/g,""),n.converter._dispatch("outdent.after",e,t,n)}),x.subParser("paragraphs",function(e,t,n){for(var r=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),i=[],o=r.length,a=0;a<o;a++){var s=r[a];0<=s.search(/\xa8(K|G)(\d+)\1/g)?i.push(s):0<=s.search(/\S/)&&(s=(s=x.subParser("spanGamut")(s,t,n)).replace(/^([ \t]*)/g,"<p>"),i.push(s+="</p>"))}for(o=i.length,a=0;a<o;a++){for(var l="",c=i[a],u=!1;/\xa8(K|G)(\d+)\1/.test(c);){var h=RegExp.$1,d=RegExp.$2,l=(l="K"===h?n.gHtmlBlocks[d]:u?x.subParser("encodeCode")(n.ghCodeBlocks[d].text,t,n):n.ghCodeBlocks[d].codeblock).replace(/\$/g,"$$$$"),c=c.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,l);/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(c)&&(u=!0)}i[a]=c}return e=(e=(e=i.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)}),x.subParser("runExtension",function(e,t,n,r){return e.filter?t=e.filter(t,r.converter,n):e.regex&&((r=e.regex)instanceof RegExp||(r=new RegExp(r,"g")),t=t.replace(r,e.replace)),t}),x.subParser("spanGamut",function(e,t,n){return e=n.converter._dispatch("spanGamut.before",e,t,n),e=x.subParser("codeSpans")(e,t,n),e=x.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=x.subParser("encodeBackslashEscapes")(e,t,n),e=x.subParser("images")(e,t,n),e=x.subParser("anchors")(e,t,n),e=x.subParser("autoLinks")(e,t,n),e=x.subParser("simplifiedAutoLinks")(e,t,n),e=x.subParser("emoji")(e,t,n),e=x.subParser("underline")(e,t,n),e=x.subParser("italicsAndBold")(e,t,n),e=x.subParser("strikethrough")(e,t,n),e=x.subParser("ellipsis")(e,t,n),e=x.subParser("hashHTMLSpans")(e,t,n),e=x.subParser("encodeAmpsAndAngles")(e,t,n),t.simpleLineBreaks?/\n\n\xa8K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),n.converter._dispatch("spanGamut.after",e,t,n)}),x.subParser("strikethrough",function(e,n,r){return n.strikethrough&&(e=(e=r.converter._dispatch("strikethrough.before",e,n,r)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(e,t){return t=t,"<del>"+(t=n.simplifiedAutoLink?x.subParser("simplifiedAutoLinks")(t,n,r):t)+"</del>"}),e=r.converter._dispatch("strikethrough.after",e,n,r)),e}),x.subParser("stripLinkDefinitions",function(s,l,c){function e(e,t,n,r,i,o,a){return t=t.toLowerCase(),s.toLowerCase().split(t).length-1<2?e:(c.gUrls[t]=n.match(/^data:.+?\/.+?;base64,/)?n.replace(/\s/g,""):x.subParser("encodeAmpsAndAngles")(n,l,c),o?o+a:(a&&(c.gTitles[t]=a.replace(/"|'/g,"&quot;")),l.parseImgDimensions&&r&&i&&(c.gDimensions[t]={width:r,height:i}),""))}return s=(s=(s=(s+="0").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,e)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,e)).replace(/\xa80/,"")}),x.subParser("tables",function(e,w,C){return w.tables?(e=(e=(e=(e=C.converter._dispatch("tables.before",e,w,C)).replace(/\\(\|)/g,x.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,t)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,t),C.converter._dispatch("tables.after",e,w,C)):e;function t(e){for(var t=e.split("\n"),n=0;n<t.length;++n)/^ {0,3}\|/.test(t[n])&&(t[n]=t[n].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(t[n])&&(t[n]=t[n].replace(/\|[ \t]*$/,"")),t[n]=x.subParser("codeSpans")(t[n],w,C);var r,i,o,a,s,l=t[0].split("|").map(function(e){return e.trim()}),c=t[1].split("|").map(function(e){return e.trim()}),u=[],h=[],d=[],f=[];for(t.shift(),t.shift(),n=0;n<t.length;++n)""!==t[n].trim()&&u.push(t[n].split("|").map(function(e){return e.trim()}));if(l.length<c.length)return e;for(n=0;n<c.length;++n)d.push(/^:[ \t]*--*$/.test(r=c[n])?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(r)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(r)?' style="text-align:center;"':"");for(n=0;n<l.length;++n)x.helper.isUndefined(d[n])&&(d[n]=""),h.push((o=d[n],void 0,a="",i=(i=l[n]).trim(),"<th"+(a=w.tablesHeaderId||w.tableHeaderId?' id="'+i.replace(/ /g,"_").toLowerCase()+'"':a)+o+">"+(i=x.subParser("spanGamut")(i,w,C))+"</th>\n"));for(n=0;n<u.length;++n){for(var p=[],g=0;g<h.length;++g)x.helper.isUndefined(u[n][g]),p.push((s=u[n][g],"<td"+d[g]+">"+x.subParser("spanGamut")(s,w,C)+"</td>\n"));f.push(p)}for(var v=h,m=f,y="<table>\n<thead>\n<tr>\n",k=v.length,b=0;b<k;++b)y+=v[b];for(y+="</tr>\n</thead>\n<tbody>\n",b=0;b<m.length;++b){y+="<tr>\n";for(var _=0;_<k;++_)y+=m[b][_];y+="</tr>\n"}return y+"</tbody>\n</table>\n"}}),x.subParser("underline",function(e,t,n){return t.underline?(e=n.converter._dispatch("underline.before",e,t,n),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return"<u>"+t+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return"<u>"+t+"</u>"}):(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/(_)/g,x.helper.escapeCharactersCallback),n.converter._dispatch("underline.after",e,t,n)):e}),x.subParser("unescapeSpecialChars",function(e,t,n){return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/\xa8E(\d+)E/g,function(e,t){t=parseInt(t);return String.fromCharCode(t)}),n.converter._dispatch("unescapeSpecialChars.after",e,t,n)}),x.subParser("makeMarkdown.blockquote",function(e,t){var n="";if(e.hasChildNodes())for(var r=e.childNodes,i=r.length,o=0;o<i;++o){var a=x.subParser("makeMarkdown.node")(r[o],t);""!==a&&(n+=a)}return"> "+(n=n.trim()).split("\n").join("\n> ")}),x.subParser("makeMarkdown.codeBlock",function(e,t){var n=e.getAttribute("language"),e=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[e]+"\n```"}),x.subParser("makeMarkdown.codeSpan",function(e){return"`"+e.innerHTML+"`"}),x.subParser("makeMarkdown.emphasis",function(e,t){var n="";if(e.hasChildNodes()){n+="*";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=x.subParser("makeMarkdown.node")(r[o],t);n+="*"}return n}),x.subParser("makeMarkdown.header",function(e,t,n){var n=new Array(n+1).join("#"),r="";if(e.hasChildNodes())for(var r=n+" ",i=e.childNodes,o=i.length,a=0;a<o;++a)r+=x.subParser("makeMarkdown.node")(i[a],t);return r}),x.subParser("makeMarkdown.hr",function(){return"---"}),x.subParser("makeMarkdown.image",function(e){var t="";return e.hasAttribute("src")&&(t=(t+="!["+e.getAttribute("alt")+"](")+("<"+e.getAttribute("src")+">"),e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t}),x.subParser("makeMarkdown.links",function(e,t){var n="";if(e.hasChildNodes()&&e.hasAttribute("href")){for(var r=e.childNodes,i=r.length,n="[",o=0;o<i;++o)n+=x.subParser("makeMarkdown.node")(r[o],t);n=(n+="](")+("<"+e.getAttribute("href")+">"),e.hasAttribute("title")&&(n+=' "'+e.getAttribute("title")+'"'),n+=")"}return n}),x.subParser("makeMarkdown.list",function(e,t,n){var r="";if(!e.hasChildNodes())return"";for(var i=e.childNodes,o=i.length,a=e.getAttribute("start")||1,s=0;s<o;++s)void 0!==i[s].tagName&&"li"===i[s].tagName.toLowerCase()&&(r+=("ol"===n?a.toString()+". ":"- ")+x.subParser("makeMarkdown.listItem")(i[s],t),++a);return(r+="\n\x3c!-- --\x3e\n").trim()}),x.subParser("makeMarkdown.listItem",function(e,t){for(var n="",r=e.childNodes,i=r.length,o=0;o<i;++o)n+=x.subParser("makeMarkdown.node")(r[o],t);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n}),x.subParser("makeMarkdown.node",function(e,t,n){n=n||!1;var r="";if(3===e.nodeType)return x.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(r=x.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":n||(r=x.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":n||(r=x.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":n||(r=x.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":n||(r=x.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":n||(r=x.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":n||(r=x.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":n||(r=x.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":n||(r=x.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":n||(r=x.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":n||(r=x.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":n||(r=x.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":n||(r=x.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":n||(r=x.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":r=x.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":r=x.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":r=x.subParser("makeMarkdown.strong")(e,t);break;case"del":r=x.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":r=x.subParser("makeMarkdown.links")(e,t);break;case"img":r=x.subParser("makeMarkdown.image")(e,t);break;default:r=e.outerHTML+"\n\n"}return r}),x.subParser("makeMarkdown.paragraph",function(e,t){var n="";if(e.hasChildNodes())for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=x.subParser("makeMarkdown.node")(r[o],t);return n.trim()}),x.subParser("makeMarkdown.pre",function(e,t){e=e.getAttribute("prenum");return"<pre>"+t.preList[e]+"</pre>"}),x.subParser("makeMarkdown.strikethrough",function(e,t){var n="";if(e.hasChildNodes()){n+="~~";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=x.subParser("makeMarkdown.node")(r[o],t);n+="~~"}return n}),x.subParser("makeMarkdown.strong",function(e,t){var n="";if(e.hasChildNodes()){n+="**";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=x.subParser("makeMarkdown.node")(r[o],t);n+="**"}return n}),x.subParser("makeMarkdown.table",function(e,t){for(var n="",r=[[],[]],i=e.querySelectorAll("thead>tr>th"),o=e.querySelectorAll("tbody>tr"),a=0;a<i.length;++a){var s=x.subParser("makeMarkdown.tableCell")(i[a],t),l="---";if(i[a].hasAttribute("style"))switch(i[a].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":l=":---";break;case"text-align:right;":l="---:";break;case"text-align:center;":l=":---:"}r[0][a]=s.trim(),r[1][a]=l}for(a=0;a<o.length;++a)for(var c=r.push([])-1,u=o[a].getElementsByTagName("td"),h=0;h<i.length;++h){var d=" ";void 0!==u[h]&&(d=x.subParser("makeMarkdown.tableCell")(u[h],t)),r[c].push(d)}var f=3;for(a=0;a<r.length;++a)for(h=0;h<r[a].length;++h){var p=r[a][h].length;f<p&&(f=p)}for(a=0;a<r.length;++a){for(h=0;h<r[a].length;++h)r[a][h]=1===a?":"===r[a][h].slice(-1)?x.helper.padEnd(r[a][h].slice(-1),f-1,"-")+":":x.helper.padEnd(r[a][h],f,"-"):x.helper.padEnd(r[a][h],f);n+="| "+r[a].join(" | ")+" |\n"}return n.trim()}),x.subParser("makeMarkdown.tableCell",function(e,t){var n="";if(!e.hasChildNodes())return"";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=x.subParser("makeMarkdown.node")(r[o],t,!0);return n.trim()}),x.subParser("makeMarkdown.txt",function(e){e=(e=(e=e.nodeValue).replace(/ +/g," ")).replace(/\xa8NBSP;/g," ");return(e=(e=(e=(e=(e=(e=(e=(e=x.helper.unescapeHTMLEntities(e)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}),void 0!==(k=function(){return x}.call(t,y,t,e))&&(e.exports=k)}.call(this)},USe2:function(e){e.exports=JSON.parse('[{"language":"plaintext","label":"Plaintext"},{"language":"1c","label":"1C"},{"language":"abnf","label":"ABNF"},{"language":"armasm","label":"ARM assembler"},{"language":"avrasm","label":"AVR assembler"},{"language":"accesslog","label":"Access logs"},{"language":"actionscript","label":"ActionScript"},{"language":"ada","label":"Ada"},{"language":"angelscript","label":"AngelScript"},{"language":"apache","label":"Apache"},{"language":"applescript","label":"AppleScript"},{"language":"arcade","label":"Arcade"},{"language":"arduino","label":"Arduino (C++ w/Arduino libs)"},{"language":"asciidoc","label":"AsciiDoc"},{"language":"aspectj","label":"AspectJ"},{"language":"autohotkey","label":"AutoHotkey"},{"language":"autoit","label":"AutoIt"},{"language":"awk","label":"Awk"},{"language":"bnf","label":"BNF"},{"language":"bash","label":"Bash"},{"language":"basic","label":"Basic"},{"language":"brainfuck","label":"Brainfuck"},{"language":"c","label":"C"},{"language":"csharp","label":"C#"},{"language":"cpp","label":"C++"},{"language":"cal","label":"C/AL"},{"language":"cmake","label":"CMake"},{"language":"csp","label":"CSP"},{"language":"css","label":"CSS"},{"language":"cos","label":"Cache Object Script"},{"language":"capnproto","label":"Capn Proto"},{"language":"clojure","label":"Clojure"},{"language":"coffeescript","label":"CoffeeScript"},{"language":"coq","label":"Coq"},{"language":"crmsh","label":"Crmsh"},{"language":"crystal","label":"Crystal"},{"language":"d","label":"D"},{"language":"dns","label":"DNS Zone file"},{"language":"dos","label":"DOS"},{"language":"dts","label":"DTS (Device Tree)"},{"language":"dart","label":"Dart"},{"language":"delphi","label":"Delphi"},{"language":"diff","label":"Diff"},{"language":"django","label":"Django"},{"language":"dockerfile","label":"Dockerfile"},{"language":"dust","label":"Dust"},{"language":"ebnf","label":"EBNF"},{"language":"elixir","label":"Elixir"},{"language":"elm","label":"Elm"},{"language":"erlang","label":"Erlang"},{"language":"excel","label":"Excel"},{"language":"fsharp","label":"F#"},{"language":"fix","label":"FIX"},{"language":"fortran","label":"Fortran"},{"language":"gcode","label":"G-Code"},{"language":"gauss","label":"GAUSS"},{"language":"gams","label":"Gams"},{"language":"gherkin","label":"Gherkin"},{"language":"go","label":"Go"},{"language":"golo","label":"Golo"},{"language":"gradle","label":"Gradle"},{"language":"groovy","label":"Groovy"},{"language":"xml","label":"HTML, XML"},{"language":"http","label":"HTTP"},{"language":"haml","label":"Haml"},{"language":"handlebars","label":"Handlebars"},{"language":"haskell","label":"Haskell"},{"language":"haxe","label":"Haxe"},{"language":"hy","label":"Hy"},{"language":"irpf90","label":"IRPF90"},{"language":"inform7","label":"Inform7"},{"language":"ini","label":"Ini, TOML"},{"language":"json","label":"JSON"},{"language":"java","label":"Java"},{"language":"javascript","label":"JavaScript"},{"language":"julia","label":"Julia"},{"language":"kotlin","label":"Kotlin"},{"language":"ldif","label":"LDIF"},{"language":"tex","label":"LaTeX"},{"language":"lasso","label":"Lasso"},{"language":"leaf","label":"Leaf"},{"language":"less","label":"Less"},{"language":"lisp","label":"Lisp"},{"language":"livecodeserver","label":"LiveCode Server"},{"language":"livescript","label":"LiveScript"},{"language":"lua","label":"Lua"},{"language":"makefile","label":"Makefile"},{"language":"markdown","label":"Markdown"},{"language":"mathematica","label":"Mathematica"},{"language":"matlab","label":"Matlab"},{"language":"maxima","label":"Maxima"},{"language":"mel","label":"Maya Embedded Language"},{"language":"mercury","label":"Mercury"},{"language":"mizar","label":"Mizar"},{"language":"mojolicious","label":"Mojolicious"},{"language":"monkey","label":"Monkey"},{"language":"moonscript","label":"Moonscript"},{"language":"n1ql","label":"N1QL"},{"language":"nsis","label":"NSIS"},{"language":"nginx","label":"Nginx"},{"language":"nim","label":"Nim"},{"language":"nix","label":"Nix"},{"language":"ocaml","label":"OCaml"},{"language":"objectivec","label":"Objective C"},{"language":"glsl","label":"OpenGL Shading Language"},{"language":"openscad","label":"OpenSCAD"},{"language":"ruleslanguage","label":"Oracle Rules Language"},{"language":"oxygene","label":"Oxygene"},{"language":"pf","label":"PF"},{"language":"php","label":"PHP"},{"language":"parser3","label":"Parser3"},{"language":"perl","label":"Perl"},{"language":"pony","label":"Pony"},{"language":"pgsql","label":"PostgreSQL & PL/pgSQL"},{"language":"powershell","label":"PowerShell"},{"language":"processing","label":"Processing"},{"language":"prolog","label":"Prolog"},{"language":"properties","label":"Properties"},{"language":"protobuf","label":"Protocol Buffers"},{"language":"puppet","label":"Puppet"},{"language":"python","label":"Python"},{"language":"python-repl","label":"Python REPL"},{"language":"profile","label":"Python profiler results"},{"language":"k","label":"Q"},{"language":"qml","label":"QML"},{"language":"r","label":"R"},{"language":"reasonml","label":"ReasonML"},{"language":"rib","label":"RenderMan RIB"},{"language":"rsl","label":"RenderMan RSL"},{"language":"graph","label":"Roboconf"},{"language":"ruby","label":"Ruby"},{"language":"rust","label":"Rust"},{"language":"SAS","label":"SAS"},{"language":"scss","label":"SCSS"},{"language":"sml","label":"SML"},{"language":"sql","label":"SQL"},{"language":"p21","label":"STEP Part 21"},{"language":"scala","label":"Scala"},{"language":"scheme","label":"Scheme"},{"language":"scilab","label":"Scilab"},{"language":"shell","label":"Shell"},{"language":"smali","label":"Smali"},{"language":"smalltalk","label":"Smalltalk"},{"language":"stan","label":"Stan"},{"language":"stata","label":"Stata"},{"language":"stylus","label":"Stylus"},{"language":"subunit","label":"SubUnit"},{"language":"swift","label":"Swift"},{"language":"tp","label":"TP"},{"language":"tcl","label":"Tcl"},{"language":"tap","label":"Test Anything Protocol"},{"language":"thrift","label":"Thrift"},{"language":"twig","label":"Twig"},{"language":"typescript","label":"TypeScript"},{"language":"vbnet","label":"VB.Net"},{"language":"vbscript","label":"VBScript"},{"language":"vhdl","label":"VHDL"},{"language":"vala","label":"Vala"},{"language":"verilog","label":"Verilog"},{"language":"vim","label":"Vim Script"},{"language":"axapta","label":"X++"},{"language":"xl","label":"XL"},{"language":"xquery","label":"XQuery"},{"language":"yml","label":"YAML"},{"language":"zephir","label":"Zephir"},{"language":"dsconfig","label":"dsconfig"},{"language":"x86asm","label":"x86 Assembly"}]')},ek6d:function(e){e.exports=JSON.parse('{"api":"https://api.taiga.io/api/v1/","defaultLanguage":"en"}')},zbeE:function(e,t,n){function r(e,t){var n=this instanceof r?this:i;if(n.reset(t),"string"==typeof e&&0<e.length&&n.hash(e),n!==this)return n}var i;r.prototype.hash=function(e){var t,n,r,i,o;switch(this.len+=o=e.length,n=this.k1,this.rem){case r=0:n^=r<o?65535&e.charCodeAt(r++):0;case 1:n^=r<o?(65535&e.charCodeAt(r++))<<8:0;case 2:n^=r<o?(65535&e.charCodeAt(r++))<<16:0;case 3:n=(n^=r<o?(255&e.charCodeAt(r))<<24:0)^(r<o?(65280&e.charCodeAt(r++))>>8:0)}if(this.rem=o+this.rem&3,0<(o-=this.rem)){for(t=this.h1;t=5*((t^=n=13715*(n=(n=11601*n+3432906752*(65535&n)&4294967295)<<15|n>>>17)+461832192*(65535&n)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(o<=r);)n=65535&e.charCodeAt(r++)^(65535&e.charCodeAt(r++))<<8^(65535&e.charCodeAt(r++))<<16,n^=(255&(i=e.charCodeAt(r++)))<<24^(65280&i)>>8;switch(n=0,this.rem){case 3:n^=(65535&e.charCodeAt(r+2))<<16;case 2:n^=(65535&e.charCodeAt(r+1))<<8;case 1:n^=65535&e.charCodeAt(r)}this.h1=t}return this.k1=n,this},r.prototype.result=function(){var e,t=this.h1;return 0<(e=this.k1)&&(t^=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t=51819*(t=(t^=this.len)^t>>>16)+2246770688*(65535&t)&4294967295,((t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295)^t>>>16)>>>0},r.prototype.reset=function(e){return this.h1="number"==typeof e?e:0,this.rem=this.k1=this.len=0,this},i=new r,e.exports=r},zn8P:function(e,t){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},(e.exports=n.resolve=n).id="zn8P"}},[[0,0]]])})();